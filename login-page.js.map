{"version":3,"file":"login-page.js","sources":["../node_modules/@lit/reactive-element/css-tag.js","../node_modules/@lit/reactive-element/reactive-element.js","../node_modules/lit-html/lit-html.js","../node_modules/lit-element/lit-element.js","../src/login-header.js","../src/login-footer.js","../node_modules/@open-wc/dedupe-mixin/src/dedupeMixin.js","../node_modules/@lion/ui/components/form-core/src/FocusMixin.js","../node_modules/@lion/ui/components/core/src/DisabledMixin.js","../node_modules/@lion/ui/components/core/src/DisabledWithTabIndexMixin.js","../node_modules/@lion/ui/components/core/src/SlotMixin.js","../node_modules/lit-html/directive-helpers.js","../node_modules/@lion/ui/components/core/src/browserDetection.js","../node_modules/@lion/ui/components/core/src/uuid.js","../node_modules/@lion/ui/components/form-core/src/utils/getAriaElementsInRightDomOrder.js","../node_modules/@lion/ui/components/form-core/src/validate/Unparseable.js","../node_modules/@lion/ui/components/form-core/src/registration/FormRegisteringMixin.js","../node_modules/@lion/ui/components/form-core/src/FormControlMixin.js","../node_modules/@bundled-es-modules/message-format/MessageFormat.js","../node_modules/@lion/ui/components/localize/src/LocalizeManager.js","../node_modules/@lion/ui/components/localize/src/isLocalizeESModule.js","../node_modules/singleton-manager/src/SingletonManagerClass.js","../node_modules/singleton-manager/src/index.js","../node_modules/@lion/ui/components/localize/src/getLocalizeManager.js","../node_modules/lit-html/directive.js","../node_modules/lit-html/async-directive.js","../node_modules/lit-html/directives/private-async-helpers.js","../node_modules/lit-html/directives/until.js","../node_modules/@lion/ui/components/localize/src/LocalizeMixin.js","../node_modules/@open-wc/scoped-elements/html-element.js","../node_modules/@open-wc/scoped-elements/lit-element.js","../node_modules/@lion/ui/components/core/src/ScopedElementsMixin.js","../node_modules/@lion/ui/components/form-core/src/utils/AsyncQueue.js","../node_modules/@lion/ui/components/form-core/src/utils/SyncUpdatableMixin.js","../node_modules/@lion/ui/components/form-core/src/localizeNamespaceLoader.js","../node_modules/@lion/ui/components/form-core/src/validate/LionValidationFeedback.js","../node_modules/@lion/ui/components/form-core/src/validate/Validator.js","../node_modules/@lion/ui/components/form-core/src/validate/ResultValidator.js","../node_modules/@lion/ui/components/form-core/src/validate/validators/Required.js","../node_modules/@lion/ui/components/form-core/src/validate/ValidateMixin.js","../node_modules/@lion/ui/components/form-core/src/utils/pascalCase.js","../node_modules/@lion/ui/components/form-core/src/FormatMixin.js","../node_modules/@lion/ui/components/form-core/src/InteractionStateMixin.js","../node_modules/@lion/ui/components/form-core/src/LionField.js","../node_modules/@lion/ui/components/form-core/src/NativeTextFieldMixin.js","../node_modules/@lion/ui/components/input/src/LionInput.js","../node_modules/@lion/ui/exports/define/lion-input.js","../node_modules/@lion/ui/components/button/src/LionButton.js","../node_modules/@lion/ui/exports/define/lion-button.js","../src/components/user-details.js","../src/auth-section.js","../src/login-page.js"],"sourcesContent":["/**\n * @license\n * Copyright 2019 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\nconst t=globalThis,e=t.ShadowRoot&&(void 0===t.ShadyCSS||t.ShadyCSS.nativeShadow)&&\"adoptedStyleSheets\"in Document.prototype&&\"replace\"in CSSStyleSheet.prototype,s=Symbol(),o=new WeakMap;class n{constructor(t,e,o){if(this._$cssResult$=!0,o!==s)throw Error(\"CSSResult is not constructable. Use `unsafeCSS` or `css` instead.\");this.cssText=t,this.t=e}get styleSheet(){let t=this.o;const s=this.t;if(e&&void 0===t){const e=void 0!==s&&1===s.length;e&&(t=o.get(s)),void 0===t&&((this.o=t=new CSSStyleSheet).replaceSync(this.cssText),e&&o.set(s,t))}return t}toString(){return this.cssText}}const r=t=>new n(\"string\"==typeof t?t:t+\"\",void 0,s),i=(t,...e)=>{const o=1===t.length?t[0]:e.reduce(((e,s,o)=>e+(t=>{if(!0===t._$cssResult$)return t.cssText;if(\"number\"==typeof t)return t;throw Error(\"Value passed to 'css' function must be a 'css' function result: \"+t+\". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.\")})(s)+t[o+1]),t[0]);return new n(o,t,s)},S=(s,o)=>{if(e)s.adoptedStyleSheets=o.map((t=>t instanceof CSSStyleSheet?t:t.styleSheet));else for(const e of o){const o=document.createElement(\"style\"),n=t.litNonce;void 0!==n&&o.setAttribute(\"nonce\",n),o.textContent=e.cssText,s.appendChild(o)}},c=e?t=>t:t=>t instanceof CSSStyleSheet?(t=>{let e=\"\";for(const s of t.cssRules)e+=s.cssText;return r(e)})(t):t;export{n as CSSResult,S as adoptStyles,i as css,c as getCompatibleStyle,e as supportsAdoptingStyleSheets,r as unsafeCSS};\n//# sourceMappingURL=css-tag.js.map\n","import{getCompatibleStyle as t,adoptStyles as s}from\"./css-tag.js\";export{CSSResult,adoptStyles,css,getCompatibleStyle,supportsAdoptingStyleSheets,unsafeCSS}from\"./css-tag.js\";\n/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */const{is:i,defineProperty:e,getOwnPropertyDescriptor:r,getOwnPropertyNames:h,getOwnPropertySymbols:o,getPrototypeOf:n}=Object,a=globalThis,c=a.trustedTypes,l=c?c.emptyScript:\"\",p=a.reactiveElementPolyfillSupport,d=(t,s)=>t,u={toAttribute(t,s){switch(s){case Boolean:t=t?l:null;break;case Object:case Array:t=null==t?t:JSON.stringify(t)}return t},fromAttribute(t,s){let i=t;switch(s){case Boolean:i=null!==t;break;case Number:i=null===t?null:Number(t);break;case Object:case Array:try{i=JSON.parse(t)}catch(t){i=null}}return i}},f=(t,s)=>!i(t,s),y={attribute:!0,type:String,converter:u,reflect:!1,hasChanged:f};Symbol.metadata??=Symbol(\"metadata\"),a.litPropertyMetadata??=new WeakMap;class b extends HTMLElement{static addInitializer(t){this._$Ei(),(this.l??=[]).push(t)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(t,s=y){if(s.state&&(s.attribute=!1),this._$Ei(),this.elementProperties.set(t,s),!s.noAccessor){const i=Symbol(),r=this.getPropertyDescriptor(t,i,s);void 0!==r&&e(this.prototype,t,r)}}static getPropertyDescriptor(t,s,i){const{get:e,set:h}=r(this.prototype,t)??{get(){return this[s]},set(t){this[s]=t}};return{get(){return e?.call(this)},set(s){const r=e?.call(this);h.call(this,s),this.requestUpdate(t,r,i)},configurable:!0,enumerable:!0}}static getPropertyOptions(t){return this.elementProperties.get(t)??y}static _$Ei(){if(this.hasOwnProperty(d(\"elementProperties\")))return;const t=n(this);t.finalize(),void 0!==t.l&&(this.l=[...t.l]),this.elementProperties=new Map(t.elementProperties)}static finalize(){if(this.hasOwnProperty(d(\"finalized\")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(d(\"properties\"))){const t=this.properties,s=[...h(t),...o(t)];for(const i of s)this.createProperty(i,t[i])}const t=this[Symbol.metadata];if(null!==t){const s=litPropertyMetadata.get(t);if(void 0!==s)for(const[t,i]of s)this.elementProperties.set(t,i)}this._$Eh=new Map;for(const[t,s]of this.elementProperties){const i=this._$Eu(t,s);void 0!==i&&this._$Eh.set(i,t)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(s){const i=[];if(Array.isArray(s)){const e=new Set(s.flat(1/0).reverse());for(const s of e)i.unshift(t(s))}else void 0!==s&&i.push(t(s));return i}static _$Eu(t,s){const i=s.attribute;return!1===i?void 0:\"string\"==typeof i?i:\"string\"==typeof t?t.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){this._$ES=new Promise((t=>this.enableUpdating=t)),this._$AL=new Map,this._$E_(),this.requestUpdate(),this.constructor.l?.forEach((t=>t(this)))}addController(t){(this._$EO??=new Set).add(t),void 0!==this.renderRoot&&this.isConnected&&t.hostConnected?.()}removeController(t){this._$EO?.delete(t)}_$E_(){const t=new Map,s=this.constructor.elementProperties;for(const i of s.keys())this.hasOwnProperty(i)&&(t.set(i,this[i]),delete this[i]);t.size>0&&(this._$Ep=t)}createRenderRoot(){const t=this.shadowRoot??this.attachShadow(this.constructor.shadowRootOptions);return s(t,this.constructor.elementStyles),t}connectedCallback(){this.renderRoot??=this.createRenderRoot(),this.enableUpdating(!0),this._$EO?.forEach((t=>t.hostConnected?.()))}enableUpdating(t){}disconnectedCallback(){this._$EO?.forEach((t=>t.hostDisconnected?.()))}attributeChangedCallback(t,s,i){this._$AK(t,i)}_$EC(t,s){const i=this.constructor.elementProperties.get(t),e=this.constructor._$Eu(t,i);if(void 0!==e&&!0===i.reflect){const r=(void 0!==i.converter?.toAttribute?i.converter:u).toAttribute(s,i.type);this._$Em=t,null==r?this.removeAttribute(e):this.setAttribute(e,r),this._$Em=null}}_$AK(t,s){const i=this.constructor,e=i._$Eh.get(t);if(void 0!==e&&this._$Em!==e){const t=i.getPropertyOptions(e),r=\"function\"==typeof t.converter?{fromAttribute:t.converter}:void 0!==t.converter?.fromAttribute?t.converter:u;this._$Em=e,this[e]=r.fromAttribute(s,t.type),this._$Em=null}}requestUpdate(t,s,i){if(void 0!==t){if(i??=this.constructor.getPropertyOptions(t),!(i.hasChanged??f)(this[t],s))return;this.P(t,s,i)}!1===this.isUpdatePending&&(this._$ES=this._$ET())}P(t,s,i){this._$AL.has(t)||this._$AL.set(t,s),!0===i.reflect&&this._$Em!==t&&(this._$Ej??=new Set).add(t)}async _$ET(){this.isUpdatePending=!0;try{await this._$ES}catch(t){Promise.reject(t)}const t=this.scheduleUpdate();return null!=t&&await t,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){if(!this.isUpdatePending)return;if(!this.hasUpdated){if(this.renderRoot??=this.createRenderRoot(),this._$Ep){for(const[t,s]of this._$Ep)this[t]=s;this._$Ep=void 0}const t=this.constructor.elementProperties;if(t.size>0)for(const[s,i]of t)!0!==i.wrapped||this._$AL.has(s)||void 0===this[s]||this.P(s,this[s],i)}let t=!1;const s=this._$AL;try{t=this.shouldUpdate(s),t?(this.willUpdate(s),this._$EO?.forEach((t=>t.hostUpdate?.())),this.update(s)):this._$EU()}catch(s){throw t=!1,this._$EU(),s}t&&this._$AE(s)}willUpdate(t){}_$AE(t){this._$EO?.forEach((t=>t.hostUpdated?.())),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(t)),this.updated(t)}_$EU(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(t){return!0}update(t){this._$Ej&&=this._$Ej.forEach((t=>this._$EC(t,this[t]))),this._$EU()}updated(t){}firstUpdated(t){}}b.elementStyles=[],b.shadowRootOptions={mode:\"open\"},b[d(\"elementProperties\")]=new Map,b[d(\"finalized\")]=new Map,p?.({ReactiveElement:b}),(a.reactiveElementVersions??=[]).push(\"2.0.4\");export{b as ReactiveElement,u as defaultConverter,f as notEqual};\n//# sourceMappingURL=reactive-element.js.map\n","/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\nconst t=globalThis,i=t.trustedTypes,s=i?i.createPolicy(\"lit-html\",{createHTML:t=>t}):void 0,e=\"$lit$\",h=`lit$${Math.random().toFixed(9).slice(2)}$`,o=\"?\"+h,n=`<${o}>`,r=document,l=()=>r.createComment(\"\"),c=t=>null===t||\"object\"!=typeof t&&\"function\"!=typeof t,a=Array.isArray,u=t=>a(t)||\"function\"==typeof t?.[Symbol.iterator],d=\"[ \\t\\n\\f\\r]\",f=/<(?:(!--|\\/[^a-zA-Z])|(\\/?[a-zA-Z][^>\\s]*)|(\\/?$))/g,v=/-->/g,_=/>/g,m=RegExp(`>|${d}(?:([^\\\\s\"'>=/]+)(${d}*=${d}*(?:[^ \\t\\n\\f\\r\"'\\`<>=]|(\"|')|))|$)`,\"g\"),p=/'/g,g=/\"/g,$=/^(?:script|style|textarea|title)$/i,y=t=>(i,...s)=>({_$litType$:t,strings:i,values:s}),x=y(1),b=y(2),w=Symbol.for(\"lit-noChange\"),T=Symbol.for(\"lit-nothing\"),A=new WeakMap,E=r.createTreeWalker(r,129);function C(t,i){if(!Array.isArray(t)||!t.hasOwnProperty(\"raw\"))throw Error(\"invalid template strings array\");return void 0!==s?s.createHTML(i):i}const P=(t,i)=>{const s=t.length-1,o=[];let r,l=2===i?\"<svg>\":\"\",c=f;for(let i=0;i<s;i++){const s=t[i];let a,u,d=-1,y=0;for(;y<s.length&&(c.lastIndex=y,u=c.exec(s),null!==u);)y=c.lastIndex,c===f?\"!--\"===u[1]?c=v:void 0!==u[1]?c=_:void 0!==u[2]?($.test(u[2])&&(r=RegExp(\"</\"+u[2],\"g\")),c=m):void 0!==u[3]&&(c=m):c===m?\">\"===u[0]?(c=r??f,d=-1):void 0===u[1]?d=-2:(d=c.lastIndex-u[2].length,a=u[1],c=void 0===u[3]?m:'\"'===u[3]?g:p):c===g||c===p?c=m:c===v||c===_?c=f:(c=m,r=void 0);const x=c===m&&t[i+1].startsWith(\"/>\")?\" \":\"\";l+=c===f?s+n:d>=0?(o.push(a),s.slice(0,d)+e+s.slice(d)+h+x):s+h+(-2===d?i:x)}return[C(t,l+(t[s]||\"<?>\")+(2===i?\"</svg>\":\"\")),o]};class V{constructor({strings:t,_$litType$:s},n){let r;this.parts=[];let c=0,a=0;const u=t.length-1,d=this.parts,[f,v]=P(t,s);if(this.el=V.createElement(f,n),E.currentNode=this.el.content,2===s){const t=this.el.content.firstChild;t.replaceWith(...t.childNodes)}for(;null!==(r=E.nextNode())&&d.length<u;){if(1===r.nodeType){if(r.hasAttributes())for(const t of r.getAttributeNames())if(t.endsWith(e)){const i=v[a++],s=r.getAttribute(t).split(h),e=/([.?@])?(.*)/.exec(i);d.push({type:1,index:c,name:e[2],strings:s,ctor:\".\"===e[1]?k:\"?\"===e[1]?H:\"@\"===e[1]?I:R}),r.removeAttribute(t)}else t.startsWith(h)&&(d.push({type:6,index:c}),r.removeAttribute(t));if($.test(r.tagName)){const t=r.textContent.split(h),s=t.length-1;if(s>0){r.textContent=i?i.emptyScript:\"\";for(let i=0;i<s;i++)r.append(t[i],l()),E.nextNode(),d.push({type:2,index:++c});r.append(t[s],l())}}}else if(8===r.nodeType)if(r.data===o)d.push({type:2,index:c});else{let t=-1;for(;-1!==(t=r.data.indexOf(h,t+1));)d.push({type:7,index:c}),t+=h.length-1}c++}}static createElement(t,i){const s=r.createElement(\"template\");return s.innerHTML=t,s}}function N(t,i,s=t,e){if(i===w)return i;let h=void 0!==e?s._$Co?.[e]:s._$Cl;const o=c(i)?void 0:i._$litDirective$;return h?.constructor!==o&&(h?._$AO?.(!1),void 0===o?h=void 0:(h=new o(t),h._$AT(t,s,e)),void 0!==e?(s._$Co??=[])[e]=h:s._$Cl=h),void 0!==h&&(i=N(t,h._$AS(t,i.values),h,e)),i}class S{constructor(t,i){this._$AV=[],this._$AN=void 0,this._$AD=t,this._$AM=i}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(t){const{el:{content:i},parts:s}=this._$AD,e=(t?.creationScope??r).importNode(i,!0);E.currentNode=e;let h=E.nextNode(),o=0,n=0,l=s[0];for(;void 0!==l;){if(o===l.index){let i;2===l.type?i=new M(h,h.nextSibling,this,t):1===l.type?i=new l.ctor(h,l.name,l.strings,this,t):6===l.type&&(i=new L(h,this,t)),this._$AV.push(i),l=s[++n]}o!==l?.index&&(h=E.nextNode(),o++)}return E.currentNode=r,e}p(t){let i=0;for(const s of this._$AV)void 0!==s&&(void 0!==s.strings?(s._$AI(t,s,i),i+=s.strings.length-2):s._$AI(t[i])),i++}}class M{get _$AU(){return this._$AM?._$AU??this._$Cv}constructor(t,i,s,e){this.type=2,this._$AH=T,this._$AN=void 0,this._$AA=t,this._$AB=i,this._$AM=s,this.options=e,this._$Cv=e?.isConnected??!0}get parentNode(){let t=this._$AA.parentNode;const i=this._$AM;return void 0!==i&&11===t?.nodeType&&(t=i.parentNode),t}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(t,i=this){t=N(this,t,i),c(t)?t===T||null==t||\"\"===t?(this._$AH!==T&&this._$AR(),this._$AH=T):t!==this._$AH&&t!==w&&this._(t):void 0!==t._$litType$?this.$(t):void 0!==t.nodeType?this.T(t):u(t)?this.k(t):this._(t)}S(t){return this._$AA.parentNode.insertBefore(t,this._$AB)}T(t){this._$AH!==t&&(this._$AR(),this._$AH=this.S(t))}_(t){this._$AH!==T&&c(this._$AH)?this._$AA.nextSibling.data=t:this.T(r.createTextNode(t)),this._$AH=t}$(t){const{values:i,_$litType$:s}=t,e=\"number\"==typeof s?this._$AC(t):(void 0===s.el&&(s.el=V.createElement(C(s.h,s.h[0]),this.options)),s);if(this._$AH?._$AD===e)this._$AH.p(i);else{const t=new S(e,this),s=t.u(this.options);t.p(i),this.T(s),this._$AH=t}}_$AC(t){let i=A.get(t.strings);return void 0===i&&A.set(t.strings,i=new V(t)),i}k(t){a(this._$AH)||(this._$AH=[],this._$AR());const i=this._$AH;let s,e=0;for(const h of t)e===i.length?i.push(s=new M(this.S(l()),this.S(l()),this,this.options)):s=i[e],s._$AI(h),e++;e<i.length&&(this._$AR(s&&s._$AB.nextSibling,e),i.length=e)}_$AR(t=this._$AA.nextSibling,i){for(this._$AP?.(!1,!0,i);t&&t!==this._$AB;){const i=t.nextSibling;t.remove(),t=i}}setConnected(t){void 0===this._$AM&&(this._$Cv=t,this._$AP?.(t))}}class R{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(t,i,s,e,h){this.type=1,this._$AH=T,this._$AN=void 0,this.element=t,this.name=i,this._$AM=e,this.options=h,s.length>2||\"\"!==s[0]||\"\"!==s[1]?(this._$AH=Array(s.length-1).fill(new String),this.strings=s):this._$AH=T}_$AI(t,i=this,s,e){const h=this.strings;let o=!1;if(void 0===h)t=N(this,t,i,0),o=!c(t)||t!==this._$AH&&t!==w,o&&(this._$AH=t);else{const e=t;let n,r;for(t=h[0],n=0;n<h.length-1;n++)r=N(this,e[s+n],i,n),r===w&&(r=this._$AH[n]),o||=!c(r)||r!==this._$AH[n],r===T?t=T:t!==T&&(t+=(r??\"\")+h[n+1]),this._$AH[n]=r}o&&!e&&this.j(t)}j(t){t===T?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,t??\"\")}}class k extends R{constructor(){super(...arguments),this.type=3}j(t){this.element[this.name]=t===T?void 0:t}}class H extends R{constructor(){super(...arguments),this.type=4}j(t){this.element.toggleAttribute(this.name,!!t&&t!==T)}}class I extends R{constructor(t,i,s,e,h){super(t,i,s,e,h),this.type=5}_$AI(t,i=this){if((t=N(this,t,i,0)??T)===w)return;const s=this._$AH,e=t===T&&s!==T||t.capture!==s.capture||t.once!==s.once||t.passive!==s.passive,h=t!==T&&(s===T||e);e&&this.element.removeEventListener(this.name,this,s),h&&this.element.addEventListener(this.name,this,t),this._$AH=t}handleEvent(t){\"function\"==typeof this._$AH?this._$AH.call(this.options?.host??this.element,t):this._$AH.handleEvent(t)}}class L{constructor(t,i,s){this.element=t,this.type=6,this._$AN=void 0,this._$AM=i,this.options=s}get _$AU(){return this._$AM._$AU}_$AI(t){N(this,t)}}const z={P:e,A:h,C:o,M:1,L:P,R:S,D:u,V:N,I:M,H:R,N:H,U:I,B:k,F:L},Z=t.litHtmlPolyfillSupport;Z?.(V,M),(t.litHtmlVersions??=[]).push(\"3.1.4\");const j=(t,i,s)=>{const e=s?.renderBefore??i;let h=e._$litPart$;if(void 0===h){const t=s?.renderBefore??null;e._$litPart$=h=new M(i.insertBefore(l(),t),t,void 0,s??{})}return h._$AI(t),h};export{z as _$LH,x as html,w as noChange,T as nothing,j as render,b as svg};\n//# sourceMappingURL=lit-html.js.map\n","import{ReactiveElement as t}from\"@lit/reactive-element\";export*from\"@lit/reactive-element\";import{render as e,noChange as i}from\"lit-html\";export*from\"lit-html\";\n/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */class s extends t{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){const t=super.createRenderRoot();return this.renderOptions.renderBefore??=t.firstChild,t}update(t){const i=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(t),this._$Do=e(i,this.renderRoot,this.renderOptions)}connectedCallback(){super.connectedCallback(),this._$Do?.setConnected(!0)}disconnectedCallback(){super.disconnectedCallback(),this._$Do?.setConnected(!1)}render(){return i}}s._$litElement$=!0,s[(\"finalized\",\"finalized\")]=!0,globalThis.litElementHydrateSupport?.({LitElement:s});const r=globalThis.litElementPolyfillSupport;r?.({LitElement:s});const o={_$AK:(t,e,i)=>{t._$AK(e,i)},_$AL:t=>t._$AL};(globalThis.litElementVersions??=[]).push(\"4.0.6\");export{s as LitElement,o as _$LE};\n//# sourceMappingURL=lit-element.js.map\n","import { LitElement, html, css } from 'lit';\n\nclass Header extends LitElement {\n  static styles = css`\n    header {\n      background: #3f6b8e;\n      color: #fff;\n      padding: 1em;\n      text-align: center;\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n    }\n    nav {\n      display: flex;\n      gap: 1em;\n    }\n    a {\n      color: #fff;\n      text-decoration: none;\n      font-weight: bold;\n    }\n    a:hover {\n      text-decoration: underline;\n    }\n  `;\n\n  render() {\n    return html`\n      <header>\n        <h1>Not another Login Page</h1>\n        <nav>\n          <a href=\"#home\">Home</a>\n          <a href=\"#about\">About</a>\n          <a href=\"#contact\">Contact</a>\n        </nav>\n      </header>\n    `;\n  }\n}\ncustomElements.define('login-header', Header);\n","import { LitElement, html, css } from 'lit';\n\nclass LoginFooter extends LitElement {\n  static styles = css`\n    footer {\n      background: #000;\n      color: white;\n      padding: 1em;\n      text-align: center;\n      position: fixed;\n      width: 100%;\n      bottom: 0;\n      display: flex;\n      flex-direction: column;\n      justify-content: space-around;\n      align-items: center;\n    }\n    nav {\n      display: flex;\n      gap: 1em;\n    }\n    a {\n      color: white;\n      text-decoration: none;\n      font-weight: bold;\n    }\n    a:hover {\n      text-decoration: underline;\n    }\n    p {\n      color: lightgray;\n      font-size: 0.8em;\n    }\n  `;\n\n  render() {\n    return html`\n      <footer>\n        <nav>\n          <a href=\"#contact\">Contact Us</a>\n          <a href=\"#sitemap\">Sitemap</a>\n          <a href=\"#privacy\">Privacy</a>\n          <a href=\"#terms\">Terms of Use</a>\n          <a href=\"#accessibility\">Accessibility</a>\n        </nav>\n        <p>&copy; 2024 Not another Login Page, Inc.</p>\n      </footer>\n    `;\n  }\n}\ncustomElements.define('login-footer', LoginFooter);\n","const appliedClassMixins = new WeakMap();\n\n/** Vefify if the Mixin was previously applyed\n * @private\n * @param {function} mixin      Mixin being applyed\n * @param {object} superClass   Class receiving the new mixin\n * @returns {boolean}\n */\nfunction wasMixinPreviouslyApplied(mixin, superClass) {\n  let klass = superClass;\n  while (klass) {\n    if (appliedClassMixins.get(klass) === mixin) {\n      return true;\n    }\n    klass = Object.getPrototypeOf(klass);\n  }\n  return false;\n}\n\n/** Apply each mixin in the chain to make sure they are not applied more than once to the final class.\n * @export\n * @param {function} mixin      Mixin to be applyed\n * @returns {object}            Mixed class with mixin applied\n */\nexport function dedupeMixin(mixin) {\n  return superClass => {\n    if (wasMixinPreviouslyApplied(mixin, superClass)) {\n      return superClass;\n    }\n    const mixedClass = mixin(superClass);\n    appliedClassMixins.set(mixedClass, mixin);\n    return mixedClass;\n  };\n}\n","import { dedupeMixin } from '@open-wc/dedupe-mixin';\n\nconst windowWithOptionalPolyfill =\n  /** @type {Window & typeof globalThis & {applyFocusVisiblePolyfill?: function}} */ (window);\nconst polyfilledNodes = new WeakMap();\n\n/**\n * @param {Node} node\n */\nfunction applyFocusVisiblePolyfillWhenNeeded(node) {\n  if (windowWithOptionalPolyfill.applyFocusVisiblePolyfill && !polyfilledNodes.has(node)) {\n    windowWithOptionalPolyfill.applyFocusVisiblePolyfill(node);\n    polyfilledNodes.set(node, undefined);\n  }\n}\n\n/**\n * @typedef {import('../types/FocusMixinTypes.js').FocusMixin} FocusMixin\n * @type {FocusMixin}\n * @param {import('@open-wc/dedupe-mixin').Constructor<import('lit').LitElement>} superclass\n */\nconst FocusMixinImplementation = superclass =>\n  // @ts-ignore https://github.com/microsoft/TypeScript/issues/36821#issuecomment-588375051\n  class FocusMixin extends superclass {\n    /** @type {any} */\n    static get properties() {\n      return {\n        focused: { type: Boolean, reflect: true },\n        focusedVisible: { type: Boolean, reflect: true, attribute: 'focused-visible' },\n        // eslint-disable-next-line lit/no-native-attributes\n        autofocus: { type: Boolean, reflect: true }, // Required in Lit to observe autofocus\n      };\n    }\n\n    constructor() {\n      super();\n\n      /**\n       * Whether the focusable element within (`._focusableNode`) is focused.\n       * Reflects to attribute '[focused]' as a styling hook\n       * @type {boolean}\n       */\n      this.focused = false;\n\n      /**\n       * Whether the focusable element within (`._focusableNode`) matches ':focus-visible'\n       * Reflects to attribute '[focused-visible]' as a styling hook\n       * See: https://developer.mozilla.org/en-US/docs/Web/CSS/:focus-visible\n       * @type {boolean}\n       */\n      this.focusedVisible = false;\n      this.autofocus = false;\n    }\n\n    /**\n     * @param {import('lit').PropertyValues } changedProperties\n     */\n    firstUpdated(changedProperties) {\n      // eslint-disable-next-line lit/no-native-attributes\n      super.firstUpdated(changedProperties);\n      this.__registerEventsForFocusMixin();\n      this.__syncAutofocusToFocusableElement();\n    }\n\n    disconnectedCallback() {\n      super.disconnectedCallback();\n      this.__teardownEventsForFocusMixin();\n    }\n\n    /**\n     * @param {import('lit').PropertyValues } changedProperties\n     */\n    updated(changedProperties) {\n      super.updated(changedProperties);\n      if (changedProperties.has('autofocus')) {\n        this.__syncAutofocusToFocusableElement();\n      }\n    }\n\n    /**\n     * @private\n     */\n    __syncAutofocusToFocusableElement() {\n      if (!this._focusableNode) {\n        return;\n      }\n\n      if (this.hasAttribute('autofocus')) {\n        this._focusableNode.setAttribute('autofocus', '');\n      } else {\n        this._focusableNode.removeAttribute('autofocus');\n      }\n    }\n\n    /**\n     * Calls `focus()` on focusable element within\n     */\n    focus() {\n      this._focusableNode?.focus();\n    }\n\n    /**\n     * Calls `blur()` on focusable element within\n     */\n    blur() {\n      this._focusableNode?.blur();\n    }\n\n    /**\n     * The focusable element:\n     * could be an input, textarea, select, button or any other element with tabindex > -1\n     * @protected\n     * @type {HTMLElement}\n     */\n    // @ts-ignore it's up to Subclassers to return the right element. This is needed for docs/types\n    // eslint-disable-next-line class-methods-use-this, getter-return, no-empty-function\n    get _focusableNode() {\n      // TODO: [v1]: remove return of _inputNode (it's now here for backwards compatibility)\n      // @ts-expect-error see above\n      return /** @type {HTMLElement} */ (this._inputNode || document.createElement('input'));\n    }\n\n    /**\n     * @private\n     */\n    __onFocus() {\n      this.focused = true;\n\n      if (typeof windowWithOptionalPolyfill.applyFocusVisiblePolyfill === 'function') {\n        this.focusedVisible = this._focusableNode.hasAttribute('data-focus-visible-added');\n      } else\n        try {\n          // Safari throws when matches is called\n          this.focusedVisible = this._focusableNode.matches(':focus-visible');\n        } catch (_) {\n          this.focusedVisible = false;\n        }\n    }\n\n    /**\n     * @private\n     */\n    __onBlur() {\n      this.focused = false;\n      this.focusedVisible = false;\n    }\n\n    /**\n     * @private\n     */\n    __registerEventsForFocusMixin() {\n      applyFocusVisiblePolyfillWhenNeeded(this.getRootNode());\n\n      /**\n       * focus\n       * @param {Event} ev\n       */\n      this.__redispatchFocus = ev => {\n        ev.stopPropagation();\n        this.dispatchEvent(new Event('focus'));\n      };\n      this._focusableNode.addEventListener('focus', this.__redispatchFocus);\n\n      /**\n       * blur\n       * @param {Event} ev\n       */\n      this.__redispatchBlur = ev => {\n        ev.stopPropagation();\n        this.dispatchEvent(new Event('blur'));\n      };\n      this._focusableNode.addEventListener('blur', this.__redispatchBlur);\n\n      /**\n       * focusin\n       * @param {Event} ev\n       */\n      this.__redispatchFocusin = ev => {\n        ev.stopPropagation();\n        this.__onFocus();\n        this.dispatchEvent(new Event('focusin', { bubbles: true, composed: true }));\n      };\n      this._focusableNode.addEventListener('focusin', this.__redispatchFocusin);\n\n      /**\n       * focusout\n       * @param {Event} ev\n       */\n      this.__redispatchFocusout = ev => {\n        ev.stopPropagation();\n        this.__onBlur();\n        this.dispatchEvent(new Event('focusout', { bubbles: true, composed: true }));\n      };\n      this._focusableNode.addEventListener('focusout', this.__redispatchFocusout);\n    }\n\n    /**\n     * @private\n     */\n    __teardownEventsForFocusMixin() {\n      this._focusableNode.removeEventListener(\n        'focus',\n        /** @type {EventListenerOrEventListenerObject} */ (this.__redispatchFocus),\n      );\n      this._focusableNode.removeEventListener(\n        'blur',\n        /** @type {EventListenerOrEventListenerObject} */ (this.__redispatchBlur),\n      );\n      this._focusableNode.removeEventListener(\n        'focusin',\n        /** @type {EventListenerOrEventListenerObject} */ (this.__redispatchFocusin),\n      );\n      this._focusableNode.removeEventListener(\n        'focusout',\n        /** @type {EventListenerOrEventListenerObject} */ (this.__redispatchFocusout),\n      );\n    }\n  };\n\n/**\n * For browsers that not support the [spec](https://developer.mozilla.org/en-US/docs/Web/CSS/:focus-visible),\n * be sure to load the polyfill into your application https://github.com/WICG/focus-visible\n * (or go for progressive enhancement).\n */\nexport const FocusMixin = dedupeMixin(FocusMixinImplementation);\n","import { dedupeMixin } from '@open-wc/dedupe-mixin';\n\n/**\n * @typedef {import('../types/DisabledMixinTypes.js').DisabledMixin} DisabledMixin\n */\n\n/**\n * @type {DisabledMixin}\n * @param {import('@open-wc/dedupe-mixin').Constructor<import('lit').LitElement>} superclass\n */\nconst DisabledMixinImplementation = superclass =>\n  // eslint-disable-next-line no-shadow\n  // @ts-ignore https://github.com/microsoft/TypeScript/issues/36821#issuecomment-588375051\n  class extends superclass {\n    static get properties() {\n      return {\n        disabled: {\n          type: Boolean,\n          reflect: true,\n        },\n      };\n    }\n\n    constructor() {\n      super();\n      /** @protected */\n      this._requestedToBeDisabled = false;\n      /** @private */\n      this.__isUserSettingDisabled = true;\n      /** @private */\n      this.__restoreDisabledTo = false;\n      this.disabled = false;\n    }\n\n    makeRequestToBeDisabled() {\n      if (this._requestedToBeDisabled === false) {\n        this._requestedToBeDisabled = true;\n        this.__restoreDisabledTo = this.disabled;\n        this.__internalSetDisabled(true);\n      }\n    }\n\n    retractRequestToBeDisabled() {\n      if (this._requestedToBeDisabled === true) {\n        this._requestedToBeDisabled = false;\n        this.__internalSetDisabled(this.__restoreDisabledTo);\n      }\n    }\n\n    /**\n     * @param {boolean} value\n     * @private\n     */\n    __internalSetDisabled(value) {\n      this.__isUserSettingDisabled = false;\n      this.disabled = value;\n      this.__isUserSettingDisabled = true;\n    }\n\n    /**\n     * @param {string} [name]\n     * @param {unknown} [oldValue]\n     * @param {import('lit').PropertyDeclaration} [options]\n     * @returns {void}\n     */\n    requestUpdate(name, oldValue, options) {\n      super.requestUpdate(name, oldValue, options);\n      if (name === 'disabled') {\n        if (this.__isUserSettingDisabled) {\n          this.__restoreDisabledTo = this.disabled;\n        }\n        if (this.disabled === false && this._requestedToBeDisabled === true) {\n          this.__internalSetDisabled(true);\n        }\n      }\n    }\n  };\n\nexport const DisabledMixin = dedupeMixin(DisabledMixinImplementation);\n","import { dedupeMixin } from '@open-wc/dedupe-mixin';\nimport { DisabledMixin } from './DisabledMixin.js';\n\n/**\n * @typedef {import('../types/DisabledWithTabIndexMixinTypes.js').DisabledWithTabIndexMixin} DisabledWithTabIndexMixin\n */\n\n/**\n * @type {DisabledWithTabIndexMixin}\n * @param {import('@open-wc/dedupe-mixin').Constructor<import('lit').LitElement>} superclass\n */\nconst DisabledWithTabIndexMixinImplementation = superclass =>\n  // eslint-disable-next-line no-shadow\n  // @ts-ignore https://github.com/microsoft/TypeScript/issues/36821#issuecomment-588375051\n  class extends DisabledMixin(superclass) {\n    static get properties() {\n      return {\n        // we use a property here as if we use the native tabIndex we can not set a default value\n        // in the constructor as it synchronously sets the attribute which is not allowed in the\n        // constructor phase\n        tabIndex: {\n          type: Number,\n          reflect: true,\n          attribute: 'tabindex',\n        },\n      };\n    }\n\n    constructor() {\n      super();\n      /** @private */\n      this.__isUserSettingTabIndex = true;\n      /** @private */\n      this.__restoreTabIndexTo = 0;\n      this.__internalSetTabIndex(0);\n    }\n\n    makeRequestToBeDisabled() {\n      super.makeRequestToBeDisabled();\n      if (this._requestedToBeDisabled === false && this.tabIndex != null) {\n        this.__restoreTabIndexTo = this.tabIndex;\n      }\n    }\n\n    retractRequestToBeDisabled() {\n      super.retractRequestToBeDisabled();\n      if (this._requestedToBeDisabled === true) {\n        this.__internalSetTabIndex(this.__restoreTabIndexTo);\n      }\n    }\n\n    /**\n     * @param {number} value\n     * @private\n     */\n    __internalSetTabIndex(value) {\n      this.__isUserSettingTabIndex = false;\n      this.tabIndex = value;\n      this.__isUserSettingTabIndex = true;\n    }\n\n    /**\n     * @param {string} [name]\n     * @param {unknown} [oldValue]\n     * @param {import('lit').PropertyDeclaration} [options]\n     * @returns {void}\n     */\n    requestUpdate(name, oldValue, options) {\n      super.requestUpdate(name, oldValue, options);\n\n      if (name === 'disabled') {\n        if (this.disabled) {\n          this.__internalSetTabIndex(-1);\n        } else {\n          this.__internalSetTabIndex(this.__restoreTabIndexTo);\n        }\n      }\n\n      if (name === 'tabIndex') {\n        if (this.__isUserSettingTabIndex && this.tabIndex != null) {\n          this.__restoreTabIndexTo = this.tabIndex;\n        }\n\n        if (this.tabIndex !== -1 && this._requestedToBeDisabled === true) {\n          this.__internalSetTabIndex(-1);\n        }\n      }\n    }\n\n    /** @param {import('lit-element').PropertyValues } changedProperties */\n    firstUpdated(changedProperties) {\n      super.firstUpdated(changedProperties);\n      // for ShadyDom the timing is a little different and we need to make sure\n      // the tabindex gets correctly updated here\n      if (this.disabled) {\n        this.__internalSetTabIndex(-1);\n      }\n    }\n  };\n\nexport const DisabledWithTabIndexMixin = dedupeMixin(DisabledWithTabIndexMixinImplementation);\n","/* eslint-disable class-methods-use-this */\nimport { isTemplateResult } from 'lit/directive-helpers.js';\nimport { dedupeMixin } from '@open-wc/dedupe-mixin';\nimport { render } from 'lit';\n\n/**\n * @typedef {{renderBefore:Comment; renderTargetThatRespectsShadowRootScoping: HTMLDivElement}} RenderMetaObj\n * @typedef {import('../types/SlotMixinTypes.js').SlotFunctionResult} SlotFunctionResult\n * @typedef {import('../types/SlotMixinTypes.js').SlotRerenderObject} SlotRerenderObject\n * @typedef {import('../types/SlotMixinTypes.js').SlotMixin} SlotMixin\n * @typedef {import('../types/SlotMixinTypes.js').SlotsMap} SlotsMap\n * @typedef {import('lit').LitElement} LitElement\n */\n\n/**\n * @param {SlotFunctionResult} slotFunctionResult\n * @returns {'template-result'|'node'|'slot-rerender-object'|null}\n */\nfunction determineSlotFunctionResultType(slotFunctionResult) {\n  if (slotFunctionResult instanceof Node) {\n    return 'node';\n  }\n  if (isTemplateResult(slotFunctionResult)) {\n    return 'template-result';\n  }\n  if (\n    !Array.isArray(slotFunctionResult) &&\n    typeof slotFunctionResult === 'object' &&\n    'template' in slotFunctionResult\n  ) {\n    return 'slot-rerender-object';\n  }\n  return null;\n}\n\n/**\n * All intricacies involved in managing light dom can be delegated to SlotMixin. Amongst others, it automatically:\n * - mediates between light dom provided by the user ('public slots') and light dom provided by the component author ('private slots').\n * - allows to hook into the reactive update loop of LitElement (rerendering on property changes)\n * - respects the scoped registry belonging to the shadow root.\n *\n * Be sure to read all details about SlotMixin in the [SlotMixin documentation](docs/fundamentals/systems/core/SlotMixin.md)\n *\n * @type {SlotMixin}\n * @param {import('@open-wc/dedupe-mixin').Constructor<LitElement>} superclass\n */\nconst SlotMixinImplementation = superclass =>\n  // @ts-ignore https://github.com/microsoft/TypeScript/issues/36821#issuecomment-588375051\n  class SlotMixin extends superclass {\n    /**\n     * @return {SlotsMap}\n     */\n    get slots() {\n      return {};\n    }\n\n    constructor() {\n      super();\n\n      /**\n       * The roots that are used to do a rerender in.\n       * In case of a SlotRerenderObject, this will create a render wrapper in the scoped context (shadow root)\n       * and connect this under the slot name to the light dom. All (re)renders will happen from here,\n       * so that all interactions work as intended and no focus issues can arise (which would be the case\n       * when (cloned) nodes of a render outcome would be moved around)\n       * @private\n       * @type { Map<string, RenderMetaObj> } */\n      this.__renderMetaPerSlot = new Map();\n      /**\n       * @private\n       * @type {Set<string>}\n       */\n      this.__slotsThatNeedRerender = new Set();\n      /**\n       * Those are slots that should not be touched by SlotMixin\n       * @private\n       * @type {Set<string>}\n       */\n      this.__slotsProvidedByUserOnFirstConnected = new Set();\n      /**\n       * Those are slots that should be touched by SlotMixin\n       * The opposite of __slotsProvidedByUserOnFirstConnected,\n       * also taking into account undefined (a.k.a. conditional) slots\n       * @private\n       * @type {Set<string>}\n       */\n      this.__privateSlots = new Set();\n    }\n\n    connectedCallback() {\n      super.connectedCallback();\n      this._connectSlotMixin();\n    }\n\n    /**\n     * @param {string} slotName\n     */\n    __rerenderSlot(slotName) {\n      const slotFunctionResult = /** @type {SlotRerenderObject} */ (this.slots[slotName]());\n      this.__renderTemplateInScopedContext({\n        renderAsDirectHostChild: slotFunctionResult.renderAsDirectHostChild,\n        template: slotFunctionResult.template,\n        slotName,\n      });\n      // TODO: this is deprecated, remove later\n      slotFunctionResult.afterRender?.();\n    }\n\n    /**\n     * Here we rerender slots defined with a `SlotRerenderObject`\n     * @param {import('lit-element').PropertyValues } changedProperties\n     */\n    update(changedProperties) {\n      super.update(changedProperties);\n\n      for (const slotName of this.__slotsThatNeedRerender) {\n        this.__rerenderSlot(slotName);\n      }\n    }\n\n    /**\n     * @private\n     * @param {object} opts\n     * @param {import('lit').TemplateResult} opts.template\n     * @param {string} opts.slotName\n     * @param {boolean} [opts.renderAsDirectHostChild] when false, the render parent (wrapper div) will be kept in the light dom\n     * @returns {void}\n     */\n    __renderTemplateInScopedContext({ template, slotName, renderAsDirectHostChild }) {\n      const isFirstRender = !this.__renderMetaPerSlot.has(slotName);\n      if (isFirstRender) {\n        // @ts-expect-error wait for browser support\n        const supportsScopedRegistry = !!ShadowRoot.prototype.createElement;\n        const hasShadowRoot = Boolean(this.shadowRoot);\n        if (!hasShadowRoot) {\n          // TODO: throw an error in a breaking release\n          // eslint-disable-next-line no-console\n          console.error(`[SlotMixin] No shadowRoot was found`);\n        }\n        const registryRoot = supportsScopedRegistry ? this.shadowRoot : document;\n\n        // @ts-expect-error wait for browser support\n        const renderTargetThatRespectsShadowRootScoping = registryRoot.createElement('div');\n        const startComment = document.createComment(`_start_slot_${slotName}_`);\n        const endComment = document.createComment(`_end_slot_${slotName}_`);\n\n        renderTargetThatRespectsShadowRootScoping.appendChild(startComment);\n        renderTargetThatRespectsShadowRootScoping.appendChild(endComment);\n\n        // Providing all options breaks Safari; keep host and creationScope\n        const { creationScope, host } = this.renderOptions;\n        render(template, renderTargetThatRespectsShadowRootScoping, {\n          renderBefore: endComment,\n          creationScope,\n          host,\n        });\n\n        if (renderAsDirectHostChild) {\n          const nodes = Array.from(renderTargetThatRespectsShadowRootScoping.childNodes);\n          this.__appendNodes({ nodes, renderParent: this, slotName });\n        } else {\n          renderTargetThatRespectsShadowRootScoping.slot = slotName;\n          this.appendChild(renderTargetThatRespectsShadowRootScoping);\n        }\n\n        this.__renderMetaPerSlot.set(slotName, {\n          renderTargetThatRespectsShadowRootScoping,\n          renderBefore: endComment,\n        });\n\n        return;\n      }\n\n      // Rerender\n      const { renderBefore, renderTargetThatRespectsShadowRootScoping } =\n        /** @type {RenderMetaObj} */ (this.__renderMetaPerSlot.get(slotName));\n\n      const rerenderTarget = renderAsDirectHostChild\n        ? this\n        : renderTargetThatRespectsShadowRootScoping;\n\n      // Providing all options breaks Safari: we keep host and creationScope\n      const { creationScope, host } = this.renderOptions;\n      render(template, rerenderTarget, { creationScope, host, renderBefore });\n    }\n\n    /**\n     * @param {object} options\n     * @param {Node[]} options.nodes\n     * @param {Element} [options.renderParent] It's recommended to create a render target in light dom (like <div slot=myslot>),\n     * which can be used as a render target for most\n     * @param {string} options.slotName For the first render, it's best to use slotName\n     */\n    __appendNodes({ nodes, renderParent = this, slotName }) {\n      for (const node of nodes) {\n        if (node instanceof Element && slotName && slotName !== '') {\n          node.setAttribute('slot', slotName);\n        }\n        renderParent.appendChild(node);\n      }\n    }\n\n    /**\n     * Here we look what's inside our `get slots`.\n     * Rerenderable slots get scheduled and \"one time slots\" get rendered once on connected\n     * @param {string[]} slotNames\n     */\n    __initSlots(slotNames) {\n      for (const slotName of slotNames) {\n        if (this.__slotsProvidedByUserOnFirstConnected.has(slotName)) {\n          // eslint-disable-next-line no-continue\n          continue;\n        }\n\n        const slotFunctionResult = this.slots[slotName]();\n        // Allow to conditionally return a slot\n        if (slotFunctionResult === undefined) {\n          // eslint-disable-next-line no-continue\n          continue;\n        }\n\n        if (!this.__isConnectedSlotMixin) {\n          this.__privateSlots.add(slotName);\n        }\n\n        const slotFunctionResultType = determineSlotFunctionResultType(slotFunctionResult);\n\n        switch (slotFunctionResultType) {\n          case 'template-result':\n            this.__renderTemplateInScopedContext({\n              template: /** @type {import('lit').TemplateResult} */ (slotFunctionResult),\n              renderAsDirectHostChild: true,\n              slotName,\n            });\n            break;\n          case 'node':\n            this.__appendNodes({\n              nodes: [/** @type {Node} */ (slotFunctionResult)],\n              renderParent: this,\n              slotName,\n            });\n            break;\n          case 'slot-rerender-object':\n            // Rerenderable slots are scheduled in the \"update loop\"\n            this.__slotsThatNeedRerender.add(slotName);\n            // For backw. compat, we allow a first render on connectedCallback\n            if (/** @type {SlotRerenderObject} */ (slotFunctionResult).firstRenderOnConnected) {\n              this.__rerenderSlot(slotName);\n            }\n            break;\n          default:\n            throw new Error(\n              `Slot \"${slotName}\" configured inside \"get slots()\" (in prototype) of ${this.constructor.name} may return these types: TemplateResult | Node | {template:TemplateResult, afterRender?:function} | undefined.\n              You provided: ${slotFunctionResult}`,\n            );\n        }\n      }\n    }\n\n    /**\n     * @protected\n     */\n    _connectSlotMixin() {\n      if (this.__isConnectedSlotMixin) {\n        return;\n      }\n\n      const allSlots = Object.keys(this.slots);\n\n      for (const slotName of allSlots) {\n        const hasSlottableFromUser =\n          slotName === ''\n            ? // for default slot (''), we can't use el.slot because polyfill for IE11\n              // will do .querySelector('[slot=]') which produces a fatal error\n              // therefore we check if there's children that do not have a slot attr\n              Array.from(this.children).find(el => !el.hasAttribute('slot'))\n            : Array.from(this.children).find(el => el.slot === slotName);\n\n        if (hasSlottableFromUser) {\n          this.__slotsProvidedByUserOnFirstConnected.add(slotName);\n        }\n      }\n\n      this.__initSlots(allSlots);\n      this.__isConnectedSlotMixin = true;\n    }\n\n    /**\n     * @param {string} slotName Name of the slot\n     * @return {boolean} true if given slot name been created by SlotMixin\n     * @protected\n     */\n    _isPrivateSlot(slotName) {\n      return this.__privateSlots.has(slotName);\n    }\n  };\n\nexport const SlotMixin = dedupeMixin(SlotMixinImplementation);\n","import{_$LH as o}from\"./lit-html.js\";\n/**\n * @license\n * Copyright 2020 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */const{I:t}=o,i=o=>null===o||\"object\"!=typeof o&&\"function\"!=typeof o,n={HTML:1,SVG:2},e=(o,t)=>void 0===t?void 0!==o?._$litType$:o?._$litType$===t,l=o=>null!=o?._$litType$?.h,c=o=>void 0!==o?._$litDirective$,d=o=>o?._$litDirective$,f=o=>void 0===o.strings,s=()=>document.createComment(\"\"),r=(o,i,n)=>{const e=o._$AA.parentNode,l=void 0===i?o._$AB:i._$AA;if(void 0===n){const i=e.insertBefore(s(),l),c=e.insertBefore(s(),l);n=new t(i,c,o,o.options)}else{const t=n._$AB.nextSibling,i=n._$AM,c=i!==o;if(c){let t;n._$AQ?.(o),n._$AM=o,void 0!==n._$AP&&(t=o._$AU)!==i._$AU&&n._$AP(t)}if(t!==l||c){let o=n._$AA;for(;o!==t;){const t=o.nextSibling;e.insertBefore(o,l),o=t}}}return n},v=(o,t,i=o)=>(o._$AI(t,i),o),u={},m=(o,t=u)=>o._$AH=t,p=o=>o._$AH,h=o=>{o._$AP?.(!1,!0);let t=o._$AA;const i=o._$AB.nextSibling;for(;t!==i;){const o=t.nextSibling;t.remove(),t=o}},j=o=>{o._$AR()};export{n as TemplateResultType,j as clearPart,p as getCommittedValue,d as getDirectiveClass,r as insertPart,l as isCompiledTemplateResult,c as isDirectiveResult,i as isPrimitive,f as isSingleExpression,e as isTemplateResult,h as removePart,v as setChildPartValue,m as setCommittedValue};\n//# sourceMappingURL=directive-helpers.js.map\n","import { isServer } from 'lit';\n\n/**\n * From https://stackoverflow.com/questions/4565112/javascript-how-to-find-out-if-the-user-browser-is-chrome\n * @param {string} [flavor='google-chrome']\n */\nfunction checkChrome(flavor = 'google-chrome') {\n  if (isServer) {\n    return flavor === 'google-chrome';\n  }\n\n  const isChromium = /** @type {window & { chrome?: boolean}} */ (globalThis).chrome;\n\n  if (flavor === 'chromium') {\n    return isChromium;\n  }\n  const winNav = globalThis.navigator;\n  const vendorName = winNav?.vendor;\n  const isOpera =\n    typeof (/** @type {window & { opr?: boolean}} */ (globalThis).opr) !== 'undefined';\n  // @ts-ignore\n  const isIEedge = globalThis.userAgent?.indexOf('Edge') > -1;\n  // @ts-ignore\n  const isIOSChrome = globalThis.userAgent?.match('CriOS');\n\n  if (flavor === 'ios') {\n    return isIOSChrome;\n  }\n\n  if (flavor === 'google-chrome') {\n    return (\n      isChromium !== null &&\n      typeof isChromium !== 'undefined' &&\n      vendorName === 'Google Inc.' &&\n      isOpera === false &&\n      isIEedge === false\n    );\n  }\n\n  return undefined;\n}\n\nexport const browserDetection = {\n  isIE11: /Trident/.test(globalThis.navigator?.userAgent),\n  isChrome: checkChrome(),\n  isIOSChrome: checkChrome('ios'),\n  isChromium: checkChrome('chromium'),\n  isFirefox: globalThis.navigator?.userAgent.toLowerCase().indexOf('firefox') > -1,\n  isMac: globalThis.navigator?.appVersion?.indexOf('Mac') !== -1,\n  isIOS: /iPhone|iPad|iPod/i.test(globalThis.navigator?.userAgent),\n  isMacSafari:\n    globalThis.navigator?.vendor &&\n    globalThis.navigator?.vendor.indexOf('Apple') > -1 &&\n    globalThis.navigator?.userAgent &&\n    globalThis.navigator?.userAgent.indexOf('CriOS') === -1 &&\n    globalThis.navigator?.userAgent.indexOf('FxiOS') === -1 &&\n    globalThis.navigator?.appVersion.indexOf('Mac') !== -1,\n};\n","/**\n * Generates random unique identifier (for dom elements)\n * @param {string} prefix\n * @return {string} unique id\n */\nexport function uuid(prefix = '') {\n  const elementName = prefix.length > 0 ? `${prefix}-` : '';\n  return `${elementName}${Math.random().toString(36).substr(2, 10)}`;\n}\n","/* eslint-disable no-bitwise */\nconst moveDownConditions = [\n  Node.DOCUMENT_POSITION_PRECEDING,\n  Node.DOCUMENT_POSITION_CONTAINS,\n  Node.DOCUMENT_POSITION_CONTAINS | Node.DOCUMENT_POSITION_PRECEDING,\n];\n\n/**\n * Let the order of adding ids to aria element by DOM order, so that the screen reader\n * respects visual order when reading:\n * https://developers.google.com/web/fundamentals/accessibility/focus/dom-order-matters\n * @param {Element[]} descriptionElements - holds references to description or label elements whose\n * id should be returned\n * @param {Object} opts\n * @param {boolean} [opts.reverse]\n * @returns {Element[]} sorted set of elements based on dom order\n */\nexport function getAriaElementsInRightDomOrder(descriptionElements, { reverse } = {}) {\n  /**\n   * @param {Node} a\n   * @param {Node} b\n   * @returns {-1|1}\n   */\n  const putPrecedingSiblingsAndLocalParentsFirst = (a, b) => {\n    // https://developer.mozilla.org/en-US/docs/Web/API/Node/compareDocumentPosition\n    const pos = a.compareDocumentPosition(b);\n    return moveDownConditions.includes(pos) ? 1 : -1;\n  };\n\n  const descriptionEls = descriptionElements.filter(el => el); // filter out null references\n  descriptionEls.sort(putPrecedingSiblingsAndLocalParentsFirst);\n  if (reverse) {\n    descriptionEls.reverse();\n  }\n  return descriptionEls;\n}\n","/**\n * A modelValue can demand a certain type (Date, Number, Iban etc.). A correct type will always be\n * translatable into a String representation (the value presented to the end user) via the\n * `formatter`. When the type is not valid (usually as a consequence of a user typing in an invalid\n * or incomplete viewValue), the current truth is captured in the `Unparseable` type.\n * For example: a viewValue can't be parsed (for instance 'foo' when the type should be Number).\n\n * The model(value) concept as implemented in lion-web is conceptually comparable to those found in\n * popular systems like Angular and Vue.\n\n * The Unparseable type is an addition on top of this that mainly is added for the following two\n * purposes:\n * - restoring user sessions\n * - realtime updated with all value changes\n */\nexport class Unparseable {\n  /** @param {string} value */\n  constructor(value) {\n    /**\n     * Meta info for restoring serialized Unparseable values\n     * @type {'unparseable'}\n     */\n    this.type = 'unparseable';\n    /**\n     * Stores current view value. For instance, value '09-' is an unparseable Date.\n     * This info can be used to restore previous form states.\n     * @type {string}\n     */\n    this.viewValue = value;\n  }\n\n  toString() {\n    return JSON.stringify({ type: this.type, viewValue: this.viewValue });\n  }\n}\n","import { dedupeMixin } from '@open-wc/dedupe-mixin';\n\n/**\n * @typedef {import('lit').LitElement} LitElement\n * @typedef {import('../../types/FormControlMixinTypes.js').FormControlHost} FormControlHost\n * @typedef {import('../../types/registration/FormRegisteringMixinTypes.js').FormRegisteringMixin} FormRegisteringMixin\n * @typedef {import('../../types/registration/FormRegisteringMixinTypes.js').FormRegisteringHost} FormRegisteringHost\n * @typedef {import('../../types/registration/FormRegistrarMixinTypes.js').ElementWithParentFormGroup} ElementWithParentFormGroup\n * @typedef {import('../../types/registration/FormRegistrarMixinTypes.js').FormRegistrarHost} FormRegistrarHost\n */\n\n/**\n * #FormRegisteringMixin:\n *\n * This Mixin registers a form element to a Registrar\n *\n * @type {FormRegisteringMixin}\n * @param {import('@open-wc/dedupe-mixin').Constructor<LitElement>} superclass\n */\nconst FormRegisteringMixinImplementation = superclass =>\n  // @ts-ignore https://github.com/microsoft/TypeScript/issues/36821#issuecomment-588375051\n  class extends superclass {\n    constructor() {\n      super();\n      /**\n       * The name the element will be registered with to the .formElements collection\n       * of the parent. Also, it serves as the key of key/value pairs in\n       *  modelValue/serializedValue objects\n       * @type {string}\n       */\n      this.name = '';\n\n      /**\n       * The registrar this FormControl registers to, Usually a descendant of FormGroup or\n       * ChoiceGroup\n       * @type {FormRegistrarHost | undefined}\n       */\n      this._parentFormGroup = undefined;\n      /**\n       * To encourage accessibility best practices, `form-element-register` events\n       * do not pierce through shadow roots. This forces the developer to create form groups and fieldsets that automatically allow the creation of accessible relationships in the same dom tree.\n      Use this option if you know what you're doing. It will then be possible to nest FormControls\n      inside shadow dom. See https://lion-web.netlify.app/fundamentals/rationales/accessibility/#shadow-roots-and-accessibility\n      */\n      this.allowCrossRootRegistration = false;\n    }\n\n    /**\n     * Name attribute for the control.\n     * @type {string}\n     */\n    get name() {\n      return this.__name || '';\n    }\n\n    /**\n     * Converts values provided for the `name` attribute to string type.\n     * Mimics the native `input` behavior.\n     * @param {string} newName\n     */\n    set name(newName) {\n      const oldName = this.name;\n      this.__name = newName.toString();\n      this.requestUpdate('name', oldName);\n    }\n\n    static get properties() {\n      return {\n        name: { type: String, reflect: true },\n        allowCrossRootRegistration: { type: Boolean, attribute: 'allow-cross-root-registration' },\n      };\n    }\n\n    connectedCallback() {\n      super.connectedCallback();\n      this.dispatchEvent(\n        new CustomEvent('form-element-register', {\n          detail: { element: this },\n          bubbles: true,\n          composed: Boolean(this.allowCrossRootRegistration),\n        }),\n      );\n    }\n\n    disconnectedCallback() {\n      super.disconnectedCallback();\n      this.__unregisterFormElement();\n    }\n\n    /**\n     * Putting this in a separate method makes testing easier\n     * @private\n     */\n    __unregisterFormElement() {\n      if (this._parentFormGroup) {\n        this._parentFormGroup.removeFormElement(/** @type {* & FormRegisteringHost} */ (this));\n      }\n    }\n  };\n\nexport const FormRegisteringMixin = dedupeMixin(FormRegisteringMixinImplementation);\n","import { SlotMixin, DisabledMixin, uuid } from '@lion/ui/core.js';\nimport { dedupeMixin } from '@open-wc/dedupe-mixin';\nimport { css, html, nothing } from 'lit';\nimport { getAriaElementsInRightDomOrder } from './utils/getAriaElementsInRightDomOrder.js';\nimport { Unparseable } from './validate/Unparseable.js';\nimport { FormRegisteringMixin } from './registration/FormRegisteringMixin.js';\n\n/**\n * @typedef {import('lit').TemplateResult} TemplateResult\n * @typedef {import('lit').CSSResult} CSSResult\n * @typedef {import('lit').CSSResultArray} CSSResultArray\n * @typedef {import('../../core/types/SlotMixinTypes.js').SlotsMap} SlotsMap\n * @typedef {import('./validate/LionValidationFeedback.js').LionValidationFeedback} LionValidationFeedback\n * @typedef {import('../types/choice-group/ChoiceInputMixinTypes.js').ChoiceInputHost} ChoiceInputHost\n * @typedef {import('../types/FormControlMixinTypes.js').FormControlHost} FormControlHost\n * @typedef {import('../types/FormControlMixinTypes.js').HTMLElementWithValue} HTMLElementWithValue\n * @typedef {import('../types/FormControlMixinTypes.js').FormControlMixin} FormControlMixin\n * @typedef {import('../types/FormControlMixinTypes.js').ModelValueEventDetails} ModelValueEventDetails\n */\n\n/**\n * #FormControlMixin :\n *\n * This Mixin is a shared fundament for all form components, it's applied on:\n * - LionField (which is extended to LionInput, LionTextarea, LionSelect etc. etc.)\n * - LionFieldset (which is extended to LionRadioGroup, LionCheckboxGroup, LionForm)\n * @param {import('@open-wc/dedupe-mixin').Constructor<import('lit').LitElement>} superclass\n * @type {FormControlMixin}\n */\nconst FormControlMixinImplementation = superclass =>\n  // eslint-disable-next-line no-shadow, no-unused-vars\n  // @ts-ignore https://github.com/microsoft/TypeScript/issues/36821#issuecomment-588375051\n  class FormControlMixin extends FormRegisteringMixin(DisabledMixin(SlotMixin(superclass))) {\n    /** @type {any} */\n    static get properties() {\n      return {\n        readOnly: { type: Boolean, attribute: 'readonly', reflect: true },\n        label: String, // FIXME: { attribute: false } breaks a bunch of tests, but shouldn't...\n        labelSrOnly: { type: Boolean, attribute: 'label-sr-only', reflect: true },\n        helpText: { type: String, attribute: 'help-text' },\n        modelValue: { attribute: false },\n        _ariaLabelledNodes: { attribute: false },\n        _ariaDescribedNodes: { attribute: false },\n        _repropagationRole: { attribute: false },\n        _isRepropagationEndpoint: { attribute: false },\n      };\n    }\n\n    /**\n     * The label text for the input node.\n     * When no light dom defined via [slot=label], this value will be used.\n     * @type {string}\n     */\n    get label() {\n      return this.__label || (this._labelNode && this._labelNode.textContent) || '';\n    }\n\n    /**\n     * @param {string} newValue\n     */\n    set label(newValue) {\n      const oldValue = this.label;\n      /** @type {string} */\n      this.__label = newValue;\n      this.requestUpdate('label', oldValue);\n    }\n\n    /**\n     * The helpt text for the input node.\n     * When no light dom defined via [slot=help-text], this value will be used\n     * @type {string}\n     */\n    get helpText() {\n      return this.__helpText || (this._helpTextNode && this._helpTextNode.textContent) || '';\n    }\n\n    /**\n     * @param {string} newValue\n     */\n    set helpText(newValue) {\n      const oldValue = this.helpText;\n      /** @type {string} */\n      this.__helpText = newValue;\n      this.requestUpdate('helpText', oldValue);\n    }\n\n    /**\n     * Will be used in validation messages to refer to the current field\n     * @type {string}\n     */\n    get fieldName() {\n      return this.__fieldName || this.label || this.name || '';\n    }\n\n    /**\n     * @param {string} value\n     */\n    set fieldName(value) {\n      /** @type {string} */\n      this.__fieldName = value;\n    }\n\n    /**\n     * @configure SlotMixin\n     */\n    get slots() {\n      return {\n        ...super.slots,\n        label: () => {\n          const label = document.createElement('label');\n          label.textContent = this.label;\n          return label;\n        },\n        'help-text': () => {\n          const helpText = document.createElement('div');\n          helpText.textContent = this.helpText;\n          return helpText;\n        },\n      };\n    }\n\n    /**\n     * The interactive (form) element. Can be a native element like input/textarea/select or\n     * an element with tabindex > -1\n     * @protected\n     */\n    get _inputNode() {\n      return /** @type {HTMLElementWithValue} */ (this.__getDirectSlotChild('input'));\n    }\n\n    /**\n     * Element where label will be rendered to\n     * @protected\n     */\n    get _labelNode() {\n      return /** @type {HTMLElement} */ (this.__getDirectSlotChild('label'));\n    }\n\n    /**\n     * Element where help text will be rendered to\n     * @protected\n     */\n    get _helpTextNode() {\n      return /** @type {HTMLElement} */ (this.__getDirectSlotChild('help-text'));\n    }\n\n    /**\n     * Element where validation feedback will be rendered to\n     * @protected\n     */\n    get _feedbackNode() {\n      return /** @type {LionValidationFeedback} */ (this.__getDirectSlotChild('feedback'));\n    }\n\n    constructor() {\n      super();\n\n      /**\n       * A Boolean attribute which, if present, indicates that the user should not be able to edit\n       * the value of the input. The difference between disabled and readonly is that read-only\n       * controls can still function, whereas disabled controls generally do not function as\n       * controls until they are enabled.\n       * (From: https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input#attr-readonly)\n       * @type {boolean}\n       */\n      this.readOnly = false;\n\n      /**\n       * The label text for the input node.\n       * When no value is defined, textContent of [slot=label] will be used\n       * @type {string}\n       */\n      this.label = '';\n\n      /**\n       * The label will only be visible for srceen readers when true\n       * @type {boolean}\n       */\n      this.labelSrOnly = false;\n\n      /**\n       * The helpt text for the input node.\n       * When no value is defined, textContent of [slot=help-text] will be used\n       * @type {string}\n       */\n      this.helpText = '';\n\n      /**\n       * The model value is the result of the parser function(when available).\n       * It should be considered as the internal value used for validation and reasoning/logic.\n       * The model value is 'ready for consumption' by the outside world (think of a Date\n       * object or a float). The modelValue can(and is recommended to) be used as both input\n       * value and output value of the `LionField`.\n       *\n       * Examples:\n       * - For a date input: a String '20/01/1999' will be converted to new Date('1999/01/20')\n       * - For a number input: a formatted String '1.234,56' will be converted to a Number:\n       *   1234.56\n       */\n      // TODO: we can probably set this up properly once propert effects run from firstUpdated\n      // this.modelValue = undefined;\n      /**\n       * Unique id that can be used in all light dom\n       * @type {string}\n       * @protected\n       */\n      this._inputId = uuid(this.localName);\n\n      /**\n       * Contains all elements that should end up in aria-labelledby of `._inputNode`\n       * @type {HTMLElement[]}\n       */\n      this._ariaLabelledNodes = [];\n\n      /**\n       * Contains all elements that should end up in aria-describedby of `._inputNode`\n       * @type {HTMLElement[]}\n       */\n      this._ariaDescribedNodes = [];\n\n      /**\n       * Based on the role, details of handling model-value-changed repropagation differ.\n       * @type {'child'|'choice-group'|'fieldset'}\n       */\n      this._repropagationRole = 'child';\n\n      /**\n       * By default, a field with _repropagationRole 'choice-group' will act as an\n       * 'endpoint'. This means it will be considered as an individual field: for\n       * a select, individual options will not be part of the formPath. They\n       * will.\n       * Similarly, components that (a11y wise) need to be fieldsets, but 'interaction wise'\n       * (from Application Developer perspective) need to be more like fields\n       * (think of an amount-input with a currency select box next to it), can set this\n       * to true to hide private internals in the formPath.\n       * @type {boolean}\n       */\n      this._isRepropagationEndpoint = false;\n\n      this.addEventListener(\n        'model-value-changed',\n        /** @type {EventListenerOrEventListenerObject} */ (this.__repropagateChildrenValues),\n      );\n      /** @type {EventListener} */\n      this._onLabelClick = this._onLabelClick.bind(this);\n    }\n\n    connectedCallback() {\n      super.connectedCallback();\n      this._enhanceLightDomClasses();\n      this._enhanceLightDomA11y();\n      this._triggerInitialModelValueChangedEvent();\n\n      if (this._labelNode) {\n        this._labelNode.addEventListener('click', this._onLabelClick);\n      }\n    }\n\n    disconnectedCallback() {\n      super.disconnectedCallback();\n      if (this._labelNode) {\n        this._labelNode.removeEventListener('click', this._onLabelClick);\n      }\n    }\n\n    /** @param {import('lit').PropertyValues } changedProperties */\n    updated(changedProperties) {\n      super.updated(changedProperties);\n\n      if (changedProperties.has('disabled')) {\n        this._inputNode?.setAttribute('aria-disabled', this.disabled.toString());\n      }\n\n      if (changedProperties.has('_ariaLabelledNodes')) {\n        this.__reflectAriaAttr(\n          'aria-labelledby',\n          this._ariaLabelledNodes,\n          this.__reorderAriaLabelledNodes,\n        );\n      }\n\n      if (changedProperties.has('_ariaDescribedNodes')) {\n        this.__reflectAriaAttr(\n          'aria-describedby',\n          this._ariaDescribedNodes,\n          this.__reorderAriaDescribedNodes,\n        );\n      }\n\n      if (changedProperties.has('label') && this._labelNode) {\n        this._labelNode.textContent = this.label;\n      }\n\n      if (changedProperties.has('helpText') && this._helpTextNode) {\n        this._helpTextNode.textContent = this.helpText;\n      }\n\n      if (changedProperties.has('name')) {\n        this.dispatchEvent(\n          /** @privateEvent */\n          new CustomEvent('form-element-name-changed', {\n            detail: { oldName: changedProperties.get('name'), newName: this.name },\n            bubbles: true,\n          }),\n        );\n      }\n    }\n\n    /** @protected */\n    _triggerInitialModelValueChangedEvent() {\n      this._dispatchInitialModelValueChangedEvent();\n    }\n\n    /** @protected */\n    _enhanceLightDomClasses() {\n      if (this._inputNode) {\n        this._inputNode.classList.add('form-control');\n      }\n    }\n\n    /** @protected */\n    _enhanceLightDomA11y() {\n      const { _inputNode, _labelNode, _helpTextNode, _feedbackNode } = this;\n\n      if (_inputNode) {\n        _inputNode.id = _inputNode.id || this._inputId;\n      }\n      if (_labelNode) {\n        _labelNode.setAttribute('for', this._inputId);\n        this.addToAriaLabelledBy(_labelNode, { idPrefix: 'label' });\n      }\n      if (_helpTextNode) {\n        this.addToAriaDescribedBy(_helpTextNode, { idPrefix: 'help-text' });\n      }\n      if (_feedbackNode) {\n        // Generic focus/blur handling that works for both Fields/FormGroups\n        this.addEventListener('focusin', () => {\n          _feedbackNode.setAttribute('aria-live', 'polite');\n        });\n        this.addEventListener('focusout', () => {\n          _feedbackNode.setAttribute('aria-live', 'assertive');\n        });\n\n        this.addToAriaDescribedBy(_feedbackNode, { idPrefix: 'feedback' });\n      }\n      this._enhanceLightDomA11yForAdditionalSlots();\n    }\n\n    /**\n     * Enhances additional slots(prefix, suffix, before, after) defined by developer.\n     *\n     * When boolean attribute data-label or data-description is found,\n     * the slot element will be connected to the input via aria-labelledby or aria-describedby\n     * @param {string[]} additionalSlots\n     * @protected\n     */\n    _enhanceLightDomA11yForAdditionalSlots(\n      additionalSlots = ['prefix', 'suffix', 'before', 'after'],\n    ) {\n      additionalSlots.forEach(additionalSlot => {\n        const element = this.__getDirectSlotChild(additionalSlot);\n        if (element) {\n          if (element.hasAttribute('data-label')) {\n            this.addToAriaLabelledBy(element, { idPrefix: additionalSlot });\n          }\n          if (element.hasAttribute('data-description')) {\n            this.addToAriaDescribedBy(element, { idPrefix: additionalSlot });\n          }\n        }\n      });\n    }\n\n    /**\n     * Will handle help text, validation feedback and character counter,\n     * prefix/suffix/before/after (if they contain data-description flag attr).\n     * Also, contents of id references that will be put in the <lion-field>._ariaDescribedby property\n     * from an external context, will be read by a screen reader.\n     * @param {string} attrName\n     * @param {Element[]} nodes\n     * @param {boolean|undefined} reorder\n     */\n    __reflectAriaAttr(attrName, nodes, reorder) {\n      if (this._inputNode) {\n        if (reorder) {\n          const insideNodes = nodes.filter(n => this.contains(n));\n          const outsideNodes = nodes.filter(n => !this.contains(n));\n\n          const insideSlots = insideNodes.map(n => n.assignedSlot || n);\n          const orderedInsideSlots = [...getAriaElementsInRightDomOrder(insideSlots)];\n          /** @type {Element[]} */\n          const orderedInsideNodes = [];\n          orderedInsideSlots.forEach(assignedNode => {\n            insideNodes.forEach(node => {\n              // @ts-ignore\n              if (assignedNode.name === node.slot) {\n                orderedInsideNodes.push(node);\n              }\n            });\n          });\n          // eslint-disable-next-line no-param-reassign\n          nodes = [...orderedInsideNodes, ...outsideNodes];\n        }\n        const string = nodes.map(n => n.id).join(' ');\n        this._inputNode.setAttribute(attrName, string);\n      }\n    }\n\n    /**\n     * Default Render Result:\n     * <div class=\"form-field__group-one\">\n     *   <div class=\"form-field__label\">\n     *     <slot name=\"label\"></slot>\n     *   </div>\n     *   <small class=\"form-field__help-text\">\n     *     <slot name=\"help-text\"></slot>\n     *   </small>\n     * </div>\n     * <div class=\"form-field__group-two\">\n     *   <div class=\"input-group\">\n     *     <div class=\"input-group__before\">\n     *       <slot name=\"before\"></slot>\n     *     </div>\n     *     <div class=\"input-group__container\">\n     *       <div class=\"input-group__prefix\">\n     *         <slot name=\"prefix\"></slot>\n     *       </div>\n     *       <div class=\"input-group__input\">\n     *         <slot name=\"input\"></slot>\n     *       </div>\n     *       <div class=\"input-group__suffix\">\n     *         <slot name=\"suffix\"></slot>\n     *       </div>\n     *     </div>\n     *     <div class=\"input-group__after\">\n     *       <slot name=\"after\"></slot>\n     *     </div>\n     *   </div>\n     *   <div class=\"form-field__feedback\">\n     *     <slot name=\"feedback\"></slot>\n     *   </div>\n     * </div>\n     */\n    render() {\n      return html`\n        <div class=\"form-field__group-one\">${this._groupOneTemplate()}</div>\n        <div class=\"form-field__group-two\">${this._groupTwoTemplate()}</div>\n      `;\n    }\n\n    /**\n     * @return {TemplateResult}\n     * @protected\n     */\n    _groupOneTemplate() {\n      return html` ${this._labelTemplate()} ${this._helpTextTemplate()} `;\n    }\n\n    /**\n     * @return {TemplateResult}\n     * @protected\n     */\n    _groupTwoTemplate() {\n      return html` ${this._inputGroupTemplate()} ${this._feedbackTemplate()} `;\n    }\n\n    /**\n     * @return {TemplateResult}\n     * @protected\n     */\n    // eslint-disable-next-line class-methods-use-this\n    _labelTemplate() {\n      return html`\n        <div class=\"form-field__label\">\n          <slot name=\"label\"></slot>\n        </div>\n      `;\n    }\n\n    /**\n     * @return {TemplateResult}\n     * @protected\n     */\n    // eslint-disable-next-line class-methods-use-this\n    _helpTextTemplate() {\n      return html`\n        <small class=\"form-field__help-text\">\n          <slot name=\"help-text\"></slot>\n        </small>\n      `;\n    }\n\n    /**\n     * @return {TemplateResult}\n     * @protected\n     */\n    _inputGroupTemplate() {\n      return html`\n        <div class=\"input-group\">\n          ${this._inputGroupBeforeTemplate()}\n          <div class=\"input-group__container\">\n            ${this._inputGroupPrefixTemplate()} ${this._inputGroupInputTemplate()}\n            ${this._inputGroupSuffixTemplate()}\n          </div>\n          ${this._inputGroupAfterTemplate()}\n        </div>\n      `;\n    }\n\n    /**\n     * @return {TemplateResult}\n     * @protected\n     */\n    // eslint-disable-next-line class-methods-use-this\n    _inputGroupBeforeTemplate() {\n      return html`\n        <div class=\"input-group__before\">\n          <slot name=\"before\"></slot>\n        </div>\n      `;\n    }\n\n    /**\n     * @return {TemplateResult | nothing}\n     * @protected\n     */\n    _inputGroupPrefixTemplate() {\n      return !Array.from(this.children).find(child => child.slot === 'prefix')\n        ? nothing\n        : html`\n            <div class=\"input-group__prefix\">\n              <slot name=\"prefix\"></slot>\n            </div>\n          `;\n    }\n\n    /**\n     * @return {TemplateResult}\n     * @protected\n     */\n    // eslint-disable-next-line class-methods-use-this\n    _inputGroupInputTemplate() {\n      return html`\n        <div class=\"input-group__input\">\n          <slot name=\"input\"></slot>\n        </div>\n      `;\n    }\n\n    /**\n     * @return {TemplateResult | nothing}\n     * @protected\n     */\n    _inputGroupSuffixTemplate() {\n      return !Array.from(this.children).find(child => child.slot === 'suffix')\n        ? nothing\n        : html`\n            <div class=\"input-group__suffix\">\n              <slot name=\"suffix\"></slot>\n            </div>\n          `;\n    }\n\n    /**\n     * @return {TemplateResult}\n     * @protected\n     */\n    // eslint-disable-next-line class-methods-use-this\n    _inputGroupAfterTemplate() {\n      return html`\n        <div class=\"input-group__after\">\n          <slot name=\"after\"></slot>\n        </div>\n      `;\n    }\n\n    /**\n     * @return {TemplateResult}\n     * @protected\n     */\n    // eslint-disable-next-line class-methods-use-this\n    _feedbackTemplate() {\n      return html`\n        <div class=\"form-field__feedback\">\n          <slot name=\"feedback\"></slot>\n        </div>\n      `;\n    }\n\n    /**\n     * Used for Required validation and computation of interaction states\n     * @param {any} modelValue\n     * @return {boolean}\n     * @protected\n     */\n    _isEmpty(modelValue = /** @type {any} */ (this).modelValue) {\n      let value = modelValue;\n      if (/** @type {any} */ (this).modelValue instanceof Unparseable) {\n        value = /** @type {any} */ (this).modelValue.viewValue;\n      }\n\n      // Checks for empty platform types: Objects, Arrays, Dates\n      if (typeof value === 'object' && value !== null && !(value instanceof Date)) {\n        return !Object.keys(value).length;\n      }\n\n      // eslint-disable-next-line no-mixed-operators\n      // Checks for empty platform types: Numbers, Booleans\n      const isNumberValue = typeof value === 'number' && (value === 0 || Number.isNaN(value));\n      const isBooleanValue = typeof value === 'boolean' && value === false;\n\n      return !value && !isNumberValue && !isBooleanValue;\n    }\n\n    /**\n     * All CSS below is written from a generic mindset, following BEM conventions:\n     * https://en.bem.info/methodology/\n     * Although the CSS and HTML are implemented by the component, they should be regarded as\n     * totally decoupled.\n     *\n     * Not only does this force us to write better structured css, it also allows for future\n     * reusability in many different ways like:\n     *  - disabling shadow DOM for a component (for water proof encapsulation can be combined with\n     *    a build step)\n     *  - easier translation to more flexible, WebComponents agnostic solutions like JSS\n     *    (allowing extends, mixins, reasoning, IDE integration, tree shaking etc.)\n     *  - export to a CSS module for reuse in an outer context\n     *\n     *\n     * Please note that the HTML structure is purposely 'loose', allowing multiple design systems\n     * to be compatible\n     * with the CSS component.\n     * Note that every occurence of '::slotted(*)' can be rewritten to '> *' for use in an other\n     * context\n     */\n\n    /**\n     * {block} .form-field\n     *\n     * Structure:\n     * - {element}  .form-field__label : a wrapper element around the projected label\n     * - {element}  .form-field__help-text (optional) : a wrapper element around the projected\n     *               help-text\n     * - {block}    .input-group : a container around the input element, including prefixes and\n     *               suffixes\n     * - {element}  .form-field__feedback (optional) : a wrapper element around the projected\n     *               (validation) feedback message\n     *\n     * Modifiers:\n     * - {state} [disabled] when .form-control (<input>, <textarea> etc.) has disabled set\n     *            to true\n     * - {state} [filled] whether <input> has a value\n     * - {state} [touched] whether the user had blurred the field once\n     * - {state} [dirty] whether the value has changed since initial value\n     *\n     * TODO: update states below\n     * These classes are now attributes. Check them agains the new attribute names inside ValidateMixin\n     * and InteractionStateMixin. Some states got renamed. Make sure to use the correct ones!\n     * - {state} .state-focused: when .form-control (<input>, <textarea> etc.) <input> has focus\n     * - {state} .state-invalid: when input has error(s) (regardless of whether they should be\n     *            shown to the user)\n     * - {state} .state-error: when input has error(s) and this/these should be shown to the user\n     * - {state} .state-warning: when input has warning(s) and this/these should be shown to the\n     *            user\n     * - {state} .state-info: when input has info feedback message(s) and this/these should be shown\n     *            to the user\n     * - {state} .state-success: when input has success feedback message(s) and this/these should be\n     *            shown to the user\n     */\n\n    /**\n     * {block} .input-group\n     *\n     * Structure:\n     * - {element} .input-group__before (optional) : a prefix that resides outside the container\n     * - {element} .input-group__container : an inner container: this element contains all styling\n     *  - {element} .input-group__prefix (optional) : a prefix that resides in the container,\n     *               allowing it to be detectable as a :first-child\n     *  - {element} .input-group__input : a wrapper around the form-control component\n     *   - {block} .form-control : the actual input element (input/select/textarea)\n     *  - {element} .input-group__suffix (optional) : a suffix that resides inside the container,\n     *               allowing it to be detectable as a :last-child\n     *  - {element} .input-group__bottom (optional) : placeholder element for additional styling\n     *               (like an animated line for material design input)\n     * - {element} .input-group__after (optional) :  a suffix that resides outside the container\n     */\n    static get styles() {\n      return [\n        css`\n          /**********************\n            {block} .form-field\n           ********************/\n\n          :host {\n            display: block;\n          }\n\n          :host([hidden]) {\n            display: none;\n          }\n\n          :host([disabled]) {\n            pointer-events: none;\n          }\n\n          :host([disabled]) .form-field__label ::slotted(*),\n          :host([disabled]) .form-field__help-text ::slotted(*) {\n            color: var(--disabled-text-color, #767676);\n          }\n\n          :host([label-sr-only]) .form-field__label {\n            position: absolute;\n            top: 0;\n            width: 1px;\n            height: 1px;\n            overflow: hidden;\n            clip-path: inset(100%);\n            clip: rect(1px, 1px, 1px, 1px);\n            white-space: nowrap;\n            border: 0;\n            margin: 0;\n            padding: 0;\n          }\n\n          /***********************\n            {block} .input-group\n           *********************/\n\n          .input-group__container {\n            display: flex;\n          }\n\n          .input-group__input {\n            flex: 1;\n            display: flex;\n          }\n\n          /***** {state} :disabled *****/\n          :host([disabled]) .input-group ::slotted([slot='input']) {\n            color: var(--disabled-text-color, #767676);\n          }\n\n          /***********************\n            {block} .form-control\n           **********************/\n\n          .input-group__container > .input-group__input ::slotted(.form-control) {\n            flex: 1 1 auto;\n            margin: 0; /* remove input margin in Safari */\n            font-size: 100%; /* normalize default input font-size */\n          }\n        `,\n      ];\n    }\n\n    /**\n     * This function exposes descripion elements that a FormGroup should expose to its\n     * children. See FormGroupMixin.__getAllDescriptionElementsInParentChain()\n     * @return {Array.<HTMLElement>}\n     * @protected\n     */\n    // Returns dom references to all elements that should be referred to by field(s)\n    _getAriaDescriptionElements() {\n      return [this._helpTextNode, this._feedbackNode];\n    }\n\n    /**\n     * Allows to add extra element references to aria-labelledby attribute.\n     * @param {HTMLElement} element\n     * @param {{idPrefix?:string; reorder?: boolean}} customConfig\n     */\n    addToAriaLabelledBy(element, { idPrefix = '', reorder = true } = {}) {\n      // eslint-disable-next-line no-param-reassign\n      element.id = element.id || `${idPrefix}-${this._inputId}`;\n      if (!this._ariaLabelledNodes.includes(element)) {\n        this._ariaLabelledNodes = [...this._ariaLabelledNodes, element];\n        // This value will be read when we need to reflect to attr\n        /** @type {boolean} */\n        this.__reorderAriaLabelledNodes = Boolean(reorder);\n      }\n    }\n\n    /**\n     * Allows to remove element references from aria-labelledby attribute.\n     * @param {HTMLElement} element\n     */\n    removeFromAriaLabelledBy(element) {\n      if (this._ariaLabelledNodes.includes(element)) {\n        this._ariaLabelledNodes.splice(this._ariaLabelledNodes.indexOf(element), 1);\n        this._ariaLabelledNodes = [...this._ariaLabelledNodes];\n        // This value will be read when we need to reflect to attr\n        /** @type {boolean} */\n        this.__reorderAriaLabelledNodes = false;\n      }\n    }\n\n    /**\n     * Allows to add element references to aria-describedby attribute.\n     * @param {HTMLElement} element\n     * @param {{idPrefix?:string; reorder?: boolean}} customConfig\n     */\n    addToAriaDescribedBy(element, { idPrefix = '', reorder = true } = {}) {\n      // eslint-disable-next-line no-param-reassign\n      element.id = element.id || `${idPrefix}-${this._inputId}`;\n      if (!this._ariaDescribedNodes.includes(element)) {\n        this._ariaDescribedNodes = [...this._ariaDescribedNodes, element];\n        // This value will be read when we need to reflect to attr\n        /** @type {boolean} */\n        this.__reorderAriaDescribedNodes = Boolean(reorder);\n      }\n    }\n\n    /**\n     * Allows to remove element references from aria-describedby attribute.\n     * @param {HTMLElement} element\n     */\n    removeFromAriaDescribedBy(element) {\n      if (this._ariaDescribedNodes.includes(element)) {\n        this._ariaDescribedNodes.splice(this._ariaDescribedNodes.indexOf(element), 1);\n        this._ariaDescribedNodes = [...this._ariaDescribedNodes];\n        // This value will be read when we need to reflect to attr\n        /** @type {boolean} */\n        this.__reorderAriaLabelledNodes = false;\n      }\n    }\n\n    /**\n     * @param {string} slotName\n     * @return {HTMLElement | undefined}\n     */\n    __getDirectSlotChild(slotName) {\n      return /** @type {HTMLElement[]} */ (Array.from(this.children)).find(\n        el => el.slot === slotName,\n      );\n    }\n\n    _dispatchInitialModelValueChangedEvent() {\n      // When we are not a fieldset / choice-group, we don't need to wait for our children\n      // to send a unified event\n      if (this._repropagationRole === 'child') {\n        return;\n      }\n\n      // Initially we don't repropagate model-value-changed events coming\n      // from children. On firstUpdated we re-dispatch this event to maintain\n      // 'count consistency' (to not confuse the application developer with a\n      // large number of initial events). Initially the source field will not\n      // be part of the formPath but afterwards it will.\n      /** @type {boolean} */\n      this.__repropagateChildrenInitialized = true;\n      this.dispatchEvent(\n        new CustomEvent('model-value-changed', {\n          bubbles: true,\n          detail: /** @type {ModelValueEventDetails} */ ({\n            formPath: [this],\n            initialize: true,\n            isTriggeredByUser: false,\n          }),\n        }),\n      );\n    }\n\n    /**\n     * Hook for Subclassers to add logic before repropagation\n     * @configurable\n     * @param {CustomEvent} ev\n     * @protected\n     */\n    // eslint-disable-next-line class-methods-use-this, no-unused-vars\n    _onBeforeRepropagateChildrenValues(ev) {}\n\n    /**\n     * @param {CustomEvent} ev\n     */\n    __repropagateChildrenValues(ev) {\n      // Allows sub classes to internally listen to the children change events\n      // (before stopImmediatePropagation is called below).\n      this._onBeforeRepropagateChildrenValues(ev);\n      // Normalize target, we also might get it from 'portals' (rich select)\n      const target = (ev.detail && ev.detail.element) || ev.target;\n      const isEndpoint =\n        this._isRepropagationEndpoint || this._repropagationRole === 'choice-group';\n\n      // Prevent eternal loops after we sent the event below.\n      if (target === this) {\n        return;\n      }\n\n      // A. Stop sibling handlers\n      //\n      // Make sure our sibling event listeners (added by Application developers) will not get\n      // the child model-value-changed event, but the repropagated one at the bottom of this\n      // method\n      ev.stopImmediatePropagation();\n\n      // B1. Are we still initializing? If so, halt...\n      //\n      // Stop repropagating children events before firstUpdated and make sure we de not\n      // repropagate init events of our children (we already sent our own\n      // initial model-value-change event in firstUpdated)\n      const isGroup = this._repropagationRole !== 'child'; // => fieldset or choice-group\n      const isSelfInitializing = isGroup && !this.__repropagateChildrenInitialized;\n      const isChildGroupInitializing = ev.detail && ev.detail.initialize;\n      if (isSelfInitializing || isChildGroupInitializing) {\n        return;\n      }\n\n      // B2. Are we a single choice choice-group? If so, halt when target unchecked\n      // and something else is checked, meaning we will get\n      // another model-value-changed dispatch for the checked target\n      //\n      // We only send the checked changed up (not the unchecked). In this way a choice group\n      // (radio-group, checkbox-group, select/listbox) acts as an 'endpoint' (a single Field)\n      // just like the native <select>\n      if (!this._repropagationCondition(target)) {\n        return;\n      }\n\n      // C1. We are ready to dispatch. Create a formPath\n      //\n      // Compute the formPath. Choice groups are regarded 'end points'\n      let parentFormPath = [];\n      if (!isEndpoint) {\n        parentFormPath = (ev.detail && ev.detail.formPath) || [target];\n      }\n      const formPath = [...parentFormPath, this];\n\n      // C2. Finally, redispatch a fresh model-value-changed event from our host, consumable\n      // for an Application Developer\n      //\n      // Since for a11y everything needs to be in lightdom, we don't add 'composed:true'\n      this.dispatchEvent(\n        new CustomEvent('model-value-changed', {\n          bubbles: true,\n          detail: /** @type {ModelValueEventDetails} */ ({\n            formPath,\n            isTriggeredByUser: Boolean(ev.detail?.isTriggeredByUser),\n          }),\n        }),\n      );\n    }\n\n    /**\n     * Based on provided target, this condition determines whether received model-value-changed\n     * event should be repropagated\n     * @param {FormControlHost} target\n     * @protected\n     * @overridable\n     */\n    // eslint-disable-next-line class-methods-use-this\n    _repropagationCondition(target) {\n      return Boolean(target);\n    }\n\n    /**\n     * @overridable\n     * A Subclasser should only override this method if the interactive element\n     * ([slot=input]) is not a native element(like input, textarea, select)\n     * that already receives focus on label click.\n     *\n     * @example\n     * _onLabelClick() {\n     *   this._invokerNode.focus();\n     * }\n     * @protected\n     */\n    // eslint-disable-next-line class-methods-use-this\n    _onLabelClick() {}\n  };\n\nexport const FormControlMixin = dedupeMixin(FormControlMixinImplementation);\n","function createCommonjsModule(fn, module) {\n\treturn module = { exports: {} }, fn(module, module.exports), module.exports;\n}\n\n// @flow\nvar LONG = 'long';\nvar SHORT = 'short';\nvar NARROW = 'narrow';\nvar NUMERIC = 'numeric';\nvar TWODIGIT = '2-digit';\n\n/**\n * formatting information\n **/\nvar formatMessageFormats = {\n  number: {\n    decimal: {\n      style: 'decimal'\n    },\n    integer: {\n      style: 'decimal',\n      maximumFractionDigits: 0\n    },\n    currency: {\n      style: 'currency',\n      currency: 'USD'\n    },\n    percent: {\n      style: 'percent'\n    },\n    default: {\n      style: 'decimal'\n    }\n  },\n  date: {\n    short: {\n      month: NUMERIC,\n      day: NUMERIC,\n      year: TWODIGIT\n    },\n    medium: {\n      month: SHORT,\n      day: NUMERIC,\n      year: NUMERIC\n    },\n    long: {\n      month: LONG,\n      day: NUMERIC,\n      year: NUMERIC\n    },\n    full: {\n      month: LONG,\n      day: NUMERIC,\n      year: NUMERIC,\n      weekday: LONG\n    },\n    default: {\n      month: SHORT,\n      day: NUMERIC,\n      year: NUMERIC\n    }\n  },\n  time: {\n    short: {\n      hour: NUMERIC,\n      minute: NUMERIC\n    },\n    medium: {\n      hour: NUMERIC,\n      minute: NUMERIC,\n      second: NUMERIC\n    },\n    long: {\n      hour: NUMERIC,\n      minute: NUMERIC,\n      second: NUMERIC,\n      timeZoneName: SHORT\n    },\n    full: {\n      hour: NUMERIC,\n      minute: NUMERIC,\n      second: NUMERIC,\n      timeZoneName: SHORT\n    },\n    default: {\n      hour: NUMERIC,\n      minute: NUMERIC,\n      second: NUMERIC\n    }\n  },\n  duration: {\n    default: {\n      hours: {\n        minimumIntegerDigits: 1,\n        maximumFractionDigits: 0\n      },\n      minutes: {\n        minimumIntegerDigits: 2,\n        maximumFractionDigits: 0\n      },\n      seconds: {\n        minimumIntegerDigits: 2,\n        maximumFractionDigits: 3\n      }\n    }\n  },\n  parseNumberPattern: function (pattern/*: ?string */) {\n    if (!pattern) return\n    var options = {};\n    var currency = pattern.match(/\\b[A-Z]{3}\\b/i);\n    var syms = pattern.replace(/[^¤]/g, '').length;\n    if (!syms && currency) syms = 1;\n    if (syms) {\n      options.style = 'currency';\n      options.currencyDisplay = syms === 1 ? 'symbol' : syms === 2 ? 'code' : 'name';\n      options.currency = currency ? currency[0].toUpperCase() : 'USD';\n    } else if (pattern.indexOf('%') >= 0) {\n      options.style = 'percent';\n    }\n    if (!/[@#0]/.test(pattern)) return options.style ? options : undefined\n    options.useGrouping = pattern.indexOf(',') >= 0;\n    if (/E\\+?[@#0]+/i.test(pattern) || pattern.indexOf('@') >= 0) {\n      var size = pattern.replace(/E\\+?[@#0]+|[^@#0]/gi, '');\n      options.minimumSignificantDigits = Math.min(Math.max(size.replace(/[^@0]/g, '').length, 1), 21);\n      options.maximumSignificantDigits = Math.min(Math.max(size.length, 1), 21);\n    } else {\n      var parts = pattern.replace(/[^#0.]/g, '').split('.');\n      var integer = parts[0];\n      var n = integer.length - 1;\n      while (integer[n] === '0') --n;\n      options.minimumIntegerDigits = Math.min(Math.max(integer.length - 1 - n, 1), 21);\n      var fraction = parts[1] || '';\n      n = 0;\n      while (fraction[n] === '0') ++n;\n      options.minimumFractionDigits = Math.min(Math.max(n, 0), 20);\n      while (fraction[n] === '#') ++n;\n      options.maximumFractionDigits = Math.min(Math.max(n, 0), 20);\n    }\n    return options\n  },\n  parseDatePattern: function (pattern/*: ?string */) {\n    if (!pattern) return\n    var options = {};\n    for (var i = 0; i < pattern.length;) {\n      var current = pattern[i];\n      var n = 1;\n      while (pattern[++i] === current) ++n;\n      switch (current) {\n        case 'G':\n          options.era = n === 5 ? NARROW : n === 4 ? LONG : SHORT;\n          break\n        case 'y':\n        case 'Y':\n          options.year = n === 2 ? TWODIGIT : NUMERIC;\n          break\n        case 'M':\n        case 'L':\n          n = Math.min(Math.max(n - 1, 0), 4);\n          options.month = [NUMERIC, TWODIGIT, SHORT, LONG, NARROW][n];\n          break\n        case 'E':\n        case 'e':\n        case 'c':\n          options.weekday = n === 5 ? NARROW : n === 4 ? LONG : SHORT;\n          break\n        case 'd':\n        case 'D':\n          options.day = n === 2 ? TWODIGIT : NUMERIC;\n          break\n        case 'h':\n        case 'K':\n          options.hour12 = true;\n          options.hour = n === 2 ? TWODIGIT : NUMERIC;\n          break\n        case 'H':\n        case 'k':\n          options.hour12 = false;\n          options.hour = n === 2 ? TWODIGIT : NUMERIC;\n          break\n        case 'm':\n          options.minute = n === 2 ? TWODIGIT : NUMERIC;\n          break\n        case 's':\n        case 'S':\n          options.second = n === 2 ? TWODIGIT : NUMERIC;\n          break\n        case 'z':\n        case 'Z':\n        case 'v':\n        case 'V':\n          options.timeZoneName = n === 1 ? SHORT : LONG;\n          break\n      }\n    }\n    return Object.keys(options).length ? options : undefined\n  }\n};\n\n// @flow\n// \"lookup\" algorithm http://tools.ietf.org/html/rfc4647#section-3.4\n// assumes normalized language tags, and matches in a case sensitive manner\nvar lookupClosestLocale = function lookupClosestLocale (locale/*: string | string[] | void */, available/*: { [string]: any } */)/*: ?string */ {\n  if (typeof locale === 'string' && available[locale]) return locale\n  var locales = [].concat(locale || []);\n  for (var l = 0, ll = locales.length; l < ll; ++l) {\n    var current = locales[l].split('-');\n    while (current.length) {\n      var candidate = current.join('-');\n      if (available[candidate]) return candidate\n      current.pop();\n    }\n  }\n};\n\n// @flow\n\n/*:: export type Rule = 'zero' | 'one' | 'two' | 'few' | 'many' | 'other' */\nvar zero = 'zero', one = 'one', two = 'two', few = 'few', many = 'many', other = 'other';\nvar f = [\n  function (s/*: string | number */)/*: Rule */ {\n    var n = +s;\n    return n === 1 ? one\n      : other\n  },\n  function (s/*: string | number */)/*: Rule */ {\n    var n = +s;\n    return 0 <= n && n <= 1 ? one\n      : other\n  },\n  function (s/*: string | number */)/*: Rule */ {\n    var i = Math.floor(Math.abs(+s));\n    var n = +s;\n    return i === 0 || n === 1 ? one\n      : other\n  },\n  function (s/*: string | number */)/*: Rule */ {\n    var n = +s;\n    return n === 0 ? zero\n      : n === 1 ? one\n      : n === 2 ? two\n      : 3 <= n % 100 && n % 100 <= 10 ? few\n      : 11 <= n % 100 && n % 100 <= 99 ? many\n      : other\n  },\n  function (s/*: string | number */)/*: Rule */ {\n    var i = Math.floor(Math.abs(+s));\n    var v = (s + '.').split('.')[1].length;\n    return i === 1 && v === 0 ? one\n      : other\n  },\n  function (s/*: string | number */)/*: Rule */ {\n    var n = +s;\n    return n % 10 === 1 && n % 100 !== 11 ? one\n      : (2 <= n % 10 && n % 10 <= 4) && (n % 100 < 12 || 14 < n % 100) ? few\n      : n % 10 === 0 || (5 <= n % 10 && n % 10 <= 9) || (11 <= n % 100 && n % 100 <= 14) ? many\n      : other\n  },\n  function (s/*: string | number */)/*: Rule */ {\n    var n = +s;\n    return n % 10 === 1 && (n % 100 !== 11 && n % 100 !== 71 && n % 100 !== 91) ? one\n      : n % 10 === 2 && (n % 100 !== 12 && n % 100 !== 72 && n % 100 !== 92) ? two\n      : ((3 <= n % 10 && n % 10 <= 4) || n % 10 === 9) && ((n % 100 < 10 || 19 < n % 100) && (n % 100 < 70 || 79 < n % 100) && (n % 100 < 90 || 99 < n % 100)) ? few\n      : n !== 0 && n % 1000000 === 0 ? many\n      : other\n  },\n  function (s/*: string | number */)/*: Rule */ {\n    var i = Math.floor(Math.abs(+s));\n    var v = (s + '.').split('.')[1].length;\n    var f = +(s + '.').split('.')[1];\n    return v === 0 && i % 10 === 1 && i % 100 !== 11 || f % 10 === 1 && f % 100 !== 11 ? one\n      : v === 0 && (2 <= i % 10 && i % 10 <= 4) && (i % 100 < 12 || 14 < i % 100) || (2 <= f % 10 && f % 10 <= 4) && (f % 100 < 12 || 14 < f % 100) ? few\n      : other\n  },\n  function (s/*: string | number */)/*: Rule */ {\n    var i = Math.floor(Math.abs(+s));\n    var v = (s + '.').split('.')[1].length;\n    return i === 1 && v === 0 ? one\n      : (2 <= i && i <= 4) && v === 0 ? few\n      : v !== 0 ? many\n      : other\n  },\n  function (s/*: string | number */)/*: Rule */ {\n    var n = +s;\n    return n === 0 ? zero\n      : n === 1 ? one\n      : n === 2 ? two\n      : n === 3 ? few\n      : n === 6 ? many\n      : other\n  },\n  function (s/*: string | number */)/*: Rule */ {\n    var i = Math.floor(Math.abs(+s));\n    var t = +('' + s).replace(/^[^.]*.?|0+$/g, '');\n    var n = +s;\n    return n === 1 || t !== 0 && (i === 0 || i === 1) ? one\n      : other\n  },\n  function (s/*: string | number */)/*: Rule */ {\n    var i = Math.floor(Math.abs(+s));\n    var v = (s + '.').split('.')[1].length;\n    var f = +(s + '.').split('.')[1];\n    return v === 0 && i % 100 === 1 || f % 100 === 1 ? one\n      : v === 0 && i % 100 === 2 || f % 100 === 2 ? two\n      : v === 0 && (3 <= i % 100 && i % 100 <= 4) || (3 <= f % 100 && f % 100 <= 4) ? few\n      : other\n  },\n  function (s/*: string | number */)/*: Rule */ {\n    var i = Math.floor(Math.abs(+s));\n    return i === 0 || i === 1 ? one\n      : other\n  },\n  function (s/*: string | number */)/*: Rule */ {\n    var i = Math.floor(Math.abs(+s));\n    var v = (s + '.').split('.')[1].length;\n    var f = +(s + '.').split('.')[1];\n    return v === 0 && (i === 1 || i === 2 || i === 3) || v === 0 && (i % 10 !== 4 && i % 10 !== 6 && i % 10 !== 9) || v !== 0 && (f % 10 !== 4 && f % 10 !== 6 && f % 10 !== 9) ? one\n      : other\n  },\n  function (s/*: string | number */)/*: Rule */ {\n    var n = +s;\n    return n === 1 ? one\n      : n === 2 ? two\n      : 3 <= n && n <= 6 ? few\n      : 7 <= n && n <= 10 ? many\n      : other\n  },\n  function (s/*: string | number */)/*: Rule */ {\n    var n = +s;\n    return n === 1 || n === 11 ? one\n      : n === 2 || n === 12 ? two\n      : ((3 <= n && n <= 10) || (13 <= n && n <= 19)) ? few\n      : other\n  },\n  function (s/*: string | number */)/*: Rule */ {\n    var i = Math.floor(Math.abs(+s));\n    var v = (s + '.').split('.')[1].length;\n    return v === 0 && i % 10 === 1 ? one\n      : v === 0 && i % 10 === 2 ? two\n      : v === 0 && (i % 100 === 0 || i % 100 === 20 || i % 100 === 40 || i % 100 === 60 || i % 100 === 80) ? few\n      : v !== 0 ? many\n      : other\n  },\n  function (s/*: string | number */)/*: Rule */ {\n    var i = Math.floor(Math.abs(+s));\n    var v = (s + '.').split('.')[1].length;\n    var n = +s;\n    return i === 1 && v === 0 ? one\n      : i === 2 && v === 0 ? two\n      : v === 0 && (n < 0 || 10 < n) && n % 10 === 0 ? many\n      : other\n  },\n  function (s/*: string | number */)/*: Rule */ {\n    var i = Math.floor(Math.abs(+s));\n    var t = +('' + s).replace(/^[^.]*.?|0+$/g, '');\n    return t === 0 && i % 10 === 1 && i % 100 !== 11 || t !== 0 ? one\n      : other\n  },\n  function (s/*: string | number */)/*: Rule */ {\n    var n = +s;\n    return n === 1 ? one\n      : n === 2 ? two\n      : other\n  },\n  function (s/*: string | number */)/*: Rule */ {\n    var n = +s;\n    return n === 0 ? zero\n      : n === 1 ? one\n      : other\n  },\n  function (s/*: string | number */)/*: Rule */ {\n    var i = Math.floor(Math.abs(+s));\n    var n = +s;\n    return n === 0 ? zero\n      : (i === 0 || i === 1) && n !== 0 ? one\n      : other\n  },\n  function (s/*: string | number */)/*: Rule */ {\n    var f = +(s + '.').split('.')[1];\n    var n = +s;\n    return n % 10 === 1 && (n % 100 < 11 || 19 < n % 100) ? one\n      : (2 <= n % 10 && n % 10 <= 9) && (n % 100 < 11 || 19 < n % 100) ? few\n      : f !== 0 ? many\n      : other\n  },\n  function (s/*: string | number */)/*: Rule */ {\n    var v = (s + '.').split('.')[1].length;\n    var f = +(s + '.').split('.')[1];\n    var n = +s;\n    return n % 10 === 0 || (11 <= n % 100 && n % 100 <= 19) || v === 2 && (11 <= f % 100 && f % 100 <= 19) ? zero\n      : n % 10 === 1 && n % 100 !== 11 || v === 2 && f % 10 === 1 && f % 100 !== 11 || v !== 2 && f % 10 === 1 ? one\n      : other\n  },\n  function (s/*: string | number */)/*: Rule */ {\n    var i = Math.floor(Math.abs(+s));\n    var v = (s + '.').split('.')[1].length;\n    var f = +(s + '.').split('.')[1];\n    return v === 0 && i % 10 === 1 && i % 100 !== 11 || f % 10 === 1 && f % 100 !== 11 ? one\n      : other\n  },\n  function (s/*: string | number */)/*: Rule */ {\n    var i = Math.floor(Math.abs(+s));\n    var v = (s + '.').split('.')[1].length;\n    var n = +s;\n    return i === 1 && v === 0 ? one\n      : v !== 0 || n === 0 || n !== 1 && (1 <= n % 100 && n % 100 <= 19) ? few\n      : other\n  },\n  function (s/*: string | number */)/*: Rule */ {\n    var n = +s;\n    return n === 1 ? one\n      : n === 0 || (2 <= n % 100 && n % 100 <= 10) ? few\n      : 11 <= n % 100 && n % 100 <= 19 ? many\n      : other\n  },\n  function (s/*: string | number */)/*: Rule */ {\n    var i = Math.floor(Math.abs(+s));\n    var v = (s + '.').split('.')[1].length;\n    return i === 1 && v === 0 ? one\n      : v === 0 && (2 <= i % 10 && i % 10 <= 4) && (i % 100 < 12 || 14 < i % 100) ? few\n      : v === 0 && i !== 1 && (0 <= i % 10 && i % 10 <= 1) || v === 0 && (5 <= i % 10 && i % 10 <= 9) || v === 0 && (12 <= i % 100 && i % 100 <= 14) ? many\n      : other\n  },\n  function (s/*: string | number */)/*: Rule */ {\n    var i = Math.floor(Math.abs(+s));\n    return 0 <= i && i <= 1 ? one\n      : other\n  },\n  function (s/*: string | number */)/*: Rule */ {\n    var i = Math.floor(Math.abs(+s));\n    var v = (s + '.').split('.')[1].length;\n    return v === 0 && i % 10 === 1 && i % 100 !== 11 ? one\n      : v === 0 && (2 <= i % 10 && i % 10 <= 4) && (i % 100 < 12 || 14 < i % 100) ? few\n      : v === 0 && i % 10 === 0 || v === 0 && (5 <= i % 10 && i % 10 <= 9) || v === 0 && (11 <= i % 100 && i % 100 <= 14) ? many\n      : other\n  },\n  function (s/*: string | number */)/*: Rule */ {\n    var i = Math.floor(Math.abs(+s));\n    var n = +s;\n    return i === 0 || n === 1 ? one\n      : 2 <= n && n <= 10 ? few\n      : other\n  },\n  function (s/*: string | number */)/*: Rule */ {\n    var i = Math.floor(Math.abs(+s));\n    var f = +(s + '.').split('.')[1];\n    var n = +s;\n    return (n === 0 || n === 1) || i === 0 && f === 1 ? one\n      : other\n  },\n  function (s/*: string | number */)/*: Rule */ {\n    var i = Math.floor(Math.abs(+s));\n    var v = (s + '.').split('.')[1].length;\n    return v === 0 && i % 100 === 1 ? one\n      : v === 0 && i % 100 === 2 ? two\n      : v === 0 && (3 <= i % 100 && i % 100 <= 4) || v !== 0 ? few\n      : other\n  },\n  function (s/*: string | number */)/*: Rule */ {\n    var n = +s;\n    return (0 <= n && n <= 1) || (11 <= n && n <= 99) ? one\n      : other\n  },\n  function (s/*: string | number */)/*: Rule */ {\n    var n = +s;\n    return n === 1 || n === 5 || n === 7 || n === 8 || n === 9 || n === 10 ? one\n      : n === 2 || n === 3 ? two\n      : n === 4 ? few\n      : n === 6 ? many\n      : other\n  },\n  function (s/*: string | number */)/*: Rule */ {\n    var i = Math.floor(Math.abs(+s));\n    return (i % 10 === 1 || i % 10 === 2 || i % 10 === 5 || i % 10 === 7 || i % 10 === 8) || (i % 100 === 20 || i % 100 === 50 || i % 100 === 70 || i % 100 === 80) ? one\n      : (i % 10 === 3 || i % 10 === 4) || (i % 1000 === 100 || i % 1000 === 200 || i % 1000 === 300 || i % 1000 === 400 || i % 1000 === 500 || i % 1000 === 600 || i % 1000 === 700 || i % 1000 === 800 || i % 1000 === 900) ? few\n      : i === 0 || i % 10 === 6 || (i % 100 === 40 || i % 100 === 60 || i % 100 === 90) ? many\n      : other\n  },\n  function (s/*: string | number */)/*: Rule */ {\n    var n = +s;\n    return (n % 10 === 2 || n % 10 === 3) && (n % 100 !== 12 && n % 100 !== 13) ? few\n      : other\n  },\n  function (s/*: string | number */)/*: Rule */ {\n    var n = +s;\n    return n === 1 || n === 3 ? one\n      : n === 2 ? two\n      : n === 4 ? few\n      : other\n  },\n  function (s/*: string | number */)/*: Rule */ {\n    var n = +s;\n    return n === 0 || n === 7 || n === 8 || n === 9 ? zero\n      : n === 1 ? one\n      : n === 2 ? two\n      : n === 3 || n === 4 ? few\n      : n === 5 || n === 6 ? many\n      : other\n  },\n  function (s/*: string | number */)/*: Rule */ {\n    var n = +s;\n    return n % 10 === 1 && n % 100 !== 11 ? one\n      : n % 10 === 2 && n % 100 !== 12 ? two\n      : n % 10 === 3 && n % 100 !== 13 ? few\n      : other\n  },\n  function (s/*: string | number */)/*: Rule */ {\n    var n = +s;\n    return n === 1 || n === 11 ? one\n      : n === 2 || n === 12 ? two\n      : n === 3 || n === 13 ? few\n      : other\n  },\n  function (s/*: string | number */)/*: Rule */ {\n    var n = +s;\n    return n === 1 ? one\n      : n === 2 || n === 3 ? two\n      : n === 4 ? few\n      : n === 6 ? many\n      : other\n  },\n  function (s/*: string | number */)/*: Rule */ {\n    var n = +s;\n    return n === 1 || n === 5 ? one\n      : other\n  },\n  function (s/*: string | number */)/*: Rule */ {\n    var n = +s;\n    return n === 11 || n === 8 || n === 80 || n === 800 ? many\n      : other\n  },\n  function (s/*: string | number */)/*: Rule */ {\n    var i = Math.floor(Math.abs(+s));\n    return i === 1 ? one\n      : i === 0 || ((2 <= i % 100 && i % 100 <= 20) || i % 100 === 40 || i % 100 === 60 || i % 100 === 80) ? many\n      : other\n  },\n  function (s/*: string | number */)/*: Rule */ {\n    var n = +s;\n    return n % 10 === 6 || n % 10 === 9 || n % 10 === 0 && n !== 0 ? many\n      : other\n  },\n  function (s/*: string | number */)/*: Rule */ {\n    var i = Math.floor(Math.abs(+s));\n    return i % 10 === 1 && i % 100 !== 11 ? one\n      : i % 10 === 2 && i % 100 !== 12 ? two\n      : (i % 10 === 7 || i % 10 === 8) && (i % 100 !== 17 && i % 100 !== 18) ? many\n      : other\n  },\n  function (s/*: string | number */)/*: Rule */ {\n    var n = +s;\n    return n === 1 ? one\n      : n === 2 || n === 3 ? two\n      : n === 4 ? few\n      : other\n  },\n  function (s/*: string | number */)/*: Rule */ {\n    var n = +s;\n    return 1 <= n && n <= 4 ? one\n      : other\n  },\n  function (s/*: string | number */)/*: Rule */ {\n    var n = +s;\n    return (n === 1 || n === 5 || (7 <= n && n <= 9)) ? one\n      : n === 2 || n === 3 ? two\n      : n === 4 ? few\n      : n === 6 ? many\n      : other\n  },\n  function (s/*: string | number */)/*: Rule */ {\n    var n = +s;\n    return n === 1 ? one\n      : n % 10 === 4 && n % 100 !== 14 ? many\n      : other\n  },\n  function (s/*: string | number */)/*: Rule */ {\n    var n = +s;\n    return (n % 10 === 1 || n % 10 === 2) && (n % 100 !== 11 && n % 100 !== 12) ? one\n      : other\n  },\n  function (s/*: string | number */)/*: Rule */ {\n    var n = +s;\n    return (n % 10 === 6 || n % 10 === 9) || n === 10 ? few\n      : other\n  },\n  function (s/*: string | number */)/*: Rule */ {\n    var n = +s;\n    return n % 10 === 3 && n % 100 !== 13 ? few\n      : other\n  }\n];\n\nvar plurals = {\n  af: { cardinal: f[0] },\n  ak: { cardinal: f[1] },\n  am: { cardinal: f[2] },\n  ar: { cardinal: f[3] },\n  ars: { cardinal: f[3] },\n  as: { cardinal: f[2], ordinal: f[34] },\n  asa: { cardinal: f[0] },\n  ast: { cardinal: f[4] },\n  az: { cardinal: f[0], ordinal: f[35] },\n  be: { cardinal: f[5], ordinal: f[36] },\n  bem: { cardinal: f[0] },\n  bez: { cardinal: f[0] },\n  bg: { cardinal: f[0] },\n  bh: { cardinal: f[1] },\n  bn: { cardinal: f[2], ordinal: f[34] },\n  br: { cardinal: f[6] },\n  brx: { cardinal: f[0] },\n  bs: { cardinal: f[7] },\n  ca: { cardinal: f[4], ordinal: f[37] },\n  ce: { cardinal: f[0] },\n  cgg: { cardinal: f[0] },\n  chr: { cardinal: f[0] },\n  ckb: { cardinal: f[0] },\n  cs: { cardinal: f[8] },\n  cy: { cardinal: f[9], ordinal: f[38] },\n  da: { cardinal: f[10] },\n  de: { cardinal: f[4] },\n  dsb: { cardinal: f[11] },\n  dv: { cardinal: f[0] },\n  ee: { cardinal: f[0] },\n  el: { cardinal: f[0] },\n  en: { cardinal: f[4], ordinal: f[39] },\n  eo: { cardinal: f[0] },\n  es: { cardinal: f[0] },\n  et: { cardinal: f[4] },\n  eu: { cardinal: f[0] },\n  fa: { cardinal: f[2] },\n  ff: { cardinal: f[12] },\n  fi: { cardinal: f[4] },\n  fil: { cardinal: f[13], ordinal: f[0] },\n  fo: { cardinal: f[0] },\n  fr: { cardinal: f[12], ordinal: f[0] },\n  fur: { cardinal: f[0] },\n  fy: { cardinal: f[4] },\n  ga: { cardinal: f[14], ordinal: f[0] },\n  gd: { cardinal: f[15], ordinal: f[40] },\n  gl: { cardinal: f[4] },\n  gsw: { cardinal: f[0] },\n  gu: { cardinal: f[2], ordinal: f[41] },\n  guw: { cardinal: f[1] },\n  gv: { cardinal: f[16] },\n  ha: { cardinal: f[0] },\n  haw: { cardinal: f[0] },\n  he: { cardinal: f[17] },\n  hi: { cardinal: f[2], ordinal: f[41] },\n  hr: { cardinal: f[7] },\n  hsb: { cardinal: f[11] },\n  hu: { cardinal: f[0], ordinal: f[42] },\n  hy: { cardinal: f[12], ordinal: f[0] },\n  ia: { cardinal: f[4] },\n  io: { cardinal: f[4] },\n  is: { cardinal: f[18] },\n  it: { cardinal: f[4], ordinal: f[43] },\n  iu: { cardinal: f[19] },\n  iw: { cardinal: f[17] },\n  jgo: { cardinal: f[0] },\n  ji: { cardinal: f[4] },\n  jmc: { cardinal: f[0] },\n  ka: { cardinal: f[0], ordinal: f[44] },\n  kab: { cardinal: f[12] },\n  kaj: { cardinal: f[0] },\n  kcg: { cardinal: f[0] },\n  kk: { cardinal: f[0], ordinal: f[45] },\n  kkj: { cardinal: f[0] },\n  kl: { cardinal: f[0] },\n  kn: { cardinal: f[2] },\n  ks: { cardinal: f[0] },\n  ksb: { cardinal: f[0] },\n  ksh: { cardinal: f[20] },\n  ku: { cardinal: f[0] },\n  kw: { cardinal: f[19] },\n  ky: { cardinal: f[0] },\n  lag: { cardinal: f[21] },\n  lb: { cardinal: f[0] },\n  lg: { cardinal: f[0] },\n  ln: { cardinal: f[1] },\n  lt: { cardinal: f[22] },\n  lv: { cardinal: f[23] },\n  mas: { cardinal: f[0] },\n  mg: { cardinal: f[1] },\n  mgo: { cardinal: f[0] },\n  mk: { cardinal: f[24], ordinal: f[46] },\n  ml: { cardinal: f[0] },\n  mn: { cardinal: f[0] },\n  mo: { cardinal: f[25], ordinal: f[0] },\n  mr: { cardinal: f[2], ordinal: f[47] },\n  mt: { cardinal: f[26] },\n  nah: { cardinal: f[0] },\n  naq: { cardinal: f[19] },\n  nb: { cardinal: f[0] },\n  nd: { cardinal: f[0] },\n  ne: { cardinal: f[0], ordinal: f[48] },\n  nl: { cardinal: f[4] },\n  nn: { cardinal: f[0] },\n  nnh: { cardinal: f[0] },\n  no: { cardinal: f[0] },\n  nr: { cardinal: f[0] },\n  nso: { cardinal: f[1] },\n  ny: { cardinal: f[0] },\n  nyn: { cardinal: f[0] },\n  om: { cardinal: f[0] },\n  or: { cardinal: f[0], ordinal: f[49] },\n  os: { cardinal: f[0] },\n  pa: { cardinal: f[1] },\n  pap: { cardinal: f[0] },\n  pl: { cardinal: f[27] },\n  prg: { cardinal: f[23] },\n  ps: { cardinal: f[0] },\n  pt: { cardinal: f[28] },\n  'pt-PT': { cardinal: f[4] },\n  rm: { cardinal: f[0] },\n  ro: { cardinal: f[25], ordinal: f[0] },\n  rof: { cardinal: f[0] },\n  ru: { cardinal: f[29] },\n  rwk: { cardinal: f[0] },\n  saq: { cardinal: f[0] },\n  sc: { cardinal: f[4], ordinal: f[43] },\n  scn: { cardinal: f[4], ordinal: f[43] },\n  sd: { cardinal: f[0] },\n  sdh: { cardinal: f[0] },\n  se: { cardinal: f[19] },\n  seh: { cardinal: f[0] },\n  sh: { cardinal: f[7] },\n  shi: { cardinal: f[30] },\n  si: { cardinal: f[31] },\n  sk: { cardinal: f[8] },\n  sl: { cardinal: f[32] },\n  sma: { cardinal: f[19] },\n  smi: { cardinal: f[19] },\n  smj: { cardinal: f[19] },\n  smn: { cardinal: f[19] },\n  sms: { cardinal: f[19] },\n  sn: { cardinal: f[0] },\n  so: { cardinal: f[0] },\n  sq: { cardinal: f[0], ordinal: f[50] },\n  sr: { cardinal: f[7] },\n  ss: { cardinal: f[0] },\n  ssy: { cardinal: f[0] },\n  st: { cardinal: f[0] },\n  sv: { cardinal: f[4], ordinal: f[51] },\n  sw: { cardinal: f[4] },\n  syr: { cardinal: f[0] },\n  ta: { cardinal: f[0] },\n  te: { cardinal: f[0] },\n  teo: { cardinal: f[0] },\n  ti: { cardinal: f[1] },\n  tig: { cardinal: f[0] },\n  tk: { cardinal: f[0], ordinal: f[52] },\n  tl: { cardinal: f[13], ordinal: f[0] },\n  tn: { cardinal: f[0] },\n  tr: { cardinal: f[0] },\n  ts: { cardinal: f[0] },\n  tzm: { cardinal: f[33] },\n  ug: { cardinal: f[0] },\n  uk: { cardinal: f[29], ordinal: f[53] },\n  ur: { cardinal: f[4] },\n  uz: { cardinal: f[0] },\n  ve: { cardinal: f[0] },\n  vo: { cardinal: f[0] },\n  vun: { cardinal: f[0] },\n  wa: { cardinal: f[1] },\n  wae: { cardinal: f[0] },\n  xh: { cardinal: f[0] },\n  xog: { cardinal: f[0] },\n  yi: { cardinal: f[4] },\n  zu: { cardinal: f[2] },\n  lo: { ordinal: f[0] },\n  ms: { ordinal: f[0] },\n  vi: { ordinal: f[0] }\n};\n\nvar formatMessageInterpret = createCommonjsModule(function (module, exports) {\n\n\n\n\n/*::\nimport type {\n  AST,\n  SubMessages\n} from '../format-message-parse'\ntype Locale = string\ntype Locales = Locale | Locale[]\ntype Placeholder = any[] // https://github.com/facebook/flow/issues/4050\nexport type Type = (Placeholder, Locales) => (any, ?Object) => any\nexport type Types = { [string]: Type }\n*/\n\nexports = module.exports = function interpret (\n  ast/*: AST */,\n  locale/*:: ?: Locales */,\n  types/*:: ?: Types */\n)/*: (args?: Object) => string */ {\n  return interpretAST(ast, null, locale || 'en', types || {}, true)\n};\n\nexports.toParts = function toParts (\n  ast/*: AST */,\n  locale/*:: ?: Locales */,\n  types/*:: ?: Types */\n)/*: (args?: Object) => any[] */ {\n  return interpretAST(ast, null, locale || 'en', types || {}, false)\n};\n\nfunction interpretAST (\n  elements/*: any[] */,\n  parent/*: ?Placeholder */,\n  locale/*: Locales */,\n  types/*: Types */,\n  join/*: boolean */\n)/*: Function */ {\n  var parts = elements.map(function (element) {\n    return interpretElement(element, parent, locale, types, join)\n  });\n\n  if (!join) {\n    return function format (args) {\n      return parts.reduce(function (parts, part) {\n        return parts.concat(part(args))\n      }, [])\n    }\n  }\n\n  if (parts.length === 1) return parts[0]\n  return function format (args) {\n    var message = '';\n    for (var e = 0; e < parts.length; ++e) {\n      message += parts[e](args);\n    }\n    return message\n  }\n}\n\nfunction interpretElement (\n  element/*: Placeholder */,\n  parent/*: ?Placeholder */,\n  locale/*: Locales */,\n  types/*: Types */,\n  join/*: boolean */\n)/*: Function */ {\n  if (typeof element === 'string') {\n    var value/*: string */ = element;\n    return function format () { return value }\n  }\n\n  var id = element[0];\n  var type = element[1];\n\n  if (parent && element[0] === '#') {\n    id = parent[0];\n    var offset = parent[2];\n    var formatter = (types.number || defaults.number)([id, 'number'], locale);\n    return function format (args) {\n      return formatter(getArg(id, args) - offset, args)\n    }\n  }\n\n  // pre-process children\n  var children;\n  if (type === 'plural' || type === 'selectordinal') {\n    children = {};\n    Object.keys(element[3]).forEach(function (key) {\n      children[key] = interpretAST(element[3][key], element, locale, types, join);\n    });\n    element = [element[0], element[1], element[2], children];\n  } else if (element[2] && typeof element[2] === 'object') {\n    children = {};\n    Object.keys(element[2]).forEach(function (key) {\n      children[key] = interpretAST(element[2][key], element, locale, types, join);\n    });\n    element = [element[0], element[1], children];\n  }\n\n  var getFrmt = type && (types[type] || defaults[type]);\n  if (getFrmt) {\n    var frmt = getFrmt(element, locale);\n    return function format (args) {\n      return frmt(getArg(id, args), args)\n    }\n  }\n\n  return join\n    ? function format (args) { return String(getArg(id, args)) }\n    : function format (args) { return getArg(id, args) }\n}\n\nfunction getArg (id/*: string */, args/*: ?Object */)/*: any */ {\n  if (args && (id in args)) return args[id]\n  var parts = id.split('.');\n  var a = args;\n  for (var i = 0, ii = parts.length; a && i < ii; ++i) {\n    a = a[parts[i]];\n  }\n  return a\n}\n\nfunction interpretNumber (element/*: Placeholder */, locales/*: Locales */) {\n  var style = element[2];\n  var options = formatMessageFormats.number[style] || formatMessageFormats.parseNumberPattern(style) || formatMessageFormats.number.default;\n  return new Intl.NumberFormat(locales, options).format\n}\n\nfunction interpretDuration (element/*: Placeholder */, locales/*: Locales */) {\n  var style = element[2];\n  var options = formatMessageFormats.duration[style] || formatMessageFormats.duration.default;\n  var fs = new Intl.NumberFormat(locales, options.seconds).format;\n  var fm = new Intl.NumberFormat(locales, options.minutes).format;\n  var fh = new Intl.NumberFormat(locales, options.hours).format;\n  var sep = /^fi$|^fi-|^da/.test(String(locales)) ? '.' : ':';\n\n  return function (s, args) {\n    s = +s;\n    if (!isFinite(s)) return fs(s)\n    var h = ~~(s / 60 / 60); // ~~ acts much like Math.trunc\n    var m = ~~(s / 60 % 60);\n    var dur = (h ? (fh(Math.abs(h)) + sep) : '') +\n      fm(Math.abs(m)) + sep + fs(Math.abs(s % 60));\n    return s < 0 ? fh(-1).replace(fh(1), dur) : dur\n  }\n}\n\nfunction interpretDateTime (element/*: Placeholder */, locales/*: Locales */) {\n  var type = element[1];\n  var style = element[2];\n  var options = formatMessageFormats[type][style] || formatMessageFormats.parseDatePattern(style) || formatMessageFormats[type].default;\n  return new Intl.DateTimeFormat(locales, options).format\n}\n\nfunction interpretPlural (element/*: Placeholder */, locales/*: Locales */) {\n  var type = element[1];\n  var pluralType = type === 'selectordinal' ? 'ordinal' : 'cardinal';\n  var offset = element[2];\n  var children = element[3];\n  var pluralRules;\n  if (Intl.PluralRules && Intl.PluralRules.supportedLocalesOf(locales).length > 0) {\n    pluralRules = new Intl.PluralRules(locales, { type: pluralType });\n  } else {\n    var locale = lookupClosestLocale(locales, plurals);\n    var select = (locale && plurals[locale][pluralType]) || returnOther;\n    pluralRules = { select: select };\n  }\n\n  return function (value, args) {\n    var clause =\n      children['=' + +value] ||\n      children[pluralRules.select(value - offset)] ||\n      children.other;\n    return clause(args)\n  }\n}\n\nfunction returnOther (/*:: n:number */) { return 'other' }\n\nfunction interpretSelect (element/*: Placeholder */, locales/*: Locales */) {\n  var children = element[2];\n  return function (value, args) {\n    var clause = children[value] || children.other;\n    return clause(args)\n  }\n}\n\nvar defaults/*: Types */ = {\n  number: interpretNumber,\n  ordinal: interpretNumber, // TODO: support rbnf\n  spellout: interpretNumber, // TODO: support rbnf\n  duration: interpretDuration,\n  date: interpretDateTime,\n  time: interpretDateTime,\n  plural: interpretPlural,\n  selectordinal: interpretPlural,\n  select: interpretSelect\n};\nexports.types = defaults;\n});\nvar formatMessageInterpret_1 = formatMessageInterpret.toParts;\nvar formatMessageInterpret_2 = formatMessageInterpret.types;\n\nvar formatMessageParse = createCommonjsModule(function (module, exports) {\n\n/*::\nexport type AST = Element[]\nexport type Element = string | Placeholder\nexport type Placeholder = Plural | Styled | Typed | Simple\nexport type Plural = [ string, 'plural' | 'selectordinal', number, SubMessages ]\nexport type Styled = [ string, string, string | SubMessages ]\nexport type Typed = [ string, string ]\nexport type Simple = [ string ]\nexport type SubMessages = { [string]: AST }\nexport type Token = [ TokenType, string ]\nexport type TokenType = 'text' | 'space' | 'id' | 'type' | 'style' | 'offset' | 'number' | 'selector' | 'syntax'\ntype Context = {|\n  pattern: string,\n  index: number,\n  tagsType: ?string,\n  tokens: ?Token[]\n|}\n*/\n\nvar ARG_OPN = '{';\nvar ARG_CLS = '}';\nvar ARG_SEP = ',';\nvar NUM_ARG = '#';\nvar TAG_OPN = '<';\nvar TAG_CLS = '>';\nvar TAG_END = '</';\nvar TAG_SELF_CLS = '/>';\nvar ESC = '\\'';\nvar OFFSET = 'offset:';\nvar simpleTypes = [\n  'number',\n  'date',\n  'time',\n  'ordinal',\n  'duration',\n  'spellout'\n];\nvar submTypes = [\n  'plural',\n  'select',\n  'selectordinal'\n];\n\n/**\n * parse\n *\n * Turns this:\n *  `You have { numBananas, plural,\n *       =0 {no bananas}\n *      one {a banana}\n *    other {# bananas}\n *  } for sale`\n *\n * into this:\n *  [ \"You have \", [ \"numBananas\", \"plural\", 0, {\n *       \"=0\": [ \"no bananas\" ],\n *      \"one\": [ \"a banana\" ],\n *    \"other\": [ [ '#' ], \" bananas\" ]\n *  } ], \" for sale.\" ]\n *\n * tokens:\n *  [\n *    [ \"text\", \"You have \" ],\n *    [ \"syntax\", \"{\" ],\n *    [ \"space\", \" \" ],\n *    [ \"id\", \"numBananas\" ],\n *    [ \"syntax\", \", \" ],\n *    [ \"space\", \" \" ],\n *    [ \"type\", \"plural\" ],\n *    [ \"syntax\", \",\" ],\n *    [ \"space\", \"\\n     \" ],\n *    [ \"selector\", \"=0\" ],\n *    [ \"space\", \" \" ],\n *    [ \"syntax\", \"{\" ],\n *    [ \"text\", \"no bananas\" ],\n *    [ \"syntax\", \"}\" ],\n *    [ \"space\", \"\\n    \" ],\n *    [ \"selector\", \"one\" ],\n *    [ \"space\", \" \" ],\n *    [ \"syntax\", \"{\" ],\n *    [ \"text\", \"a banana\" ],\n *    [ \"syntax\", \"}\" ],\n *    [ \"space\", \"\\n  \" ],\n *    [ \"selector\", \"other\" ],\n *    [ \"space\", \" \" ],\n *    [ \"syntax\", \"{\" ],\n *    [ \"syntax\", \"#\" ],\n *    [ \"text\", \" bananas\" ],\n *    [ \"syntax\", \"}\" ],\n *    [ \"space\", \"\\n\" ],\n *    [ \"syntax\", \"}\" ],\n *    [ \"text\", \" for sale.\" ]\n *  ]\n **/\nexports = module.exports = function parse (\n  pattern/*: string */,\n  options/*:: ?: { tagsType?: string, tokens?: Token[] } */\n)/*: AST */ {\n  return parseAST({\n    pattern: String(pattern),\n    index: 0,\n    tagsType: (options && options.tagsType) || null,\n    tokens: (options && options.tokens) || null\n  }, '')\n};\n\nfunction parseAST (current/*: Context */, parentType/*: string */)/*: AST */ {\n  var pattern = current.pattern;\n  var length = pattern.length;\n  var elements/*: AST */ = [];\n  var start = current.index;\n  var text = parseText(current, parentType);\n  if (text) elements.push(text);\n  if (text && current.tokens) current.tokens.push(['text', pattern.slice(start, current.index)]);\n  while (current.index < length) {\n    if (pattern[current.index] === ARG_CLS) {\n      if (!parentType) throw expected(current)\n      break\n    }\n    if (parentType && current.tagsType && pattern.slice(current.index, current.index + TAG_END.length) === TAG_END) break\n    elements.push(parsePlaceholder(current));\n    start = current.index;\n    text = parseText(current, parentType);\n    if (text) elements.push(text);\n    if (text && current.tokens) current.tokens.push(['text', pattern.slice(start, current.index)]);\n  }\n  return elements\n}\n\nfunction parseText (current/*: Context */, parentType/*: string */)/*: string */ {\n  var pattern = current.pattern;\n  var length = pattern.length;\n  var isHashSpecial = (parentType === 'plural' || parentType === 'selectordinal');\n  var isAngleSpecial = !!current.tagsType;\n  var isArgStyle = (parentType === '{style}');\n  var text = '';\n  while (current.index < length) {\n    var char = pattern[current.index];\n    if (\n      char === ARG_OPN || char === ARG_CLS ||\n      (isHashSpecial && char === NUM_ARG) ||\n      (isAngleSpecial && char === TAG_OPN) ||\n      (isArgStyle && isWhitespace(char.charCodeAt(0)))\n    ) {\n      break\n    } else if (char === ESC) {\n      char = pattern[++current.index];\n      if (char === ESC) { // double is always 1 '\n        text += char;\n        ++current.index;\n      } else if (\n        // only when necessary\n        char === ARG_OPN || char === ARG_CLS ||\n        (isHashSpecial && char === NUM_ARG) ||\n        (isAngleSpecial && char === TAG_OPN) ||\n        isArgStyle\n      ) {\n        text += char;\n        while (++current.index < length) {\n          char = pattern[current.index];\n          if (char === ESC && pattern[current.index + 1] === ESC) { // double is always 1 '\n            text += ESC;\n            ++current.index;\n          } else if (char === ESC) { // end of quoted\n            ++current.index;\n            break\n          } else {\n            text += char;\n          }\n        }\n      } else { // lone ' is just a '\n        text += ESC;\n        // already incremented\n      }\n    } else {\n      text += char;\n      ++current.index;\n    }\n  }\n  return text\n}\n\nfunction isWhitespace (code/*: number */)/*: boolean */ {\n  return (\n    (code >= 0x09 && code <= 0x0D) ||\n    code === 0x20 || code === 0x85 || code === 0xA0 || code === 0x180E ||\n    (code >= 0x2000 && code <= 0x200D) ||\n    code === 0x2028 || code === 0x2029 || code === 0x202F || code === 0x205F ||\n    code === 0x2060 || code === 0x3000 || code === 0xFEFF\n  )\n}\n\nfunction skipWhitespace (current/*: Context */)/*: void */ {\n  var pattern = current.pattern;\n  var length = pattern.length;\n  var start = current.index;\n  while (current.index < length && isWhitespace(pattern.charCodeAt(current.index))) {\n    ++current.index;\n  }\n  if (start < current.index && current.tokens) {\n    current.tokens.push(['space', current.pattern.slice(start, current.index)]);\n  }\n}\n\nfunction parsePlaceholder (current/*: Context */)/*: Placeholder */ {\n  var pattern = current.pattern;\n  if (pattern[current.index] === NUM_ARG) {\n    if (current.tokens) current.tokens.push(['syntax', NUM_ARG]);\n    ++current.index; // move passed #\n    return [NUM_ARG]\n  }\n\n  var tag = parseTag(current);\n  if (tag) return tag\n\n  /* istanbul ignore if should be unreachable if parseAST and parseText are right */\n  if (pattern[current.index] !== ARG_OPN) throw expected(current, ARG_OPN)\n  if (current.tokens) current.tokens.push(['syntax', ARG_OPN]);\n  ++current.index; // move passed {\n  skipWhitespace(current);\n\n  var id = parseId(current);\n  if (!id) throw expected(current, 'placeholder id')\n  if (current.tokens) current.tokens.push(['id', id]);\n  skipWhitespace(current);\n\n  var char = pattern[current.index];\n  if (char === ARG_CLS) { // end placeholder\n    if (current.tokens) current.tokens.push(['syntax', ARG_CLS]);\n    ++current.index; // move passed }\n    return [id]\n  }\n\n  if (char !== ARG_SEP) throw expected(current, ARG_SEP + ' or ' + ARG_CLS)\n  if (current.tokens) current.tokens.push(['syntax', ARG_SEP]);\n  ++current.index; // move passed ,\n  skipWhitespace(current);\n\n  var type = parseId(current);\n  if (!type) throw expected(current, 'placeholder type')\n  if (current.tokens) current.tokens.push(['type', type]);\n  skipWhitespace(current);\n  char = pattern[current.index];\n  if (char === ARG_CLS) { // end placeholder\n    if (current.tokens) current.tokens.push(['syntax', ARG_CLS]);\n    if (type === 'plural' || type === 'selectordinal' || type === 'select') {\n      throw expected(current, type + ' sub-messages')\n    }\n    ++current.index; // move passed }\n    return [id, type]\n  }\n\n  if (char !== ARG_SEP) throw expected(current, ARG_SEP + ' or ' + ARG_CLS)\n  if (current.tokens) current.tokens.push(['syntax', ARG_SEP]);\n  ++current.index; // move passed ,\n  skipWhitespace(current);\n\n  var arg;\n  if (type === 'plural' || type === 'selectordinal') {\n    var offset = parsePluralOffset(current);\n    skipWhitespace(current);\n    arg = [id, type, offset, parseSubMessages(current, type)];\n  } else if (type === 'select') {\n    arg = [id, type, parseSubMessages(current, type)];\n  } else if (simpleTypes.indexOf(type) >= 0) {\n    arg = [id, type, parseSimpleFormat(current)];\n  } else { // custom placeholder type\n    var index = current.index;\n    var format/*: string | SubMessages */ = parseSimpleFormat(current);\n    skipWhitespace(current);\n    if (pattern[current.index] === ARG_OPN) {\n      current.index = index; // rewind, since should have been submessages\n      format = parseSubMessages(current, type);\n    }\n    arg = [id, type, format];\n  }\n\n  skipWhitespace(current);\n  if (pattern[current.index] !== ARG_CLS) throw expected(current, ARG_CLS)\n  if (current.tokens) current.tokens.push(['syntax', ARG_CLS]);\n  ++current.index; // move passed }\n  return arg\n}\n\nfunction parseTag (current/*: Context */)/*: ?Placeholder */ {\n  var tagsType = current.tagsType;\n  if (!tagsType || current.pattern[current.index] !== TAG_OPN) return\n\n  if (current.pattern.slice(current.index, current.index + TAG_END.length) === TAG_END) {\n    throw expected(current, null, 'closing tag without matching opening tag')\n  }\n  if (current.tokens) current.tokens.push(['syntax', TAG_OPN]);\n  ++current.index; // move passed <\n\n  var id = parseId(current, true);\n  if (!id) throw expected(current, 'placeholder id')\n  if (current.tokens) current.tokens.push(['id', id]);\n  skipWhitespace(current);\n\n  if (current.pattern.slice(current.index, current.index + TAG_SELF_CLS.length) === TAG_SELF_CLS) {\n    if (current.tokens) current.tokens.push(['syntax', TAG_SELF_CLS]);\n    current.index += TAG_SELF_CLS.length;\n    return [id, tagsType]\n  }\n  if (current.pattern[current.index] !== TAG_CLS) throw expected(current, TAG_CLS)\n  if (current.tokens) current.tokens.push(['syntax', TAG_CLS]);\n  ++current.index; // move passed >\n\n  var children = parseAST(current, tagsType);\n\n  var end = current.index;\n  if (current.pattern.slice(current.index, current.index + TAG_END.length) !== TAG_END) throw expected(current, TAG_END + id + TAG_CLS)\n  if (current.tokens) current.tokens.push(['syntax', TAG_END]);\n  current.index += TAG_END.length;\n  var closeId = parseId(current, true);\n  if (closeId && current.tokens) current.tokens.push(['id', closeId]);\n  if (id !== closeId) {\n    current.index = end; // rewind for better error message\n    throw expected(current, TAG_END + id + TAG_CLS, TAG_END + closeId + TAG_CLS)\n  }\n  skipWhitespace(current);\n  if (current.pattern[current.index] !== TAG_CLS) throw expected(current, TAG_CLS)\n  if (current.tokens) current.tokens.push(['syntax', TAG_CLS]);\n  ++current.index; // move passed >\n\n  return [id, tagsType, { children: children }]\n}\n\nfunction parseId (current/*: Context */, isTag/*:: ?: boolean */)/*: string */ {\n  var pattern = current.pattern;\n  var length = pattern.length;\n  var id = '';\n  while (current.index < length) {\n    var char = pattern[current.index];\n    if (\n      char === ARG_OPN || char === ARG_CLS || char === ARG_SEP ||\n      char === NUM_ARG || char === ESC || isWhitespace(char.charCodeAt(0)) ||\n      (isTag && (char === TAG_OPN || char === TAG_CLS || char === '/'))\n    ) break\n    id += char;\n    ++current.index;\n  }\n  return id\n}\n\nfunction parseSimpleFormat (current/*: Context */)/*: string */ {\n  var start = current.index;\n  var style = parseText(current, '{style}');\n  if (!style) throw expected(current, 'placeholder style name')\n  if (current.tokens) current.tokens.push(['style', current.pattern.slice(start, current.index)]);\n  return style\n}\n\nfunction parsePluralOffset (current/*: Context */)/*: number */ {\n  var pattern = current.pattern;\n  var length = pattern.length;\n  var offset = 0;\n  if (pattern.slice(current.index, current.index + OFFSET.length) === OFFSET) {\n    if (current.tokens) current.tokens.push(['offset', 'offset'], ['syntax', ':']);\n    current.index += OFFSET.length; // move passed offset:\n    skipWhitespace(current);\n    var start = current.index;\n    while (current.index < length && isDigit(pattern.charCodeAt(current.index))) {\n      ++current.index;\n    }\n    if (start === current.index) throw expected(current, 'offset number')\n    if (current.tokens) current.tokens.push(['number', pattern.slice(start, current.index)]);\n    offset = +pattern.slice(start, current.index);\n  }\n  return offset\n}\n\nfunction isDigit (code/*: number */)/*: boolean */ {\n  return (code >= 0x30 && code <= 0x39)\n}\n\nfunction parseSubMessages (current/*: Context */, parentType/*: string */)/*: SubMessages */ {\n  var pattern = current.pattern;\n  var length = pattern.length;\n  var options/*: SubMessages */ = {};\n  while (current.index < length && pattern[current.index] !== ARG_CLS) {\n    var selector = parseId(current);\n    if (!selector) throw expected(current, 'sub-message selector')\n    if (current.tokens) current.tokens.push(['selector', selector]);\n    skipWhitespace(current);\n    options[selector] = parseSubMessage(current, parentType);\n    skipWhitespace(current);\n  }\n  if (!options.other && submTypes.indexOf(parentType) >= 0) {\n    throw expected(current, null, null, '\"other\" sub-message must be specified in ' + parentType)\n  }\n  return options\n}\n\nfunction parseSubMessage (current/*: Context */, parentType/*: string */)/*: AST */ {\n  if (current.pattern[current.index] !== ARG_OPN) throw expected(current, ARG_OPN + ' to start sub-message')\n  if (current.tokens) current.tokens.push(['syntax', ARG_OPN]);\n  ++current.index; // move passed {\n  var message = parseAST(current, parentType);\n  if (current.pattern[current.index] !== ARG_CLS) throw expected(current, ARG_CLS + ' to end sub-message')\n  if (current.tokens) current.tokens.push(['syntax', ARG_CLS]);\n  ++current.index; // move passed }\n  return message\n}\n\nfunction expected (current/*: Context */, expected/*:: ?: ?string */, found/*:: ?: ?string */, message/*:: ?: string */) {\n  var pattern = current.pattern;\n  var lines = pattern.slice(0, current.index).split(/\\r?\\n/);\n  var offset = current.index;\n  var line = lines.length;\n  var column = lines.slice(-1)[0].length;\n  found = found || (\n    (current.index >= pattern.length) ? 'end of message pattern'\n      : (parseId(current) || pattern[current.index])\n  );\n  if (!message) message = errorMessage(expected, found);\n  message += ' in ' + pattern.replace(/\\r?\\n/g, '\\n');\n  return new SyntaxError(message, expected, found, offset, line, column)\n}\n\nfunction errorMessage (expected/*: ?string */, found/* string */) {\n  if (!expected) return 'Unexpected ' + found + ' found'\n  return 'Expected ' + expected + ' but found ' + found\n}\n\n/**\n * SyntaxError\n *  Holds information about bad syntax found in a message pattern\n **/\nfunction SyntaxError (message/*: string */, expected/*: ?string */, found/*: ?string */, offset/*: number */, line/*: number */, column/*: number */) {\n  Error.call(this, message);\n  this.name = 'SyntaxError';\n  this.message = message;\n  this.expected = expected;\n  this.found = found;\n  this.offset = offset;\n  this.line = line;\n  this.column = column;\n}\nSyntaxError.prototype = Object.create(Error.prototype);\nexports.SyntaxError = SyntaxError;\n});\nvar formatMessageParse_1 = formatMessageParse.SyntaxError;\n\nvar supportedExp = new RegExp(\n  '^(' + Object.keys(plurals).join('|') + ')\\\\b'\n);\n\n/*::\nimport type { Types } from 'format-message-interpret'\nimport type { AST } from 'format-message-parse'\ntype Options = {\n  types: Types\n}\ntype Internals = {\n  ast: AST,\n  format: (args?: Object) => string,\n  locale: string,\n  locales?: string | string[],\n  toParts?: (args?: Object) => any[],\n  options?: Options\n}\n*/\n\nvar internals/*: WeakMap<Object, Internals> */ = new WeakMap();\n\n/*!\n * Intl.MessageFormat prollyfill\n * Copyright(c) 2015 Andy VanWagoner\n * MIT licensed\n **/\nfunction MessageFormat (\n  pattern/*: string */,\n  locales/*:: ?: string | string[] */,\n  options/*:: ?: Options */\n) {\n  if (!(this instanceof MessageFormat) || internals.has(this)) {\n    throw new TypeError('calling MessageFormat constructor without new is invalid')\n  }\n  var ast = formatMessageParse(pattern);\n  internals.set(this, {\n    ast: ast,\n    format: formatMessageInterpret(ast, locales, options && options.types),\n    locale: MessageFormat.supportedLocalesOf(locales)[0] || 'en',\n    locales: locales,\n    options: options\n  });\n}\nvar messageFormat = MessageFormat;\n\n// $FlowFixMe It thinks `value` needs to be defined for format\nObject.defineProperties(MessageFormat.prototype, {\n  format: {\n    configurable: true,\n    get: function format () {\n      var values = internals.get(this);\n      if (!values) throw new TypeError('MessageFormat.prototype.format called on value that\\'s not an object initialized as a MessageFormat')\n      return values.format\n    }\n  },\n  formatToParts: {\n    configurable: true,\n    writable: true,\n    value: function formatToParts (args/*:: ?: Object */) {\n      var values = internals.get(this);\n      if (!values) throw new TypeError('MessageFormat.prototype.formatToParts called on value that\\'s not an object initialized as a MessageFormat')\n      var frmt = values.toParts || (values.toParts = formatMessageInterpret.toParts(\n        values.ast,\n        values.locales,\n        values.options && values.options.types\n      ));\n      return frmt(args)\n    }\n  },\n  resolvedOptions: {\n    configurable: true,\n    writable: true,\n    value: function resolvedOptions () {\n      var values = internals.get(this);\n      if (!values) throw new TypeError('MessageFormat.prototype.resolvedOptions called on value that\\'s not an object initialized as a MessageFormat')\n      return {\n        locale: values.locale\n      }\n    }\n  }\n});\n\n/* istanbul ignore else */\nif (typeof Symbol !== 'undefined') {\n  Object.defineProperty(MessageFormat.prototype, Symbol.toStringTag, { value: 'Object' });\n}\n\nObject.defineProperties(MessageFormat, {\n  supportedLocalesOf: {\n    configurable: true,\n    writable: true,\n    value: function supportedLocalesOf (requestedLocales/*:: ?: string | string[] */) {\n      return [].concat(\n        Intl.NumberFormat.supportedLocalesOf(requestedLocales),\n        Intl.DateTimeFormat.supportedLocalesOf(requestedLocales),\n        Intl.PluralRules ? Intl.PluralRules.supportedLocalesOf(requestedLocales) : [],\n        [].concat(requestedLocales || []).filter(function (locale) {\n          return supportedExp.test(locale)\n        })\n      ).filter(function (v, i, a) { return a.indexOf(v) === i })\n    }\n  }\n});\n\nexport default messageFormat;\n","// @ts-ignore\nimport MessageFormat from '@bundled-es-modules/message-format/MessageFormat.js';\nimport isLocalizeESModule from './isLocalizeESModule.js';\n\n/**\n * @typedef {import('../types/LocalizeMixinTypes.js').NamespaceObject} NamespaceObject\n */\n\n/** @typedef {import('../types/LocalizeMixinTypes.js').DatePostProcessor} DatePostProcessor */\n/** @typedef {import('../types/LocalizeMixinTypes.js').NumberPostProcessor} NumberPostProcessor */\n\n/**\n * `LocalizeManager` manages your translations (includes loading)\n */\nexport class LocalizeManager {\n  // eslint-disable-line no-unused-vars\n  constructor({\n    autoLoadOnLocaleChange = false,\n    fallbackLocale = '',\n    showKeyAsFallback = false,\n    allowOverridesForExistingNamespaces = false,\n  } = {}) {\n    /** @private */\n    this.__delegationTarget = document.createDocumentFragment();\n    /** @protected */\n    this._autoLoadOnLocaleChange = !!autoLoadOnLocaleChange;\n    /** @protected */\n    this._fallbackLocale = fallbackLocale;\n    /** @protected */\n    this._showKeyAsFallback = showKeyAsFallback;\n\n    /** @private */\n    this.__allowOverridesForExistingNamespaces = allowOverridesForExistingNamespaces;\n\n    /**\n     * @type {Object.<string, Object.<string, Object>>}\n     * @private\n     */\n    this.__storage = {};\n\n    /**\n     * @type {Map.<RegExp|string, function>}\n     * @private\n     */\n    this.__namespacePatternsMap = new Map();\n\n    /**\n     * @type {Object.<string, function|null>}\n     * @private\n     */\n    this.__namespaceLoadersCache = {};\n\n    /**\n     * @type {Object.<string, Object.<string, Promise.<Object|void>>>}\n     * @private\n     */\n    this.__namespaceLoaderPromisesCache = {};\n\n    this.formatNumberOptions = {\n      returnIfNaN: '',\n      /** @type {Map<string,DatePostProcessor>} */\n      postProcessors: new Map(),\n    };\n\n    this.formatDateOptions = {\n      /** @type {Map<string,DatePostProcessor>} */\n      postProcessors: new Map(),\n    };\n\n    /**\n     * Via html[data-localize-lang], developers are allowed to set the initial locale, without\n     * having to worry about whether locale is initialized before 3rd parties like Google Translate.\n     * When this value differs from html[lang], we assume the 3rd party took\n     * control over the page language and we set this._langAttrSetByTranslationTool to html[lang]\n     */\n    const initialLocale = document.documentElement.getAttribute('data-localize-lang');\n\n    /** @protected */\n    this._supportExternalTranslationTools = Boolean(initialLocale);\n\n    if (this._supportExternalTranslationTools) {\n      this.locale = initialLocale || 'en-GB';\n      this._setupTranslationToolSupport();\n    }\n\n    if (!document.documentElement.lang) {\n      document.documentElement.lang = this.locale || 'en-GB';\n    }\n\n    /** @protected */\n    this._setupHtmlLangAttributeObserver();\n  }\n\n  /** @protected */\n  _setupTranslationToolSupport() {\n    /**\n     * This value allows for support for Google Translate (or other 3rd parties taking control\n     * of the html[lang] attribute).\n     *\n     * Have the following scenario in mind:\n     * 1. locale is initialized by developer via html[data-localize-lang=\"en-US\"] and\n     * html[lang=\"en-US\"]. When localize is loaded (note that this also can be after step 2 below),\n     * it will sync its initial state from html[data-localize-lang]\n     * 2. Google Translate kicks in for the French language. It will set html[lang=\"fr\"].\n     * This new language is not one known by us, so we most likely don't have translations for\n     * this file. Therefore, we do NOT sync this value to LocalizeManager. The manager should\n     * still ask for known resources (in this case for locale 'en-US')\n     * 3. locale is changed (think of a language dropdown)\n     * It's a bit of a weird case, because we would not expect an end user to do this. If he/she\n     * does, make sure that we do not go against Google Translate, so we maintain accessibility\n     * (by not altering html[lang]). We detect this by reading _langAttrSetByTranslationTool:\n     * when its value is null, we consider Google translate 'not active'.\n     *\n     * When Google Translate is turned off by the user (html[lang=auto]),\n     * `localize.locale` will be synced to html[lang] again\n     *\n     * Keep in mind that all of the above also works with other tools than Google Translate,\n     * but this is the most widely used tool and therefore used as an example.\n     */\n    this._langAttrSetByTranslationTool = document.documentElement.lang || null;\n  }\n\n  teardown() {\n    this._teardownHtmlLangAttributeObserver();\n  }\n\n  /**\n   * @returns {string}\n   */\n  get locale() {\n    if (this._supportExternalTranslationTools) {\n      return this.__locale || '';\n    }\n    return document.documentElement.lang;\n  }\n\n  /**\n   * @param {string} value\n   */\n  set locale(value) {\n    /** @type {string} */\n    let oldLocale;\n    if (this._supportExternalTranslationTools) {\n      oldLocale = /** @type {string} */ (this.__locale);\n      this.__locale = value;\n      if (this._langAttrSetByTranslationTool === null) {\n        this._setHtmlLangAttribute(value);\n      }\n    } else {\n      oldLocale = document.documentElement.lang;\n      this._setHtmlLangAttribute(value);\n    }\n\n    if (!value.includes('-')) {\n      this.__handleLanguageOnly(value);\n    }\n\n    this._onLocaleChanged(value, oldLocale);\n  }\n\n  /**\n   * @param {string} locale\n   * @protected\n   */\n  _setHtmlLangAttribute(locale) {\n    this._teardownHtmlLangAttributeObserver();\n    document.documentElement.lang = locale;\n    this._setupHtmlLangAttributeObserver();\n  }\n\n  /**\n   * @param {string} value\n   * @throws {Error} Language only locales are not allowed(Use 'en-GB' instead of 'en')\n   * @private\n   */\n  // eslint-disable-next-line class-methods-use-this\n  __handleLanguageOnly(value) {\n    throw new Error(`\n      Locale was set to ${value}.\n      Language only locales are not allowed, please use the full language locale e.g. 'en-GB' instead of 'en'.\n      See https://github.com/ing-bank/lion/issues/187 for more information.\n    `);\n  }\n\n  /**\n   * @returns {Promise.<Object|void>}\n   */\n  get loadingComplete() {\n    if (typeof this.__namespaceLoaderPromisesCache[this.locale] === 'object') {\n      return Promise.all(Object.values(this.__namespaceLoaderPromisesCache[this.locale]));\n    }\n    return Promise.resolve();\n  }\n\n  reset() {\n    this.__storage = {};\n    this.__namespacePatternsMap = new Map();\n    this.__namespaceLoadersCache = {};\n    this.__namespaceLoaderPromisesCache = {};\n  }\n\n  /**\n   * @param {string} locale\n   * @param {string} namespace\n   * @param {object} data\n   * @throws {Error} Namespace can be added only once, for a given locale unless allowOverridesForExistingNamespaces\n   * is set to `true`\n   */\n  addData(locale, namespace, data) {\n    if (\n      !this.__allowOverridesForExistingNamespaces &&\n      this._isNamespaceInCache(locale, namespace)\n    ) {\n      throw new Error(\n        `Namespace \"${namespace}\" has been already added for the locale \"${locale}\".`,\n      );\n    }\n\n    this.__storage[locale] = this.__storage[locale] || {};\n\n    if (this.__allowOverridesForExistingNamespaces) {\n      this.__storage[locale][namespace] = {\n        ...this.__storage[locale][namespace],\n        ...data,\n      };\n    } else {\n      this.__storage[locale][namespace] = data;\n    }\n  }\n\n  /**\n   * @param {RegExp|string} pattern\n   * @param {function} loader\n   */\n  setupNamespaceLoader(pattern, loader) {\n    this.__namespacePatternsMap.set(pattern, loader);\n  }\n\n  /**\n   * @param {NamespaceObject[]} namespaces\n   * @param {Object} options\n   * @param {string} [options.locale]\n   * @returns {Promise.<Object>}\n   */\n  loadNamespaces(namespaces, { locale } = {}) {\n    return Promise.all(\n      namespaces.map(\n        /** @param {NamespaceObject} namespace */\n        namespace => this.loadNamespace(namespace, { locale }),\n      ),\n    );\n  }\n\n  /**\n   * @param {NamespaceObject} namespaceObj\n   * @param {Object} options\n   * @param {string} [options.locale]\n   * @returns {Promise.<Object|void>}\n   */\n  loadNamespace(namespaceObj, { locale = this.locale } = { locale: this.locale }) {\n    const isDynamicImport = typeof namespaceObj === 'object';\n\n    const namespace = /** @type {string} */ (\n      isDynamicImport ? Object.keys(namespaceObj)[0] : namespaceObj\n    );\n\n    if (this._isNamespaceInCache(locale, namespace)) {\n      return Promise.resolve();\n    }\n\n    const existingLoaderPromise = this._getCachedNamespaceLoaderPromise(locale, namespace);\n    if (existingLoaderPromise) {\n      return existingLoaderPromise;\n    }\n\n    return this._loadNamespaceData(locale, namespaceObj, isDynamicImport, namespace);\n  }\n\n  /**\n   * @param {string | string[]} keys\n   * @param {Object.<string,?>} [vars]\n   * @param {Object} [opts]\n   * @param {string} [opts.locale]\n   * @returns {string}\n   */\n  msg(keys, vars, opts = {}) {\n    const locale = opts.locale ? opts.locale : this.locale;\n    const message = this._getMessageForKeys(keys, locale);\n    if (!message) {\n      return '';\n    }\n    const formatter = new MessageFormat(message, locale);\n    return formatter.format(vars);\n  }\n\n  /** @protected */\n  _setupHtmlLangAttributeObserver() {\n    if (!this._htmlLangAttributeObserver) {\n      this._htmlLangAttributeObserver = new MutationObserver(mutations => {\n        mutations.forEach(mutation => {\n          if (this._supportExternalTranslationTools) {\n            if (document.documentElement.lang === 'auto') {\n              // Google Translate is switched off\n              this._langAttrSetByTranslationTool = null;\n              this._setHtmlLangAttribute(this.locale);\n            } else {\n              this._langAttrSetByTranslationTool = document.documentElement.lang;\n            }\n          } else {\n            this._onLocaleChanged(document.documentElement.lang, mutation.oldValue || '');\n          }\n        });\n      });\n    }\n    this._htmlLangAttributeObserver.observe(document.documentElement, {\n      attributes: true,\n      attributeFilter: ['lang'],\n      attributeOldValue: true,\n    });\n  }\n\n  /** @protected */\n  _teardownHtmlLangAttributeObserver() {\n    if (this._htmlLangAttributeObserver) {\n      this._htmlLangAttributeObserver.disconnect();\n    }\n  }\n\n  /**\n   * @param {string} locale\n   * @param {string} namespace\n   * @protected\n   */\n  _isNamespaceInCache(locale, namespace) {\n    return !!(this.__storage[locale] && this.__storage[locale][namespace]);\n  }\n\n  /**\n   * @param {string} locale\n   * @param {string} namespace\n   * @protected\n   */\n  _getCachedNamespaceLoaderPromise(locale, namespace) {\n    if (this.__namespaceLoaderPromisesCache[locale]) {\n      return this.__namespaceLoaderPromisesCache[locale][namespace];\n    }\n    return null;\n  }\n\n  /**\n   * @param {string} locale\n   * @param {NamespaceObject} namespaceObj\n   * @param {boolean} isDynamicImport\n   * @param {string} namespace\n   * @returns {Promise.<Object|void>}\n   * @protected\n   */\n  _loadNamespaceData(locale, namespaceObj, isDynamicImport, namespace) {\n    const loader = this._getNamespaceLoader(namespaceObj, isDynamicImport, namespace);\n    const loaderPromise = this._getNamespaceLoaderPromise(loader, locale, namespace);\n    this._cacheNamespaceLoaderPromise(locale, namespace, loaderPromise);\n    return loaderPromise.then(\n      /**\n       * @param {Object} obj\n       * @param {Object} obj.default\n       */\n      obj => {\n        // add data only if we have the promise in cache\n        if (\n          this.__namespaceLoaderPromisesCache[locale] &&\n          this.__namespaceLoaderPromisesCache[locale][namespace] === loaderPromise\n        ) {\n          const data = isLocalizeESModule(obj) ? obj.default : obj;\n          this.addData(locale, namespace, data);\n        }\n      },\n    );\n  }\n\n  /**\n   * @param {NamespaceObject} namespaceObj\n   * @param {boolean} isDynamicImport\n   * @param {string} namespace\n   * @throws {Error} Namespace shall setup properly. Check loader!\n   * @protected\n   */\n  _getNamespaceLoader(namespaceObj, isDynamicImport, namespace) {\n    let loader = this.__namespaceLoadersCache[namespace];\n    if (!loader) {\n      if (isDynamicImport) {\n        const _namespaceObj = /** @type {Object.<string,function>} */ (namespaceObj);\n        loader = _namespaceObj[namespace];\n        this.__namespaceLoadersCache[namespace] = loader;\n      } else {\n        loader = this._lookupNamespaceLoader(namespace);\n        this.__namespaceLoadersCache[namespace] = loader;\n      }\n    }\n\n    if (!loader) {\n      throw new Error(`Namespace \"${namespace}\" was not properly setup.`);\n    }\n\n    this.__namespaceLoadersCache[namespace] = loader;\n\n    return loader;\n  }\n\n  /**\n   * @param {function} loader\n   * @param {string} locale\n   * @param {string} namespace\n   * @param {string} [fallbackLocale]\n   * @returns {Promise.<any>}\n   * @throws {Error} Data for namespace and (locale or fallback locale) could not be loaded.\n   * @protected\n   */\n  _getNamespaceLoaderPromise(loader, locale, namespace, fallbackLocale = this._fallbackLocale) {\n    return loader(locale, namespace).catch(() => {\n      const lang = this._getLangFromLocale(locale);\n      return loader(lang, namespace).catch(() => {\n        if (fallbackLocale) {\n          return this._getNamespaceLoaderPromise(loader, fallbackLocale, namespace, '').catch(\n            () => {\n              const fallbackLang = this._getLangFromLocale(fallbackLocale);\n              throw new Error(\n                `Data for namespace \"${namespace}\" and current locale \"${locale}\" or fallback locale \"${fallbackLocale}\" could not be loaded. ` +\n                  `Make sure you have data either for locale \"${locale}\" (and/or generic language \"${lang}\") or for fallback \"${fallbackLocale}\" (and/or \"${fallbackLang}\").`,\n              );\n            },\n          );\n        }\n        throw new Error(\n          `Data for namespace \"${namespace}\" and locale \"${locale}\" could not be loaded. ` +\n            `Make sure you have data for locale \"${locale}\" (and/or generic language \"${lang}\").`,\n        );\n      });\n    });\n  }\n\n  /**\n   * @param {string} locale\n   * @param {string} namespace\n   * @param {Promise.<Object|void>} promise\n   * @protected\n   */\n  _cacheNamespaceLoaderPromise(locale, namespace, promise) {\n    if (!this.__namespaceLoaderPromisesCache[locale]) {\n      this.__namespaceLoaderPromisesCache[locale] = {};\n    }\n    this.__namespaceLoaderPromisesCache[locale][namespace] = promise;\n  }\n\n  /**\n   * @param {string} namespace\n   * @returns {function|null}\n   * @protected\n   */\n  _lookupNamespaceLoader(namespace) {\n    /* eslint-disable no-restricted-syntax */\n    for (const [key, value] of this.__namespacePatternsMap) {\n      const isMatchingString = typeof key === 'string' && key === namespace;\n      const isMatchingRegexp =\n        typeof key === 'object' && key.constructor.name === 'RegExp' && key.test(namespace);\n      if (isMatchingString || isMatchingRegexp) {\n        return value;\n      }\n    }\n    return null;\n    /* eslint-enable no-restricted-syntax */\n  }\n\n  /**\n   * @param {string} locale\n   * @returns {string}\n   * @protected\n   */\n  // eslint-disable-next-line class-methods-use-this\n  _getLangFromLocale(locale) {\n    return locale.substring(0, 2);\n  }\n\n  /**\n   * @param {string} type\n   * @param {EventListener} listener\n   * @param {...Object} options\n   */\n  addEventListener(type, listener, ...options) {\n    this.__delegationTarget.addEventListener(type, listener, ...options);\n  }\n\n  /**\n   * @param {string} type\n   * @param {EventListener} listener\n   * @param {...Object} options\n   */\n  removeEventListener(type, listener, ...options) {\n    this.__delegationTarget.removeEventListener(type, listener, ...options);\n  }\n\n  /**\n   *  @param {CustomEvent} event\n   */\n  dispatchEvent(event) {\n    this.__delegationTarget.dispatchEvent(event);\n  }\n\n  /**\n   * @param {string} newLocale\n   * @param {string} oldLocale\n   * @returns {undefined}\n   * @protected\n   */\n  _onLocaleChanged(newLocale, oldLocale) {\n    // Event firing immediately, does not wait for loading the translations\n    this.dispatchEvent(new CustomEvent('__localeChanging'));\n    if (newLocale === oldLocale) {\n      return;\n    }\n    if (this._autoLoadOnLocaleChange) {\n      this._loadAllMissing(newLocale, oldLocale);\n      this.loadingComplete.then(() => {\n        this.dispatchEvent(new CustomEvent('localeChanged', { detail: { newLocale, oldLocale } }));\n      });\n    } else {\n      this.dispatchEvent(new CustomEvent('localeChanged', { detail: { newLocale, oldLocale } }));\n    }\n  }\n\n  /**\n   * @param {string} newLocale\n   * @param {string} oldLocale\n   * @protected\n   */\n  _loadAllMissing(newLocale, oldLocale) {\n    const oldLocaleNamespaces = this.__storage[oldLocale] || {};\n    const newLocaleNamespaces = this.__storage[newLocale] || {};\n    Object.keys(oldLocaleNamespaces).forEach(namespace => {\n      const newNamespaceData = newLocaleNamespaces[namespace];\n      if (!newNamespaceData) {\n        this.loadNamespace(namespace, {\n          locale: newLocale,\n        });\n      }\n    });\n  }\n\n  /**\n   * @param {string | string[]} keys\n   * @param {string} locale\n   * @returns {string | undefined}\n   * @protected\n   */\n  _getMessageForKeys(keys, locale) {\n    if (typeof keys === 'string') {\n      return this._getMessageForKey(keys, locale);\n    }\n    const reversedKeys = Array.from(keys).reverse(); // Array.from prevents mutation of argument\n    let key;\n    let message;\n    while (reversedKeys.length) {\n      key = reversedKeys.pop();\n      message = this._getMessageForKey(key, locale);\n      if (message) {\n        return message;\n      }\n    }\n    return undefined;\n  }\n\n  /**\n   * @param {string | undefined} key\n   * @param {string} locale\n   * @returns {string}\n   * @throws {Error} `key`is missing namespace. The format for `key` is \"namespace:name\"\n   * @protected\n   *\n   */\n  _getMessageForKey(key, locale) {\n    if (!key || key.indexOf(':') === -1) {\n      throw new Error(\n        `Namespace is missing in the key \"${key}\". The format for keys is \"namespace:name\".`,\n      );\n    }\n    const [ns, namesString] = key.split(':');\n    const namespaces = this.__storage[locale];\n    const messages = namespaces ? namespaces[ns] : {};\n    const names = namesString.split('.');\n    const result = names.reduce(\n      /**\n       * @param {Object.<string, any> | string} message\n       * @param {string} name\n       * @returns {string}\n       */\n      (message, name) => (typeof message === 'object' ? message[name] : message),\n      messages,\n    );\n\n    return String(result || (this._showKeyAsFallback ? key : ''));\n  }\n\n  /**\n   * @param {{locale:string, postProcessor:DatePostProcessor}} options\n   */\n  setDatePostProcessorForLocale({ locale, postProcessor }) {\n    this.formatDateOptions.postProcessors.set(locale, postProcessor);\n  }\n\n  /**\n   * @param {{locale:string, postProcessor:NumberPostProcessor}} options\n   */\n  setNumberPostProcessorForLocale({ locale, postProcessor }) {\n    this.formatNumberOptions.postProcessors.set(locale, postProcessor);\n  }\n}\n","/**\n * @param {Object.<string, Object>} obj\n * @returns {boolean}\n */\nexport default function isLocalizeESModule(obj) {\n  return !!(obj && obj.default && typeof obj.default === 'object' && Object.keys(obj).length === 1);\n}\n","const sym = Symbol.for('lion::SingletonManagerClassStorage');\n\n/**\n * Allow compatibility with node-js (for ssr).\n * In the future, we can just use globalThis directly\n * (for now, we're backwards compatible with browsers that still only use window, since we don't know all contexts singleton-manager is used in).\n */\n// eslint-disable-next-line no-undef\nconst globalThisOrWindow = globalThis || window;\nexport class SingletonManagerClass {\n  constructor() {\n    /** @protected */\n    this._map = globalThisOrWindow[sym]\n      ? globalThisOrWindow[sym]\n      : (globalThisOrWindow[sym] = new Map());\n  }\n\n  /**\n   * Ignores already existing keys (e.g. it will not override)\n   *\n   * @param {string} key\n   * @param {any} value\n   */\n  set(key, value) {\n    if (!this.has(key)) {\n      this._map.set(key, value);\n    }\n  }\n\n  /**\n   * @param {string} key\n   * @returns\n   */\n  get(key) {\n    return this._map.get(key);\n  }\n\n  /**\n   * @param {string} key\n   */\n  has(key) {\n    return this._map.has(key);\n  }\n}\n","import { SingletonManagerClass } from './SingletonManagerClass.js';\n\nexport { SingletonManagerClass };\nexport const singletonManager = new SingletonManagerClass();\n","// @ts-ignore\nimport { singletonManager } from 'singleton-manager';\nimport { LocalizeManager } from './LocalizeManager.js';\n\n/**\n * Side-effect-free alternative for `localize` (the globally shared instance of LocalizeManager).\n * When this function is imported, no side-effect happened yet, i.e. no global instance was registered yet.\n * The side effect-free approach generates:\n * - smaller, optimized bundles\n * - a predictable loading order, that allows for:\n *   - deduping strategies when multiple instances of the localizeManager are on a page\n *   - providing a customized extension of LocalizeManager\n *\n * Use it like this:\n *\n * ```js\n * function myFunction() {\n *   // note that 'localizeManager' is the same as former 'localize'\n *   const localizeManager = getLocalizeManger();\n *   // ...\n * }\n * ```\n *\n * In a class, we advise a shared instance:\n * ```js\n * class MyClass {\n *   constructor() {\n *     this._localizeManager = getLocalizeManger();\n *   }\n *   // ...\n * }\n * ```\n *\n * Make sure to always call this method inside a function or class (otherwise side effects are created)\n *\n * Do you want to register your own LocalizeManager?\n * Make sure it's registered before anyone called `getLocalizeManager()`\n *\n * ```js\n * import { singletonManager } from 'singleton-manager';\n * import { getLocalizeManger } from '@lion/ui/localize-no-side-effects.js';\n *\n * // First register your own LocalizeManager (for deduping or other reasons)\n * singletonManager.set('lion/ui::localize::0.x', class MyLocalizeManager extends LocalizeManager {});\n *\n * // Now, all your code gets the right instance\n * function myFuntion() {\n *   const localizeManager = getLocalizeManager();\n *   // ...\n * }\n *\n * class myClass() {\n *   constructor() {\n *     this._localizeManager = getLocalizeManager();\n *     // ...\n *   }\n * }\n * ```\n *\n * @returns {LocalizeManager}\n */\nexport function getLocalizeManager() {\n  if (singletonManager.has('@lion/ui::localize::0.x')) {\n    return singletonManager.get('@lion/ui::localize::0.x');\n  }\n\n  const localizeManager = new LocalizeManager({\n    autoLoadOnLocaleChange: true,\n    fallbackLocale: 'en-GB',\n  });\n  singletonManager.set('@lion/ui::localize::0.x', localizeManager);\n\n  return localizeManager;\n}\n","/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\nconst t={ATTRIBUTE:1,CHILD:2,PROPERTY:3,BOOLEAN_ATTRIBUTE:4,EVENT:5,ELEMENT:6},e=t=>(...e)=>({_$litDirective$:t,values:e});class i{constructor(t){}get _$AU(){return this._$AM._$AU}_$AT(t,e,i){this._$Ct=t,this._$AM=e,this._$Ci=i}_$AS(t,e){return this.update(t,e)}update(t,e){return this.render(...e)}}export{i as Directive,t as PartType,e as directive};\n//# sourceMappingURL=directive.js.map\n","import{isSingleExpression as i}from\"./directive-helpers.js\";import{Directive as t,PartType as e}from\"./directive.js\";export{directive}from\"./directive.js\";\n/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */const s=(i,t)=>{const e=i._$AN;if(void 0===e)return!1;for(const i of e)i._$AO?.(t,!1),s(i,t);return!0},o=i=>{let t,e;do{if(void 0===(t=i._$AM))break;e=t._$AN,e.delete(i),i=t}while(0===e?.size)},r=i=>{for(let t;t=i._$AM;i=t){let e=t._$AN;if(void 0===e)t._$AN=e=new Set;else if(e.has(i))break;e.add(i),c(t)}};function h(i){void 0!==this._$AN?(o(this),this._$AM=i,r(this)):this._$AM=i}function n(i,t=!1,e=0){const r=this._$AH,h=this._$AN;if(void 0!==h&&0!==h.size)if(t)if(Array.isArray(r))for(let i=e;i<r.length;i++)s(r[i],!1),o(r[i]);else null!=r&&(s(r,!1),o(r));else s(this,i)}const c=i=>{i.type==e.CHILD&&(i._$AP??=n,i._$AQ??=h)};class f extends t{constructor(){super(...arguments),this._$AN=void 0}_$AT(i,t,e){super._$AT(i,t,e),r(this),this.isConnected=i._$AU}_$AO(i,t=!0){i!==this.isConnected&&(this.isConnected=i,i?this.reconnected?.():this.disconnected?.()),t&&(s(this,i),o(this))}setValue(t){if(i(this._$Ct))this._$Ct._$AI(t,this);else{const i=[...this._$Ct._$AH];i[this._$Ci]=t,this._$Ct._$AI(i,this,0)}}disconnected(){}reconnected(){}}export{f as AsyncDirective,t as Directive,e as PartType};\n//# sourceMappingURL=async-directive.js.map\n","/**\n * @license\n * Copyright 2021 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\nconst t=async(t,s)=>{for await(const i of t)if(!1===await s(i))return};class s{constructor(t){this.Y=t}disconnect(){this.Y=void 0}reconnect(t){this.Y=t}deref(){return this.Y}}class i{constructor(){this.Z=void 0,this.q=void 0}get(){return this.Z}pause(){this.Z??=new Promise((t=>this.q=t))}resume(){this.q?.(),this.Z=this.q=void 0}}export{i as Pauser,s as PseudoWeakRef,t as forAwaitOf};\n//# sourceMappingURL=private-async-helpers.js.map\n","import{noChange as t}from\"../lit-html.js\";import{isPrimitive as s}from\"../directive-helpers.js\";import{AsyncDirective as i}from\"../async-directive.js\";import{PseudoWeakRef as e,Pauser as r}from\"./private-async-helpers.js\";import{directive as o}from\"../directive.js\";\n/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */const n=t=>!s(t)&&\"function\"==typeof t.then,h=1073741823;class c extends i{constructor(){super(...arguments),this._$Cwt=h,this._$Cbt=[],this._$CK=new e(this),this._$CX=new r}render(...s){return s.find((t=>!n(t)))??t}update(s,i){const e=this._$Cbt;let r=e.length;this._$Cbt=i;const o=this._$CK,c=this._$CX;this.isConnected||this.disconnected();for(let t=0;t<i.length&&!(t>this._$Cwt);t++){const s=i[t];if(!n(s))return this._$Cwt=t,s;t<r&&s===e[t]||(this._$Cwt=h,r=0,Promise.resolve(s).then((async t=>{for(;c.get();)await c.get();const i=o.deref();if(void 0!==i){const e=i._$Cbt.indexOf(s);e>-1&&e<i._$Cwt&&(i._$Cwt=e,i.setValue(t))}})))}return t}disconnected(){this._$CK.disconnect(),this._$CX.pause()}reconnected(){this._$CK.reconnect(this),this._$CX.resume()}}const m=o(c);export{c as UntilDirective,m as until};\n//# sourceMappingURL=until.js.map\n","import { dedupeMixin } from '@open-wc/dedupe-mixin';\nimport { nothing } from 'lit';\nimport { until } from 'lit/directives/until.js';\nimport { getLocalizeManager } from './getLocalizeManager.js';\n\n/**\n * @typedef {import('lit/directive.js').DirectiveResult} DirectiveResult\n * @typedef {import('../types/LocalizeMixinTypes.js').LocalizeMixin} LocalizeMixin\n * @typedef {import('../types/LocalizeMixinTypes.js').NamespaceObject} NamespaceObject\n */\n\n/**\n * # LocalizeMixin - for self managed templates\n * @type {LocalizeMixin}\n * @param {import('@open-wc/dedupe-mixin').Constructor<import('lit').LitElement>} superclass\n */\nconst LocalizeMixinImplementation = superclass =>\n  // @ts-ignore https://github.com/microsoft/TypeScript/issues/36821#issuecomment-588375051\n  class LocalizeMixin extends superclass {\n    /**\n     * @returns {NamespaceObject[]}\n     */\n    static get localizeNamespaces() {\n      return [];\n    }\n\n    /**\n     * @returns {boolean}\n     */\n    static get waitForLocalizeNamespaces() {\n      return true;\n    }\n\n    constructor() {\n      super();\n\n      this._localizeManager = getLocalizeManager();\n\n      /** @private */\n      this.__boundLocalizeOnLocaleChanged =\n        /** @param {...Object} args */\n        (...args) => {\n          const event = /** @type {CustomEvent} */ (Array.from(args)[0]);\n          this.__localizeOnLocaleChanged(event);\n        };\n\n      this.__boundLocalizeOnLocaleChanging = () => {\n        this.__localizeOnLocaleChanging();\n      };\n\n      // should be loaded in advance\n      /** @private */\n      this.__localizeStartLoadingNamespaces();\n\n      if (this.localizeNamespacesLoaded) {\n        this.localizeNamespacesLoaded.then(() => {\n          /** @private */\n          this.__localizeMessageSync = true;\n        });\n      }\n    }\n\n    /**\n     * hook into LitElement to only render once all translations are loaded\n     * @returns {Promise.<void>}\n     */\n    async scheduleUpdate() {\n      if (Object.getPrototypeOf(this).constructor.waitForLocalizeNamespaces) {\n        await this.localizeNamespacesLoaded;\n      }\n      super.scheduleUpdate();\n    }\n\n    connectedCallback() {\n      super.connectedCallback();\n      if (this.localizeNamespacesLoaded) {\n        this.localizeNamespacesLoaded.then(() => this.onLocaleReady());\n      }\n      this._localizeManager.addEventListener(\n        '__localeChanging',\n        this.__boundLocalizeOnLocaleChanging,\n      );\n      this._localizeManager.addEventListener('localeChanged', this.__boundLocalizeOnLocaleChanged);\n    }\n\n    disconnectedCallback() {\n      super.disconnectedCallback();\n      this._localizeManager.removeEventListener(\n        '__localeChanging',\n        this.__boundLocalizeOnLocaleChanging,\n      );\n      this._localizeManager.removeEventListener(\n        'localeChanged',\n        this.__boundLocalizeOnLocaleChanged,\n      );\n    }\n\n    /**\n     * @param {string | string[]} keys\n     * @param {Object.<string,?>} [variables]\n     * @param {Object} [options]\n     * @param {string} [options.locale]\n     * @returns {string | DirectiveResult}\n     */\n    msgLit(keys, variables, options) {\n      if (this.__localizeMessageSync) {\n        return this._localizeManager.msg(keys, variables, options);\n      }\n\n      if (!this.localizeNamespacesLoaded) {\n        return '';\n      }\n\n      return until(\n        this.localizeNamespacesLoaded.then(() =>\n          this._localizeManager.msg(keys, variables, options),\n        ),\n        nothing,\n      );\n    }\n\n    /**\n     * @returns {NamespaceObject[]}\n     * @private\n     */\n    __getUniqueNamespaces() {\n      /** @type {NamespaceObject[]} */\n      const uniqueNamespaces = [];\n\n      // IE11 does not support iterable in the constructor\n      const s = new Set();\n      Object.getPrototypeOf(this).constructor.localizeNamespaces.forEach(s.add.bind(s));\n      s.forEach(uniqueNamespace => {\n        uniqueNamespaces.push(uniqueNamespace);\n      });\n      return uniqueNamespaces;\n    }\n\n    /** @private */\n    __localizeStartLoadingNamespaces() {\n      this.localizeNamespacesLoaded = this._localizeManager.loadNamespaces(\n        this.__getUniqueNamespaces(),\n      );\n    }\n\n    /**\n     * Start loading namespaces on the event that is sent immediately\n     * when this._localizeManager.locale changes --> 'localeChanging'\n     * @private\n     */\n    __localizeOnLocaleChanging() {\n      this.__localizeStartLoadingNamespaces();\n    }\n\n    /**\n     * @param {CustomEvent} event\n     * @private\n     */\n    __localizeOnLocaleChanged(event) {\n      this.onLocaleChanged(event.detail.newLocale, event.detail.oldLocale);\n    }\n\n    onLocaleReady() {\n      this.onLocaleUpdated();\n    }\n\n    /**\n     * @param {string} newLocale\n     * @param {string} oldLocale\n     */\n    // eslint-disable-next-line no-unused-vars\n    onLocaleChanged(newLocale, oldLocale) {\n      this.onLocaleUpdated();\n      this.requestUpdate();\n    }\n\n    // eslint-disable-next-line class-methods-use-this\n    onLocaleUpdated() {}\n  };\n\nexport const LocalizeMixin = dedupeMixin(LocalizeMixinImplementation);\n","import { dedupeMixin } from '@open-wc/dedupe-mixin';\n\n/**\n * @typedef {import('./types.js').ScopedElementsHost} ScopedElementsHost\n * @typedef {import('./types.js').ScopedElementsMap} ScopedElementsMap\n */\n\nconst version = '3.0.0';\nconst versions = window.scopedElementsVersions || (window.scopedElementsVersions = []);\nif (!versions.includes(version)) {\n  versions.push(version);\n}\n\n/**\n * @template {import('./types.js').Constructor<HTMLElement>} T\n * @param {T} superclass\n * @return {T & import('./types.js').Constructor<ScopedElementsHost>}\n */\nconst ScopedElementsMixinImplementation = superclass =>\n  /** @type {ScopedElementsHost} */\n  class ScopedElementsHost extends superclass {\n    /**\n     * Obtains the scoped elements definitions map if specified.\n     *\n     * @type {ScopedElementsMap=}\n     */\n    static scopedElements;\n\n    static get scopedElementsVersion() {\n      return version;\n    }\n\n    /** @type {CustomElementRegistry=} */\n    static __registry;\n\n    /**\n     * Obtains the CustomElementRegistry associated to the ShadowRoot.\n     *\n     * @returns {CustomElementRegistry=}\n     */\n    get registry() {\n      return /** @type {typeof ScopedElementsHost} */ (this.constructor).__registry;\n    }\n\n    /**\n     * Set the CustomElementRegistry associated to the ShadowRoot\n     *\n     * @param {CustomElementRegistry} registry\n     */\n    set registry(registry) {\n      /** @type {typeof ScopedElementsHost} */ (this.constructor).__registry = registry;\n    }\n\n    /**\n     * @param {ShadowRootInit} options\n     * @returns {ShadowRoot}\n     */\n    attachShadow(options) {\n      const { scopedElements } = /** @type {typeof ScopedElementsHost} */ (this.constructor);\n\n      const shouldCreateRegistry =\n        !this.registry ||\n        // @ts-ignore\n        (this.registry === this.constructor.__registry &&\n          !Object.prototype.hasOwnProperty.call(this.constructor, '__registry'));\n\n      /**\n       * Create a new registry if:\n       * - the registry is not defined\n       * - this class doesn't have its own registry *AND* has no shared registry\n       * This is important specifically for superclasses/inheritance\n       */\n      if (shouldCreateRegistry) {\n        this.registry = new CustomElementRegistry();\n        for (const [tagName, klass] of Object.entries(scopedElements ?? {})) {\n          this.registry.define(tagName, klass);\n        }\n      }\n\n      return super.attachShadow({\n        ...options,\n        // The polyfill currently expects the registry to be passed as `customElements`\n        customElements: this.registry,\n        // But the proposal has moved forward, and renamed it to `registry`\n        // For backwards compatibility, we pass it as both\n        registry: this.registry,\n      });\n    }\n  };\n\nexport const ScopedElementsMixin = dedupeMixin(ScopedElementsMixinImplementation);\n","import { dedupeMixin } from '@open-wc/dedupe-mixin';\nimport { adoptStyles } from 'lit';\nimport { ScopedElementsMixin as BaseScopedElementsMixin } from './html-element.js';\n\n/**\n * @typedef {import('./types.js').ScopedElementsHost} ScopedElementsHost\n * @typedef {import('./types.js').ScopedElementsMap} ScopedElementsMap\n * @typedef {import('lit').CSSResultOrNative} CSSResultOrNative\n * @typedef {import('lit').LitElement} LitElement\n * @typedef {typeof import('lit').LitElement} TypeofLitElement\n * @typedef {import('@open-wc/dedupe-mixin').Constructor<LitElement>} LitElementConstructor\n * @typedef {import('@open-wc/dedupe-mixin').Constructor<ScopedElementsHost>} ScopedElementsHostConstructor\n */\n\n/**\n * @template {LitElementConstructor} T\n * @param {T} superclass\n * @return {T & ScopedElementsHostConstructor}\n */\nconst ScopedElementsMixinImplementation = superclass =>\n  /** @type {ScopedElementsHost} */\n  class ScopedElementsHost extends BaseScopedElementsMixin(superclass) {\n    createRenderRoot() {\n      const { shadowRootOptions, elementStyles } = /** @type {TypeofLitElement} */ (\n        this.constructor\n      );\n\n      const shadowRoot = this.attachShadow(shadowRootOptions);\n      // @ts-ignore\n      this.renderOptions.creationScope = shadowRoot;\n\n      adoptStyles(shadowRoot, elementStyles);\n\n      this.renderOptions.renderBefore ??= shadowRoot.firstChild;\n\n      return shadowRoot;\n    }\n  };\n\nexport const ScopedElementsMixin = dedupeMixin(ScopedElementsMixinImplementation);\n","/*\n * This file is combination of '@open-wc/scoped-elements@v3/lit-element.js' and '@open-wc/scoped-elements@v3/html-element.js'.\n * Then on top of those, some code from '@open-wc/scoped-elements@v2' is brought to to make polyfill not mandatory.\n *\n * ## Considerations\n * In its current state, the [scoped-custom-element-registry](https://github.com/webcomponents/polyfills/tree/master/packages/scoped-custom-element-registry) draft spec has uncertainties:\n * - the spec is not yet final; it's not clear how long it will be dependent on a polyfill\n * - the polyfill conflicts with new browser functionality (form-associated custom elements in Safari, ShadowRoot.createElement in Chrome Canary, etc.).\n * - the spsc is not compatible with SSR and it remains unclear if it will be in the future\n *\n * Also see: https://github.com/webcomponents/polyfills/issues?q=scoped-custom-element-registry\n *\n * In previous considerations (last year), we betted on the spec to evolve quickly and the polyfill to be stable.\n * Till this day, little progress has been made. In the meantime. @lit-labs/ssr (incompatible with the spec) is released as well.\n *\n * This file aims to achieve two things:\n * = being up to date with the latest version of @open-wc/scoped-elements (v3)\n * - make the impact of this change for lion as minimal as possible\n *\n * In order to achieve the latter, we keep the ability to opt out of the polyfill.\n * This can be beneficial for performance, bundle size, ease of use and SSR capabilities.\n *\n * We will keep a close eye on developments in spec and polyfill, and will re-evaluate the scoped-elements approach when the time is right.\n */\n\nimport { dedupeMixin } from '@open-wc/dedupe-mixin';\nimport { adoptStyles } from 'lit';\nimport { ScopedElementsMixin as OpenWcLitScopedElementsMixin } from '@open-wc/scoped-elements/lit-element.js';\n\n/**\n * @typedef {import('@open-wc/scoped-elements/lit-element.js').ScopedElementsHost} ScopedElementsHost\n * @typedef {import('../../form-core/types/validate/ValidateMixinTypes.js').ScopedElementsMap} ScopedElementsMap\n * @typedef {import('lit').CSSResultOrNative} CSSResultOrNative\n * @typedef {import('lit').LitElement} LitElement\n * @typedef {typeof import('lit').LitElement} TypeofLitElement\n * @typedef {import('@open-wc/dedupe-mixin').Constructor<LitElement>} LitElementConstructor\n * @typedef {import('@open-wc/dedupe-mixin').Constructor<ScopedElementsHost>} ScopedElementsHostConstructor\n * @typedef {import('./types.js').ScopedElementsHostV2Constructor} ScopedElementsHostV2Constructor\n */\n\nconst supportsScopedRegistry = Boolean(\n  // @ts-expect-error\n  ShadowRoot.prototype.createElement && ShadowRoot.prototype.importNode,\n);\n\n/**\n * @template {LitElementConstructor} T\n * @param {T} superclass\n * @return {T & ScopedElementsHostConstructor & ScopedElementsHostV2Constructor}\n */\nconst ScopedElementsMixinImplementation = superclass =>\n  /** @type {ScopedElementsHost} */\n  class ScopedElementsHost extends OpenWcLitScopedElementsMixin(superclass) {\n    createScopedElement(/** @type {string} */ tagName) {\n      const root = supportsScopedRegistry ? this.shadowRoot : document;\n      // @ts-expect-error polyfill to support createElement on shadowRoot is loaded\n      return root.createElement(tagName);\n    }\n\n    /**\n     * Defines a scoped element.\n     *\n     * @param {string} tagName\n     * @param {typeof HTMLElement} klass\n     */\n    defineScopedElement(tagName, klass) {\n      // @ts-ignore\n      const registeredClass = this.registry.get(tagName);\n      if (registeredClass && supportsScopedRegistry === false && registeredClass !== klass) {\n        // eslint-disable-next-line no-console\n        console.error(\n          [\n            `You are trying to re-register the \"${tagName}\" custom element with a different class via ScopedElementsMixin.`,\n            'This is only possible with a CustomElementRegistry.',\n            'Your browser does not support this feature so you will need to load a polyfill for it.',\n            'Load \"@webcomponents/scoped-custom-element-registry\" before you register ANY web component to the global customElements registry.',\n            'e.g. add \"<script src=\"/node_modules/@webcomponents/scoped-custom-element-registry/scoped-custom-element-registry.min.js\"></script>\" as your first script tag.',\n            'For more details you can visit https://open-wc.org/docs/development/scoped-elements/',\n          ].join('\\n'),\n        );\n      }\n      if (!registeredClass) {\n        // @ts-ignore\n        return this.registry.define(tagName, klass);\n      }\n      // @ts-ignore\n      return this.registry.get(tagName);\n    }\n\n    /**\n     * @param {ShadowRootInit} options\n     * @returns {ShadowRoot}\n     */\n    attachShadow(options) {\n      // @ts-ignore\n      const { scopedElements } = /** @type {typeof ScopedElementsHost} */ (this.constructor);\n\n      const shouldCreateRegistry =\n        !this.registry ||\n        // @ts-ignore\n        (this.registry === this.constructor.__registry &&\n          !Object.prototype.hasOwnProperty.call(this.constructor, '__registry'));\n\n      /**\n       * Create a new registry if:\n       * - the registry is not defined\n       * - this class doesn't have its own registry *AND* has no shared registry\n       * This is important specifically for superclasses/inheritance\n       */\n      if (shouldCreateRegistry) {\n        // @ts-ignore\n        this.registry = supportsScopedRegistry ? new CustomElementRegistry() : customElements;\n        for (const [tagName, klass] of Object.entries(scopedElements ?? {})) {\n          this.defineScopedElement(tagName, klass);\n        }\n      }\n\n      return Element.prototype.attachShadow.call(this, {\n        ...options,\n        // The polyfill currently expects the registry to be passed as `customElements`\n        customElements: this.registry,\n        // But the proposal has moved forward, and renamed it to `registry`\n        // For backwards compatibility, we pass it as both\n        registry: this.registry,\n      });\n    }\n\n    createRenderRoot() {\n      const { shadowRootOptions, elementStyles } = /** @type {TypeofLitElement} */ (\n        this.constructor\n      );\n\n      const createdRoot = this.attachShadow(shadowRootOptions);\n      if (supportsScopedRegistry) {\n        // @ts-expect-error\n        this.renderOptions.creationScope = createdRoot;\n      }\n\n      if (createdRoot instanceof ShadowRoot) {\n        adoptStyles(createdRoot, elementStyles);\n        this.renderOptions.renderBefore = this.renderOptions.renderBefore || createdRoot.firstChild;\n      }\n\n      return createdRoot;\n    }\n  };\n\nexport const ScopedElementsMixin = dedupeMixin(ScopedElementsMixinImplementation);\n","// TODO: still needed? It can be solved with while loop as well\n\n/**\n * Use the `.add` method to add async functions to the queue\n * Await the `.complete` if you want to ensure the queue is empty at any point\n * `complete` resolves whenever no more tasks are running.\n * Important note: Currently runs tasks 1 by 1, there is no concurrency option at the moment\n */\nexport class AsyncQueue {\n  constructor() {\n    this.__running = false;\n    /** @type {function[]} */\n    this.__queue = [];\n  }\n\n  /**\n   *\n   * @param {function} task\n   */\n  add(task) {\n    this.__queue.push(task);\n    if (!this.__running) {\n      // We have a new queue, because before there was nothing in the queue\n      this.complete = new Promise(resolve => {\n        /** @type {function} */\n        this.__callComplete = resolve;\n      });\n      this.__run();\n    }\n  }\n\n  /** @private */\n  async __run() {\n    this.__running = true;\n    await this.__queue[0]();\n    this.__queue.shift();\n    if (this.__queue.length > 0) {\n      this.__run();\n    } else {\n      this.__running = false;\n      if (this.__callComplete) {\n        this.__callComplete();\n      }\n    }\n  }\n}\n","import { dedupeMixin } from '@open-wc/dedupe-mixin';\n\n// TODO: will be moved to @Lion/core later?\n\n/**\n * @typedef {import('../../types/utils/SyncUpdatableMixinTypes.js').SyncUpdatableMixin} SyncUpdatableMixin\n * @typedef {import('../../types/utils/SyncUpdatableMixinTypes.js').SyncUpdatableNamespace} SyncUpdatableNamespace\n */\n\n/**\n * Why this mixin?\n * - it adheres to the \"Member Order Independence\" web components standard:\n * https://github.com/webcomponents/gold-standard/wiki/Member-Order-Independence\n * - sync observers can be dependent on the outcome of the render function (or, more generically\n * speaking, the light and shadow dom). This aligns with the 'updated' callback that is supported\n * out of the box by LitElement, which runs after connectedCallback as well.\n * - makes the propertyAccessor.`hasChanged` compatible in synchronous updates:\n * `updateSync` will only be called when new value differs from old value.\n * See: https://lit-element.polymer-project.org/guide/lifecycle#haschanged\n * - it is a stable abstraction on top of a protected/non official lifecycle LitElement api.\n * Whenever the implementation of `requestUpdate` changes (this happened in the past for\n * `requestUpdate`) we only have to change our abstraction instead of all our components\n * @type {SyncUpdatableMixin}\n * @param {import('@open-wc/dedupe-mixin').Constructor<import('lit').LitElement>} superclass\n */\nconst SyncUpdatableMixinImplementation = superclass =>\n  // @ts-ignore https://github.com/microsoft/TypeScript/issues/36821#issuecomment-588375051\n  class extends superclass {\n    constructor() {\n      super();\n\n      /**\n       * Namespace for this mixin that guarantees naming clashes will not occur...\n       * @type {SyncUpdatableNamespace}\n       */\n      this.__SyncUpdatableNamespace = {};\n    }\n\n    /**\n     * Empty pending queue in order to guarantee order independence\n     *\n     * @param {import('lit-element').PropertyValues } changedProperties\n     */\n    firstUpdated(changedProperties) {\n      super.firstUpdated(changedProperties);\n      this.__syncUpdatableInitialize();\n    }\n\n    connectedCallback() {\n      super.connectedCallback();\n      this.__SyncUpdatableNamespace.connected = true;\n    }\n\n    disconnectedCallback() {\n      super.disconnectedCallback();\n      this.__SyncUpdatableNamespace.connected = false;\n    }\n\n    /**\n     * Makes the propertyAccessor.`hasChanged` compatible in synchronous updates\n     * @param {string} name\n     * @param {*} newValue\n     * @param {*} oldValue\n     * @private\n     */\n    static __syncUpdatableHasChanged(name, newValue, oldValue) {\n      // @ts-expect-error [external]: accessing private lit property\n      const properties = this.elementProperties;\n      if (properties.get(name) && properties.get(name).hasChanged) {\n        return properties.get(name).hasChanged(newValue, oldValue);\n      }\n      return newValue !== oldValue;\n    }\n\n    /** @private */\n    __syncUpdatableInitialize() {\n      const ns = this.__SyncUpdatableNamespace;\n      const ctor =\n        /** @type {typeof SyncUpdatableMixin & typeof import('../../types/utils/SyncUpdatableMixinTypes.js').SyncUpdatableHost} */ (\n          this.constructor\n        );\n\n      ns.initialized = true;\n      // Empty queue...\n      if (ns.queue) {\n        Array.from(ns.queue).forEach(name => {\n          // @ts-ignore [allow-private] in test\n          if (ctor.__syncUpdatableHasChanged(name, this[name], undefined)) {\n            this.updateSync(name, undefined);\n          }\n        });\n      }\n    }\n\n    /**\n     * @param {string} [name]\n     * @param {unknown} [oldValue]\n     * @param {import('lit').PropertyDeclaration} [options]\n     * @returns {void}\n     */\n    requestUpdate(name, oldValue, options) {\n      super.requestUpdate(name, oldValue, options);\n      if (name === undefined) {\n        return;\n      }\n\n      this.__SyncUpdatableNamespace = this.__SyncUpdatableNamespace || {};\n      const ns = this.__SyncUpdatableNamespace;\n\n      const ctor =\n        /** @type {typeof SyncUpdatableMixin & typeof import('../../types/utils/SyncUpdatableMixinTypes.js').SyncUpdatableHost} */ (\n          this.constructor\n        );\n      // Before connectedCallback: queue\n      if (!ns.initialized) {\n        ns.queue = ns.queue || new Set();\n        // Makes sure that we only initialize one time, with most up to date value\n        ns.queue.add(name);\n      } // After connectedCallback: guarded proxy to updateSync\n      // @ts-ignore [allow-private] in test\n      else if (ctor.__syncUpdatableHasChanged(name, this[name], oldValue)) {\n        this.updateSync(name, oldValue);\n      }\n    }\n\n    /**\n     * An abstraction that has the exact same api as `requestUpdate`, but taking\n     * into account:\n     * - [member order independence](https://github.com/webcomponents/gold-standard/wiki/Member-Order-Independence)\n     * - property effects start when all (light) dom has initialized (on firstUpdated)\n     * - property effects don't interrupt the first meaningful paint\n     * - compatible with propertyAccessor.`hasChanged`: no manual checks needed or accidentally\n     * run property effects / events when no change happened\n     * effects when values didn't change\n     * All code previously present in requestUpdate can be placed in this method.\n     * @param {string} name\n     * @param {*} oldValue\n     */\n    updateSync(name, oldValue) {} // eslint-disable-line class-methods-use-this, no-unused-vars\n  };\n\nexport const SyncUpdatableMixin = dedupeMixin(SyncUpdatableMixinImplementation);\n","/* eslint-disable import/no-extraneous-dependencies */\nexport const localizeNamespaceLoader = /** @param {string} locale */ locale => {\n  switch (locale) {\n    case 'bg-BG':\n      return import('@lion/ui/form-core-translations/bg-BG.js');\n    case 'bg':\n      return import('@lion/ui/form-core-translations/bg.js');\n    case 'cs-CZ':\n      return import('@lion/ui/form-core-translations/cs-CZ.js');\n    case 'cs':\n      return import('@lion/ui/form-core-translations/cs.js');\n    case 'de-DE':\n      return import('@lion/ui/form-core-translations/de-DE.js');\n    case 'de':\n      return import('@lion/ui/form-core-translations/de.js');\n    case 'en-AU':\n      return import('@lion/ui/form-core-translations/en-AU.js');\n    case 'en-GB':\n      return import('@lion/ui/form-core-translations/en-GB.js');\n    case 'en-US':\n      return import('@lion/ui/form-core-translations/en-US.js');\n    case 'en-PH':\n    case 'en':\n      return import('@lion/ui/form-core-translations/en.js');\n    case 'es-ES':\n      return import('@lion/ui/form-core-translations/es-ES.js');\n    case 'es':\n      return import('@lion/ui/form-core-translations/es.js');\n    case 'fr-FR':\n      return import('@lion/ui/form-core-translations/fr-FR.js');\n    case 'fr-BE':\n      return import('@lion/ui/form-core-translations/fr-BE.js');\n    case 'fr':\n      return import('@lion/ui/form-core-translations/fr.js');\n    case 'hu-HU':\n      return import('@lion/ui/form-core-translations/hu-HU.js');\n    case 'hu':\n      return import('@lion/ui/form-core-translations/hu.js');\n    case 'it-IT':\n      return import('@lion/ui/form-core-translations/it-IT.js');\n    case 'it':\n      return import('@lion/ui/form-core-translations/it.js');\n    case 'nl-BE':\n      return import('@lion/ui/form-core-translations/nl-BE.js');\n    case 'nl-NL':\n      return import('@lion/ui/form-core-translations/nl-NL.js');\n    case 'nl':\n      return import('@lion/ui/form-core-translations/nl.js');\n    case 'pl-PL':\n      return import('@lion/ui/form-core-translations/pl-PL.js');\n    case 'pl':\n      return import('@lion/ui/form-core-translations/pl.js');\n    case 'ro-RO':\n      return import('@lion/ui/form-core-translations/ro-RO.js');\n    case 'ro':\n      return import('@lion/ui/form-core-translations/ro.js');\n    case 'ru-RU':\n      return import('@lion/ui/form-core-translations/ru-RU.js');\n    case 'ru':\n      return import('@lion/ui/form-core-translations/ru.js');\n    case 'sk-SK':\n      return import('@lion/ui/form-core-translations/sk-SK.js');\n    case 'sk':\n      return import('@lion/ui/form-core-translations/sk.js');\n    case 'uk-UA':\n      return import('@lion/ui/form-core-translations/uk-UA.js');\n    case 'uk':\n      return import('@lion/ui/form-core-translations/uk.js');\n    case 'zh-CN':\n    case 'zh':\n      return import('@lion/ui/form-core-translations/zh.js');\n    default:\n      return import('@lion/ui/form-core-translations/en.js');\n  }\n};\n","import { css, html, LitElement } from 'lit';\nimport { LocalizeMixin } from '@lion/ui/localize-no-side-effects.js';\nimport { localizeNamespaceLoader } from '../localizeNamespaceLoader.js';\n\n/**\n * @typedef {import('./Validator.js').Validator} Validator\n * @typedef {import('lit').TemplateResult} TemplateResult\n * @typedef {import('../../types/validate/ValidateMixinTypes.js').FeedbackMessage} FeedbackMessage\n */\n\n/**\n * @param {string} string\n */\nconst capitalize = string => `${string[0].toUpperCase()}${string.slice(1)}`;\n\n/**\n * @desc Takes care of accessible rendering of error messages\n * Should be used in conjunction with FormControl having ValidateMixin applied\n */\nexport class LionValidationFeedback extends LocalizeMixin(LitElement) {\n  static get properties() {\n    return {\n      feedbackData: { attribute: false },\n    };\n  }\n\n  static localizeNamespaces = [\n    { 'lion-form-core': localizeNamespaceLoader },\n    ...super.localizeNamespaces,\n  ];\n\n  static get styles() {\n    return [\n      css`\n        .validation-feedback__type {\n          position: absolute;\n          width: 1px;\n          height: 1px;\n          overflow: hidden;\n          clip-path: inset(100%);\n          clip: rect(1px, 1px, 1px, 1px);\n          white-space: nowrap;\n          border: 0;\n          margin: 0;\n          padding: 0;\n        }\n      `,\n    ];\n  }\n\n  /**\n   * @overridable\n   * @param {Object} opts\n   * @param {string | Node | TemplateResult } opts.message message or feedback node or TemplateResult\n   * @param {string} [opts.type]\n   * @param {Validator} [opts.validator]\n   * @protected\n   */\n  // eslint-disable-next-line class-methods-use-this\n  _messageTemplate({ message }) {\n    return message;\n  }\n\n  /**\n   * @param {import('lit').PropertyValues } changedProperties\n   */\n  updated(changedProperties) {\n    super.updated(changedProperties);\n    if (this.feedbackData && this.feedbackData[0]) {\n      this.setAttribute('type', this.feedbackData[0].type);\n      this.currentType = this.feedbackData[0].type;\n      window.clearTimeout(this.removeMessage);\n      // TODO: this logic should be in ValidateMixin, so that [show-feedback-for] is in sync,\n      // plus duration should be configurable\n      if (this.currentType === 'success') {\n        this.removeMessage = window.setTimeout(() => {\n          this.removeAttribute('type');\n          /** @type {FeedbackMessage[]} */\n          this.feedbackData = [];\n        }, 3000);\n      }\n    } else if (this.currentType !== 'success') {\n      this.removeAttribute('type');\n    }\n  }\n\n  render() {\n    return html`\n      ${this.feedbackData &&\n      this.feedbackData.map(\n        ({ message, type, validator }) => html`\n          <div class=\"validation-feedback__type\">\n            ${this._localizeManager.msg(`lion-form-core:validation${capitalize(type)}`)}\n          </div>\n          ${this._messageTemplate({ message, type, validator })}\n        `,\n      )}\n    `;\n  }\n}\n","/**\n * @typedef {import('../../types/validate/index.js').FeedbackMessageData} FeedbackMessageData\n * @typedef {import('../../types/validate/index.js').ValidatorParam} ValidatorParam\n * @typedef {import('../../types/validate/index.js').ValidatorConfig} ValidatorConfig\n * @typedef {import('../../types/validate/index.js').ValidatorOutcome} ValidatorOutcome\n * @typedef {import('../../types/validate/index.js').ValidatorName} ValidatorName\n * @typedef {import('../../types/validate/index.js').ValidationType} ValidationType\n * @typedef {import('../FormControlMixin.js').FormControlHost} FormControlHost\n */\n\n// TODO: support attribute validators like <my-el my-validator=${dynamicParam}></my-el> =>\n// register in a ValidateService that is read by Validator and adds these attrs in properties\n// object.\n// They would become like configurable\n// [global attributes](https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes)\n// for FormControls.\n\nexport class Validator extends EventTarget {\n  /**\n   * @param {ValidatorParam} [param]\n   * @param {ValidatorConfig} [config]\n   */\n  constructor(param, config) {\n    super();\n\n    /** @type {ValidatorParam} */\n    this.__param = param;\n    /** @type {ValidatorConfig} */\n    this.__config = config || {};\n    /**\n     * Default type supported by ValidateMixin\n     * @type {ValidationType}\n     */\n    this.type = config?.type || 'error';\n  }\n\n  /**\n   * The name under which validation results get registered. For convenience and predictability, this\n   * should always be the same as the constructor name (since it will be obfuscated in js builds,\n   * we need to provide it separately).\n   * @type {ValidatorName}\n   */\n  static validatorName = '';\n\n  /**\n   * Whether the validator is asynchronous or not. When true., this means execute function returns\n   * a Promise. This can be handy for:\n   * - server side calls\n   * - validations that are dependent on lazy loaded resources (they can be async until the dependency\n   * is loaded)\n   * @type {boolean}\n   */\n  static async = false;\n\n  /**\n   * The function that returns a validity outcome. When we need to show feedback,\n   * it should return true, otherwise false. So when an error\\info|warning|success message\n   * needs to be shown, return true. For async Validators, the function can return a Promise.\n   * It's also possible to return an enum. Let's say that a phone number can have multiple\n   * states: 'invalid-country-code' | 'too-long' | 'too-short'\n   * Those states can be retrieved in the getMessage\n   * @param {any} modelValue\n   * @param {ValidatorParam} [param]\n   * @param {ValidatorConfig} [config]\n   * @returns {ValidatorOutcome|Promise<ValidatorOutcome>}\n   */\n  // eslint-disable-next-line no-unused-vars, class-methods-use-this\n  execute(modelValue, param, config) {\n    const ctor = /** @type {typeof Validator} */ (this.constructor);\n    if (!ctor.validatorName) {\n      throw new Error(\n        'A validator needs to have a name! Please set it via \"static get validatorName() { return \\'IsCat\\'; }\"',\n      );\n    }\n    return true;\n  }\n\n  /**\n   * The first argument of the constructor, for instance 3 in `new MinLength(3)`. Will\n   * be stored on Validator instance and passed to `execute` function\n   * @example\n   * ```js\n   *  // Store reference to Validator instance\n   *  const myValidatorInstance = new MyValidator(1);\n   *  // Use this instance initially on a FormControl (that uses ValidateMixin)\n   *  render(html`<validatable-element .validators=\"${[myValidatorInstance]}\"></validatable-element>`, document.body);\n   *  // Based on some event, we need to change the param\n   *  myValidatorInstance.param = 2;\n   * ```\n   * @property {ValidatorParam}\n   */\n  set param(p) {\n    this.__param = p;\n    /**\n     * This event is listened for by ValidateMixin. Whenever the validation parameter has\n     * changed, the FormControl will revalidate itself\n     */\n    this.dispatchEvent(new Event('param-changed'));\n  }\n\n  get param() {\n    return this.__param;\n  }\n\n  /**\n   * The second argument of the constructor, for instance\n   * `new MinLength(3, {getFeedMessage: async () => 'too long'})`.\n   * Will be stored on Validator instance and passed to `execute` function.\n   * @example\n   * ```js\n   *  // Store reference to Validator instance\n   *  const myValidatorInstance = new MyValidator(1, {getMessage() => 'x'});\n   *  // Use this instance initially on a FormControl (that uses ValidateMixin)\n   *  render(html`<validatable-element .validators=\"${[myValidatorInstance]}\"></validatable-element>`, document.body);\n   *  // Based on some event, we need to change the param\n   *  myValidatorInstance.config = {getMessage() => 'y'};\n   * ```\n   * @property {ValidatorConfig}\n   */\n  set config(c) {\n    this.__config = c;\n    /**\n     * This event is listened for by ValidateMixin. Whenever the validation config has\n     * changed, the FormControl will revalidate itself\n     */\n    this.dispatchEvent(new Event('config-changed'));\n  }\n\n  get config() {\n    return this.__config;\n  }\n\n  /**\n   * This is a protected method that usually should not be overridden. It is called by ValidateMixin\n   * and it gathers data to be passed to getMessage functions found:\n   * - `this.config.getMessage`, locally provided by consumers of the Validator (overrides global getMessage)\n   * - `MyValidator.getMessage`, globally provided by creators or consumers of the Validator\n   *\n   * Confusion can arise because of similarities with former mentioned methods. In that regard, a\n   * better name for this function would have been _pepareDataAndCallHighestPrioGetMessage.\n   * @example\n   * ```js\n   * class MyValidator extends Validator {\n   *   // ...\n   *   // 1. globally defined\n   *   static async getMessage() {\n   *     return 'lowest prio, defined globally by Validator author'\n   *   }\n   * }\n   * // 2. globally overridden\n   * MyValidator.getMessage = async() => 'overrides already configured message';\n   * // 3. locally overridden\n   * new MyValidator(myParam, { getMessage: async() => 'locally defined, always wins' });\n   * ```\n   * @param {Partial<FeedbackMessageData>} [data]\n   * @returns {Promise<string|Element>}\n   * @protected\n   */\n  async _getMessage(data) {\n    const ctor = /** @type {typeof Validator} */ (this.constructor);\n    const composedData = {\n      name: ctor.validatorName,\n      type: this.type,\n      params: this.param,\n      config: this.config,\n      ...data,\n    };\n    if (this.config.getMessage) {\n      if (typeof this.config.getMessage === 'function') {\n        return this.config.getMessage(composedData);\n      }\n      throw new Error(\n        `You must provide a value for getMessage of type 'function', you provided a value of type: ${typeof this\n          .config.getMessage}`,\n      );\n    }\n    return ctor.getMessage(composedData);\n  }\n\n  /**\n   * Called inside Validator.prototype._getMessage (see explanation).\n   * @example\n   * ```js\n   * class MyValidator extends Validator {\n   *   static async getMessage() {\n   *     return 'lowest prio, defined globally by Validator author'\n   *   }\n   * }\n   * // globally overridden\n   * MyValidator.getMessage = async() => 'overrides already configured message';\n   * ```\n   * @overridable\n   * @param {Partial<FeedbackMessageData>} [data]\n   * @returns {Promise<string|Element>}\n   */\n  // eslint-disable-next-line no-unused-vars\n  static async getMessage(data) {\n    return `Please configure an error message for \"${this.name}\" by overriding \"static async getMessage()\"`;\n  }\n\n  /**\n   * Validators are allowed to have knowledge about FormControls.\n   * In some cases (in case of the Required Validator) we wanted to enhance accessibility by\n   * adding [aria-required]. Also, it would be possible to write an advanced MinLength\n   * Validator that adds a .preprocessor that restricts from typing too many characters\n   * (like the native [minlength] validator).\n   * Will be called when Validator is added to FormControl.validators.\n   * @example\n   * ```js\n   * onFormControlConnect(formControl) {\n   *   if(formControl.inputNode) {\n   *     inputNode.setAttribute('aria-required', 'true');\n   *   }\n   * }\n   *\n   * ```\n   * @configurable\n   * @param {FormControlHost} formControl\n   */\n  onFormControlConnect(formControl) {} // eslint-disable-line\n\n  /**\n   * Also see `onFormControlConnect`.\n   * Will be called when Validator is removed from FormControl.validators.\n   * @example\n   * ```js\n   * onFormControlDisconnect(formControl) {\n   *   if(formControl.inputNode) {\n   *     inputNode.removeAttribute('aria-required');\n   *   }\n   * }\n   * @configurable\n   * @param {FormControlHost} formControl\n   */\n  onFormControlDisconnect(formControl) {} // eslint-disable-line\n\n  /**\n   * @desc Used on async Validators, makes it able to do perf optimizations when there are\n   * pending \"execute\" calls with outdated values.\n   * ValidateMixin calls Validator.abortExecution() an async Validator can act accordingly,\n   * depending on its implementation of the \"execute\" function.\n   * - For instance, when fetch was called:\n   * https://stackoverflow.com/questions/31061838/how-do-i-cancel-an-http-fetch-request\n   * - Or, when a webworker was started, its process could be aborted and then restarted.\n   */\n  abortExecution() {} // eslint-disable-line\n}\n\n// For simplicity, a default validator only handles one state:\n// it can either be true or false an it will only have one message.\n// In more advanced cases (think of the feedback mechanism for the maximum number of\n// characters in Twitter), more states are needed. The alternative of\n// having multiple distinct validators would be cumbersome to create and maintain,\n// also because the validations would tie too much into each others logic.\n","import { Validator } from './Validator.js';\n\n/**\n * Instead of evaluating the result of a regular Validator, a ResultValidator looks\n * at the total result of regular Validators. Instead of an execute function, it uses a\n * 'executeOnResults' Validator.\n * ResultValidators cannot be async, and should not contain an execute method.\n */\nexport class ResultValidator extends Validator {\n  /**\n   * @param {Object} context\n   * @param {Validator[]} context.regularValidationResult\n   * @param {Validator[]} context.prevValidationResult\n   * @param {Validator[]} context.prevShownValidationResult\n   * @param {Validator[]} [context.validators]\n   * @returns {boolean}\n   */\n  /* eslint-disable no-unused-vars */\n  // eslint-disable-next-line class-methods-use-this\n  executeOnResults({\n    regularValidationResult,\n    prevValidationResult,\n    prevShownValidationResult,\n    validators,\n  }) {\n    /* eslint-enable no-unused-vars */\n    return true;\n  }\n}\n","import { Validator } from '../Validator.js';\n\n/**\n * @typedef {import('../../../types/FormControlMixinTypes.js').FormControlHost} FormControlHost\n */\n\nexport class Required extends Validator {\n  static get validatorName() {\n    return 'Required';\n  }\n\n  /**\n   * In order to prevent accessibility violations, the aria-required attribute will\n   * be combined with compatible aria roles: https://www.w3.org/TR/wai-aria/#aria-required\n   */\n  static get _compatibleRoles() {\n    return [\n      'combobox',\n      'gridcell',\n      'input',\n      'listbox',\n      'radiogroup',\n      'select',\n      'spinbutton',\n      'textarea',\n      'textbox',\n      'tree',\n    ];\n  }\n\n  /**\n   * In order to prevent accessibility violations, the aria-required attribute will\n   * be combined with compatible platform input elements\n   */\n  static get _compatibleTags() {\n    return ['input', 'select', 'textarea'];\n  }\n\n  /**\n   * We don't have an execute function, since the Required validator is 'special'.\n   * The outcome depends on the modelValue of the FormControl and\n   * FormControl.__isEmpty / FormControl._isEmpty.\n   */\n\n  /**\n   * @param {FormControlHost & HTMLElement} formControl\n   */\n  // @ts-ignore [allow-protected] we are allowed to know FormControl protected props in form-core\n  // eslint-disable-next-line class-methods-use-this\n  onFormControlConnect({ _inputNode: inputNode }) {\n    if (inputNode) {\n      const role = inputNode.getAttribute('role') || '';\n      const elementTagName = inputNode.tagName.toLowerCase();\n      const ctor = /** @type {typeof Required} */ (this.constructor);\n      if (ctor._compatibleRoles.includes(role) || ctor._compatibleTags.includes(elementTagName)) {\n        inputNode.setAttribute('aria-required', 'true');\n      }\n    }\n  }\n\n  /**\n   * @param {FormControlHost & HTMLElement} formControl\n   */\n  // @ts-ignore [allow-protected] we are allowed to know FormControl protected props in form-core\n  // eslint-disable-next-line class-methods-use-this\n  onFormControlDisconnect({ _inputNode: inputNode }) {\n    if (inputNode) {\n      inputNode.removeAttribute('aria-required');\n    }\n  }\n}\n","/* eslint-disable class-methods-use-this, camelcase, no-param-reassign, max-classes-per-file */\nimport { SlotMixin, DisabledMixin } from '@lion/ui/core.js';\nimport { dedupeMixin } from '@open-wc/dedupe-mixin';\n// TODO: make form-core independent from localize\nimport { getLocalizeManager } from '@lion/ui/localize-no-side-effects.js';\nimport { ScopedElementsMixin } from '../../../core/src/ScopedElementsMixin.js';\nimport { AsyncQueue } from '../utils/AsyncQueue.js';\nimport { pascalCase } from '../utils/pascalCase.js';\nimport { SyncUpdatableMixin } from '../utils/SyncUpdatableMixin.js';\nimport { LionValidationFeedback } from './LionValidationFeedback.js';\nimport { ResultValidator as MetaValidator } from './ResultValidator.js';\nimport { Unparseable } from './Unparseable.js';\nimport { Validator } from './Validator.js';\nimport { Required } from './validators/Required.js';\nimport { FormControlMixin } from '../FormControlMixin.js';\n\n// TODO: [v1] make all @readOnly => @readonly and actually make sure those values cannot be set\n\n/**\n * @typedef {import('../../types/validate/ValidateMixinTypes.js').ValidateMixin} ValidateMixin\n * @typedef {import('../../types/validate/ValidateMixinTypes.js').ValidationType} ValidationType\n * @typedef {import('../../types/validate/ValidateMixinTypes.js').ValidateHost} ValidateHost\n * @typedef {import('../../types/validate/ValidateMixinTypes.js').OperationMode} OperationMode\n * @typedef {import('../../types/validate/index.js').ValidatorOutcome} ValidatorOutcome\n * @typedef {typeof import('../../types/validate/ValidateMixinTypes.js').ValidateHost} ValidateHostConstructor\n * @typedef {{validator:Validator; outcome:boolean|string}} ValidationResultEntry\n * @typedef {{[type:string]: {[validatorName:string]:boolean|string}}} ValidationStates\n */\n\n/**\n * @param {any[]} array1\n * @param {any[]} array2\n */\nfunction arrayDiff(array1 = [], array2 = []) {\n  return array1.filter(x => !array2.includes(x)).concat(array2.filter(x => !array1.includes(x)));\n}\n\n/**\n * When the modelValue can't be created by FormatMixin.parser, still allow all validators\n * to give valuable feedback to the user based on the current viewValue.\n * @param {any} modelValue\n */\nfunction getValueForValidators(modelValue) {\n  return modelValue instanceof Unparseable ? modelValue.viewValue : modelValue;\n}\n\n/**\n * Handles all validation, based on modelValue changes. It has no knowledge about dom and\n * UI. All error visibility, dom interaction and accessibility are handled in FeedbackMixin.\n *\n * @type {ValidateMixin}\n * @param {import('@open-wc/dedupe-mixin').Constructor<import('lit').LitElement>} superclass\n */\nexport const ValidateMixinImplementation = superclass =>\n  // @ts-ignore https://github.com/microsoft/TypeScript/issues/36821#issuecomment-588375051\n  class extends FormControlMixin(\n    SyncUpdatableMixin(DisabledMixin(SlotMixin(ScopedElementsMixin(superclass)))),\n  ) {\n    static get scopedElements() {\n      return {\n        // @ts-ignore\n        ...super.scopedElements,\n        'lion-validation-feedback': LionValidationFeedback,\n      };\n    }\n\n    static get properties() {\n      return {\n        validators: { attribute: false },\n        hasFeedbackFor: { attribute: false },\n        shouldShowFeedbackFor: { attribute: false },\n        showsFeedbackFor: {\n          type: Array,\n          attribute: 'shows-feedback-for',\n          reflect: true,\n          converter: {\n            fromAttribute: /** @param {string} value */ value => value.split(','),\n            toAttribute: /** @param {[]} value */ value => value.join(','),\n          },\n        },\n        validationStates: { attribute: false },\n        isPending: {\n          type: Boolean,\n          attribute: 'is-pending',\n          reflect: true,\n        },\n        defaultValidators: { attribute: false },\n        _visibleMessagesAmount: { attribute: false },\n        __childModelValueChanged: { attribute: false },\n      };\n    }\n\n    /**\n     * Types of validation supported by this FormControl (for instance 'error'|'warning'|'info')\n     * @overridable\n     * @type {ValidationType[]}\n     */\n    static get validationTypes() {\n      return ['error'];\n    }\n\n    /**\n     * Types of input interaction of the FormControl (for instance 'enter'|'select'|'upload')\n     * @overridable\n     * @type {OperationMode}\n     */\n    get operationMode() {\n      return 'enter';\n    }\n\n    /**\n     * Adds \"._feedbackNode\" as described below\n     * @public\n     */\n    get slots() {\n      /**\n       * FIXME: Ugly workaround https://github.com/microsoft/TypeScript/issues/40110\n       * @callback getScopedTagName\n       * @param {string} tagName\n       * @returns {string}\n       *\n       * @typedef {Object} ScopedElementsObj\n       * @property {getScopedTagName} getScopedTagName\n       */\n      return {\n        ...super.slots,\n        feedback: () => {\n          const feedbackEl = this.createScopedElement('lion-validation-feedback');\n          feedbackEl.setAttribute('data-tag-name', 'lion-validation-feedback');\n          return feedbackEl;\n        },\n      };\n    }\n\n    /**\n     * Combination of validators provided by Application Developer and the default validators\n     * @type {Validator[]}\n     * @protected\n     */\n    get _allValidators() {\n      return [...this.validators, ...this.defaultValidators];\n    }\n\n    constructor() {\n      super();\n\n      /**\n       * As soon as validation happens (after modelValue/validators/validator param change), this\n       * array is updated with the active ValidationTypes ('error'|'warning'|'success'|'info' etc.).\n       * Notice the difference with `.showsFeedbackFor`, which filters `.hasFeedbackFor` based on\n       * `.feedbackCondition()`.\n       *\n       * For styling purposes, will be reflected to [has-feedback-for=\"error warning\"]. This can\n       * be useful for subtle visual feedback on keyup, like a red/green border around an input.\n       *\n       * @example\n       * ```css\n       * :host([has-feedback-for~=\"error\"]) .input-group__container {\n       *   border: 1px solid red;\n       * }\n       * ```\n       * @type {ValidationType[]}\n       * @readOnly\n       */\n      this.hasFeedbackFor = [];\n\n      /**\n       * Based on outcome of feedbackCondition, this array decides what ValidationTypes should be\n       * shown in validationFeedback, based on meta data like interaction states.\n       *\n       * For styling purposes, it reflects it `[shows-feedback-for=\"error warning\"]`\n       * @type {ValidationType[]}\n       * @readOnly\n       * @example\n       * ```css\n       * :host([shows-feedback-for~=\"success\"]) .form-field__feedback {\n       *   transform: scaleY(1);\n       * }\n       * ```\n       */\n      this.showsFeedbackFor = [];\n\n      // TODO: [v1] make this fully private (prefix __)?\n      /**\n       * A temporary storage to transition from hasFeedbackFor to showsFeedbackFor\n       * @type {ValidationType[]}\n       * @readOnly\n       * @private\n       */\n      this.shouldShowFeedbackFor = [];\n\n      /**\n       * The outcome of a validation 'round'. Keyed by ValidationType and Validator name\n       * @readOnly\n       * @type {ValidationStates}\n       */\n      this.validationStates = {};\n\n      /**\n       * Flag indicating whether async validation is pending.\n       * Creates attribute [is-pending] as a styling hook\n       * @type {boolean}\n       */\n      this.isPending = false;\n\n      /**\n       * Used by Application Developers to add Validators to a FormControl.\n       * @example\n       * ```html\n       * <form-control .validators=\"${[new Required(), new MinLength(4, {type: 'warning'})]}\">\n       * </form-control>\n       * ```\n       * @type {Validator[]}\n       */\n      this.validators = [];\n\n      /**\n       * Used by Subclassers to add default Validators to a particular FormControl.\n       * A date input for instance, always needs the isDate validator.\n       * @example\n       * ```js\n       * this.defaultValidators.push(new IsDate());\n       * ```\n       * @type {Validator[]}\n       */\n      this.defaultValidators = [];\n\n      /**\n       * The amount of feedback messages that will visible in LionValidationFeedback\n       * @configurable\n       * @protected\n       */\n      this._visibleMessagesAmount = 1;\n\n      /**\n       * @type {ValidationResultEntry[]}\n       * @private\n       */\n      this.__syncValidationResult = [];\n\n      /**\n       * @type {ValidationResultEntry[]}\n       * @private\n       */\n      this.__asyncValidationResult = [];\n\n      /**\n       * Aggregated result from sync Validators, async Validators and MetaValidators\n       * @type {ValidationResultEntry[]}\n       * @private\n       */\n      this.__validationResult = [];\n\n      /**\n       * @type {ValidationResultEntry[]}\n       * @private\n       */\n      this.__prevValidationResult = [];\n\n      /**\n       * The shown validation result depends on the visibility of the feedback messages\n       * @type {ValidationResultEntry[]}\n       * @private\n       */\n      this.__prevShownValidationResult = [];\n\n      /**\n       * The updated children validity affects the validity of the parent. Helper to recompute\n       * validity of parent FormGroup\n       * @private\n       */\n      this.__childModelValueChanged = false;\n\n      /** @protected */\n      this._onValidatorUpdated = this._onValidatorUpdated.bind(this);\n      /** @protected */\n      this._updateFeedbackComponent = this._updateFeedbackComponent.bind(this);\n    }\n\n    connectedCallback() {\n      super.connectedCallback();\n\n      const localizeManager = getLocalizeManager();\n      localizeManager.addEventListener('localeChanged', this._updateFeedbackComponent);\n    }\n\n    disconnectedCallback() {\n      super.disconnectedCallback();\n\n      const localizeManager = getLocalizeManager();\n      localizeManager.removeEventListener('localeChanged', this._updateFeedbackComponent);\n    }\n\n    /**\n     * @param {import('lit').PropertyValues} changedProperties\n     */\n    firstUpdated(changedProperties) {\n      super.firstUpdated(changedProperties);\n      this.__isValidateInitialized = true;\n      this.validate();\n      if (this._repropagationRole !== 'child') {\n        this.addEventListener('model-value-changed', () => {\n          this.__childModelValueChanged = true;\n        });\n      }\n    }\n\n    /**\n     * @param {string} name\n     * @param {?} oldValue\n     */\n    updateSync(name, oldValue) {\n      super.updateSync(name, oldValue);\n      if (name === 'validators') {\n        // trigger validation (ideally only for the new or changed validator)\n        this.__setupValidators();\n        this.validate({ clearCurrentResult: true });\n      } else if (name === 'modelValue') {\n        this.validate({ clearCurrentResult: true });\n      }\n\n      if (\n        [\n          'touched',\n          'dirty',\n          'prefilled',\n          'focused',\n          'submitted',\n          'hasFeedbackFor',\n          'filled',\n        ].includes(name)\n      ) {\n        this._updateShouldShowFeedbackFor();\n      }\n\n      if (name === 'showsFeedbackFor') {\n        // This can't be reflected asynchronously in Safari\n        // Screen reader output should be in sync with visibility of error messages\n        if (this._inputNode) {\n          this._inputNode.setAttribute('aria-invalid', `${this._hasFeedbackVisibleFor('error')}`);\n          // this._inputNode.setCustomValidity(this._validationMessage || '');\n        }\n\n        const diff = arrayDiff(this.showsFeedbackFor, oldValue);\n        if (diff.length > 0) {\n          this.dispatchEvent(new Event(`showsFeedbackForChanged`, { bubbles: true }));\n        }\n        diff.forEach(type => {\n          this.dispatchEvent(\n            new Event(`showsFeedbackFor${pascalCase(type)}Changed`, { bubbles: true }),\n          );\n        });\n      }\n\n      if (name === 'shouldShowFeedbackFor') {\n        const diff = arrayDiff(this.shouldShowFeedbackFor, oldValue);\n        if (diff.length > 0) {\n          this.dispatchEvent(new Event(`shouldShowFeedbackForChanged`, { bubbles: true }));\n        }\n      }\n    }\n\n    /**\n     * Triggered by:\n     *  - modelValue change\n     *  - change in the 'validators' array\n     *  - change in the config of an individual Validator\n     *\n     * Three situations are handled:\n     * - a1) the FormControl is empty: further execution is halted. When the Required Validator\n     * (being mutually exclusive to the other Validators) is applied, it will end up in the\n     * validation result (as the only Validator, since further execution was halted).\n     * - a2) there are synchronous Validators: this is the most common flow. When modelValue hasn't\n     * changed since last async results were generated, 'sync results' are merged with the\n     * 'async results'.\n     * - a3) there are asynchronous Validators: for instance when server side evaluation is needed.\n     * Executions are scheduled and awaited and the 'async results' are merged with the\n     * 'sync results'.\n     *\n     * - b) there are MetaValidators. After steps a1, a2, or a3 are finished, the holistic\n     * MetaValidators (evaluating the total result of the 'regular' (a1, a2 and a3) validators)\n     * will be run...\n     *\n     * Situations a2 and a3 are not mutually exclusive and can be triggered within one `validate()`\n     * call. Situation b will occur after every call.\n     *\n     * @param {{ clearCurrentResult?: boolean }} opts\n     */\n    async validate({ clearCurrentResult = false } = {}) {\n      /**\n       * Allows Application Developer to wait for (async) validation\n       * @example\n       * ```js\n       * await el.validateComplete;\n       * ```\n       * @type {Promise<boolean>}\n       */\n      this.validateComplete = new Promise(resolve => {\n        this.__validateCompleteResolve = resolve;\n      });\n\n      if (this.disabled) {\n        this.__clearValidationResults();\n        this.__finishValidationPass();\n        this._updateFeedbackComponent();\n        return;\n      }\n      // We don't validate before firstUpdated has run\n      if (!this.__isValidateInitialized) {\n        return;\n      }\n\n      this.__prevValidationResult = this.__validationResult;\n      if (clearCurrentResult) {\n        // Clear ('invalidate') all pending and existing validation results.\n        // This is needed because we have async (pending) validators whose results\n        // need to be merged with those of sync validators and vice versa.\n        this.__clearValidationResults();\n      }\n      await this.__executeValidators();\n    }\n\n    /**\n     * @desc step a1-3 + b (as explained in `validate()`)\n     */\n    async __executeValidators() {\n      const value = getValueForValidators(this.modelValue);\n\n      /**\n       * Handle the 'mutually exclusive' Required validator:\n       *\n       * About the Required Validator:\n       * - the validity is dependent on the formControls' modelValue and therefore determined\n       * by the formControl._isEmpty method. Basically, the Required Validator is a means\n       * to trigger formControl._isEmpty().\n       *\n       * About the empty state:\n       * - when _isEmpty returns true, the modelValue is considered empty. This means we need to stop\n       * validation here, because all other Validators' execute functions assume the\n       * value is not empty (there would be nothing to validate).\n       *\n       */\n\n      const isEmpty = this.__isEmpty(value);\n      this.__syncValidationResult = [];\n\n      /**\n       * So we can have the following scenarios:\n       * - we're empty\n       *   - we have a single value (we are an 'endpoint') => we want to halt execution, because validation only makes sense when we have a value\n       *     - 1. we have Required => we fill .__syncValidationResult and finish validation, because we have a value to validate\n       *     - 2. we don't have Required => we stop validation\n       *   - we have a group of values (object/array) => we want to continue execution, because the constellation of the object (even though the individual endpoints are empty) might be interesting for validation.\n       *     - 3. we have Required => we fill .__syncValidationResult and continue validation (so we can add more to .__syncValidationResult)\n       *     - 4. we don't have Required => we continue validation\n       *  - we're not empty\n       *    - we have a single value or group of values\n       *     - 5. we may have Required, but if we have it will not be 'active' => we continue execution, because we have a value to validate\n       */\n\n      if (isEmpty) {\n        const hasSingleValue = !(/** @type {*  & ValidateHost} */ (this)._isFormOrFieldset);\n        const requiredValidator = this._allValidators.find(v => v instanceof Required);\n        if (requiredValidator) {\n          this.__syncValidationResult = [{ validator: requiredValidator, outcome: true }];\n        }\n\n        if (hasSingleValue) {\n          this.__finishValidationPass({\n            syncValidationResult: this.__syncValidationResult,\n          });\n          return;\n        }\n      }\n\n      const metaValidators = /** @type {MetaValidator[]} */ [];\n      const syncValidators = /** @type {Validator[]} */ [];\n      const asyncValidators = /** @type {Validator[]} */ [];\n\n      for (const v of this._allValidators) {\n        if (v instanceof MetaValidator) {\n          metaValidators.push(v);\n        } else if (v instanceof Required) {\n          // Required validator was already handled\n        } else if (/** @type {typeof Validator} */ (v.constructor).async) {\n          asyncValidators.push(v);\n        } else {\n          syncValidators.push(v);\n        }\n      }\n\n      const hasAsync = Boolean(asyncValidators.length);\n\n      /**\n       * 2. Synchronous validators\n       */\n\n      this.__syncValidationResult = [\n        // This could eventually contain the Required Validator\n        ...this.__syncValidationResult,\n        ...this.__executeSyncValidators(syncValidators, value),\n      ];\n      // Finish the first (synchronous) pass\n      this.__finishValidationPass({\n        syncValidationResult: this.__syncValidationResult,\n        metaValidators,\n      });\n\n      /**\n       * 3. Asynchronous validators\n       */\n      if (hasAsync) {\n        // Add a hint in the ui that we're waiting for async validation\n        this.isPending = true;\n        this.__asyncValidationResult = await this.__executeAsyncValidators(asyncValidators, value);\n        this.isPending = false;\n        // Now finish the second (asynchronous) pass (including both sync and async results)\n        this.__finishValidationPass({\n          syncValidationResult: this.__syncValidationResult,\n          asyncValidationResult: this.__asyncValidationResult,\n          metaValidators,\n        });\n        this.__validateCompleteResolve?.(true);\n      } else {\n        this.__validateCompleteResolve?.(true);\n      }\n    }\n\n    /**\n     * step a2 (as explained in `validate()`): calls `__finishValidationPass`\n     * @param {Validator[]} syncValidators\n     * @param {unknown} value\n     * @private\n     */\n    __executeSyncValidators(syncValidators, value) {\n      return syncValidators\n        .map(v => ({\n          validator: v,\n          // TODO: fix this type - ts things this is not a FormControlHost?\n          // @ts-ignore\n          outcome: /** @type {boolean|string} */ (v.execute(value, v.param, { node: this })),\n        }))\n        .filter(v => Boolean(v.outcome));\n    }\n\n    /**\n     * step a3 (as explained in `validate()`), calls __finishValidationPass\n     * @param {Validator[]} asyncValidators all Validators except required and MetaValidators\n     * @param {?} value\n     * @private\n     */\n    async __executeAsyncValidators(asyncValidators, value) {\n      const outcomePromises = asyncValidators.map(v => v.execute(value, v.param, { node: this }));\n      const asyncExecutionResults = await Promise.all(outcomePromises);\n\n      return asyncExecutionResults\n        .map((r, i) => ({\n          validator: asyncValidators[i],\n          outcome: /** @type {boolean|string} */ (asyncExecutionResults[i]),\n        }))\n        .filter(v => Boolean(v.outcome));\n    }\n\n    /**\n     * step b (as explained in `validate()`), called by __finishValidationPass\n     * @param {{validator: Validator;outcome: boolean | string;}[]} regularValidationResult result of steps 1-3\n     * @param {MetaValidator[]} metaValidators\n     * @private\n     */\n    __executeMetaValidators(regularValidationResult, metaValidators) {\n      if (!metaValidators.length) {\n        return [];\n      }\n\n      // If empty, do not show the ResulValidation message (e.g. Correct!)\n      if (this._isEmpty(this.modelValue)) {\n        this.__prevShownValidationResult = [];\n        return [];\n      }\n\n      // Map everything to Validator[] for backwards compatibility\n      return metaValidators\n        .map(v => ({\n          validator: v,\n          outcome: /** @type {boolean|string} */ (\n            v.executeOnResults({\n              regularValidationResult: regularValidationResult.map(entry => entry.validator),\n              prevValidationResult: this.__prevValidationResult.map(entry => entry.validator),\n              prevShownValidationResult: this.__prevShownValidationResult.map(\n                entry => entry.validator,\n              ),\n            })\n          ),\n        }))\n        .filter(v => Boolean(v.outcome));\n    }\n\n    /**\n     * A 'pass' is a single run of the validation process, which will be triggered in these cases:\n     * - on clear or disable\n     * - on sync validation\n     * - on async validation (can depend on server response)\n     *\n     * This method inishes a pass by adding the properties to the instance:\n     * - validationStates\n     * - hasFeedbackFor\n     *\n     * It sends a private event validate-performed, which is received by parent Formgroups.\n     *\n     * @param {object} options\n     * @param {ValidationResultEntry[]} [options.syncValidationResult]\n     * @param {ValidationResultEntry[]} [options.asyncValidationResult]\n     * @param {MetaValidator[]} [options.metaValidators] MetaValidators to be executed\n     * @private\n     * If not, we have nothing left to wait for.\n     */\n    __finishValidationPass({\n      syncValidationResult = [],\n      asyncValidationResult = [],\n      metaValidators = [],\n    } = {}) {\n      const syncAndAsyncOutcome = [...syncValidationResult, ...asyncValidationResult];\n      // if we have any MetaValidators left, now is the time to run them...\n      const metaOutCome = /** @type {ValidationResultEntry[]} */ (\n        this.__executeMetaValidators(syncAndAsyncOutcome, metaValidators)\n      );\n      this.__validationResult = [...metaOutCome, ...syncAndAsyncOutcome];\n\n      const ctor = /** @type {ValidateHostConstructor} */ (this.constructor);\n\n      /** @type {ValidationStates} */\n      const validationStates = ctor.validationTypes.reduce(\n        (acc, type) => ({ ...acc, [type]: {} }),\n        {},\n      );\n      for (const { validator, outcome } of this.__validationResult) {\n        if (!validationStates[validator.type]) {\n          validationStates[validator.type] = {};\n        }\n        const vCtor = /** @type {typeof Validator} */ (validator.constructor);\n        validationStates[validator.type][vCtor.validatorName] = outcome;\n      }\n      this.validationStates = validationStates;\n\n      this.hasFeedbackFor = [\n        ...new Set(this.__validationResult.map(({ validator }) => validator.type)),\n      ];\n      /** private event that should be listened to by LionFieldSet */\n      this.dispatchEvent(new Event('validate-performed', { bubbles: true }));\n    }\n\n    /**\n     * @private\n     */\n    __clearValidationResults() {\n      this.__syncValidationResult = [];\n      this.__asyncValidationResult = [];\n    }\n\n    /**\n     * @param {Event|CustomEvent} e\n     * @protected\n     */\n    _onValidatorUpdated(e) {\n      if (e.type === 'param-changed' || e.type === 'config-changed') {\n        this.validate();\n      }\n    }\n\n    /**\n     * @private\n     */\n    __setupValidators() {\n      const events = ['param-changed', 'config-changed'];\n\n      for (const validatorToCleanup of this.__prevValidators || []) {\n        for (const eventToCleanup of events) {\n          validatorToCleanup.removeEventListener?.(eventToCleanup, this._onValidatorUpdated);\n        }\n        validatorToCleanup.onFormControlDisconnect(\n          /** @type {import('../../types/FormControlMixinTypes.js').FormControlHost} */ (\n            /** @type {unknown} */ (this)\n          ),\n        );\n      }\n\n      for (const validatorToSetup of this._allValidators) {\n        if (!(validatorToSetup instanceof Validator)) {\n          // throws in constructor are not visible to end user so we do both\n          const errorType = Array.isArray(validatorToSetup) ? 'array' : typeof validatorToSetup;\n          const errorMessage = `Validators array only accepts class instances of Validator. Type \"${errorType}\" found. This may be caused by having multiple installations of \"@lion/ui/form-core.js\".`;\n          // eslint-disable-next-line no-console\n          console.error(errorMessage, this);\n          throw new Error(errorMessage);\n        }\n        const ctor = /** @type {ValidateHostConstructor} */ (this.constructor);\n        const vCtor = /** @type {typeof Validator} */ (validatorToSetup.constructor);\n        if (ctor.validationTypes.indexOf(validatorToSetup.type) === -1) {\n          // throws in constructor are not visible to end user so we do both\n          const errorMessage = `This component does not support the validator type \"${validatorToSetup.type}\" used in \"${vCtor.validatorName}\". You may change your validators type or add it to the components \"static get validationTypes() {}\".`;\n          // eslint-disable-next-line no-console\n          console.error(errorMessage, this);\n          throw new Error(errorMessage);\n        }\n\n        /**\n         * Updated the code to fix issue #1607 to sync the calendar date with validators params\n         * Here _onValidatorUpdated is responsible for responding to the event\n         */\n        for (const eventToSetup of events) {\n          validatorToSetup.addEventListener?.(eventToSetup, e => {\n            // @ts-ignore for making validator param dynamic\n            this._onValidatorUpdated(e, { validator: validatorToSetup });\n          });\n        }\n        validatorToSetup.onFormControlConnect(this);\n      }\n      this.__prevValidators = this._allValidators;\n    }\n\n    /**\n     * Helper method for the mutually exclusive Required Validator\n     * @param {?} v\n     * @private\n     */\n    __isEmpty(v) {\n      if (typeof this._isEmpty === 'function') {\n        return this._isEmpty(v);\n      }\n      return (\n        this.modelValue === null || typeof this.modelValue === 'undefined' || this.modelValue === ''\n      );\n    }\n\n    // ------------------------------------------------------------------------------------------\n    // -- Feedback specifics --------------------------------------------------------------------\n    // ------------------------------------------------------------------------------------------\n\n    /**\n     * @typedef {object} FeedbackMessage\n     * @property {string | Node} message this\n     * @property {string} type will be 'error' for messages from default Validators. Could be\n     * 'warning', 'info' etc. for Validators with custom types. Needed as a directive for\n     * feedbackNode how to render a message of a certain type\n     * @property {Validator} [validator] when the message is directly coupled to a Validator\n     * (in most cases), this property is filled. When a message is not coupled to a Validator\n     * (in case of success feedback which is based on a diff or current and previous validation\n     * results), this property can be left empty.\n     */\n\n    /**\n     * @param {ValidationResultEntry[]} validationResults list of objects having a .getMessage method\n     * @return {Promise.<FeedbackMessage[]>}\n     * @private\n     */\n    async __getFeedbackMessages(validationResults) {\n      let fieldName = await this.fieldName;\n      return Promise.all(\n        validationResults.map(async ({ validator, outcome }) => {\n          if (validator.config.fieldName) {\n            fieldName = await validator.config.fieldName;\n          }\n          // @ts-ignore [allow-protected]\n          const message = await validator._getMessage({\n            modelValue: this.modelValue,\n            formControl: this,\n            fieldName,\n            outcome,\n          });\n          return { message, type: validator.type, validator };\n        }),\n      );\n    }\n\n    /**\n     * Responsible for retrieving messages from Validators and\n     * (delegation of) rendering them.\n     *\n     * For `._feedbackNode` (extension of LionValidationFeedback):\n     * - retrieve messages from highest prio Validators\n     * - provide the result to custom feedback node and let the\n     * custom node decide on their renderings\n     *\n     * In both cases:\n     * - we compute the 'show' flag (like 'hasErrorVisible') for all types\n     * - we set the customValidity message of the highest prio Validator\n     * - we set aria-invalid=\"true\" in case hasErrorVisible is true\n     * @protected\n     */\n    _updateFeedbackComponent() {\n      const { _feedbackNode } = this;\n      if (!_feedbackNode) {\n        return;\n      }\n\n      if (!this.__feedbackQueue) {\n        this.__feedbackQueue = new AsyncQueue();\n      }\n\n      if (this.showsFeedbackFor.length > 0) {\n        this.__feedbackQueue.add(async () => {\n          /** @type {Validator[]} */\n          const prioritizedValidators = this._prioritizeAndFilterFeedback({\n            validationResult: this.__validationResult.map(entry => entry.validator),\n          });\n\n          this.__prioritizedResult = prioritizedValidators\n            .map(v => {\n              const found = /** @type {ValidationResultEntry} */ (\n                this.__validationResult.find(r => v === r.validator)\n              );\n              return found;\n            })\n            .filter(Boolean);\n\n          if (this.__prioritizedResult.length > 0) {\n            this.__prevShownValidationResult = this.__prioritizedResult;\n          }\n\n          const messageMap = await this.__getFeedbackMessages(this.__prioritizedResult);\n          _feedbackNode.feedbackData = messageMap || [];\n        });\n      } else {\n        this.__feedbackQueue.add(async () => {\n          _feedbackNode.feedbackData = [];\n        });\n      }\n      this.feedbackComplete = this.__feedbackQueue.complete;\n    }\n\n    /**\n     * Default feedbackCondition condition, used by Subclassers, that will be used when\n     * `feedbackCondition()` is not overridden by Application Developer.\n     * Show the validity feedback when returning true, don't show when false\n     * @param {string} type could be 'error', 'warning', 'info', 'success' or any other custom\n     * Validator type\n     * @param {object} meta meta info (interaction states etc)\n     * @protected\n     */\n    // eslint-disable-next-line no-unused-vars\n    _showFeedbackConditionFor(type, meta) {\n      return true;\n    }\n\n    /**\n     * Allows Subclassers to add meta info for feedbackCondition\n     * @configurable\n     */\n    get _feedbackConditionMeta() {\n      return { modelValue: this.modelValue, el: this };\n    }\n\n    /**\n     * Allows the Application Developer to specify when a feedback message should be shown\n     * @example\n     * ```js\n     * feedbackCondition(type, meta, defaultCondition) {\n     *   if (type === 'info') {\n     *     return true;\n     *   } else if (type === 'prefilledOnly') {\n     *     return meta.prefilled;\n     *   }\n     *   return defaultCondition(type, meta);\n     * }\n     * ```\n     * @overridable\n     * @param {string} type could be 'error', 'warning', 'info', 'success' or any other custom\n     * Validator type\n     * @param {object} meta meta info (interaction states etc)\n     * @param {((type: string, meta: object) => boolean)} currentCondition this is the _showFeedbackConditionFor\n     * that can be used if a developer wants to override for a certain type, but wants to fallback\n     * for other types\n     * @returns {boolean}\n     */\n    feedbackCondition(\n      type,\n      meta = this._feedbackConditionMeta,\n      currentCondition = this._showFeedbackConditionFor.bind(this),\n    ) {\n      return currentCondition(type, meta);\n    }\n\n    /**\n     * Used to translate `.hasFeedbackFor` and `.shouldShowFeedbackFor` to `.showsFeedbackFor`\n     * @param {string} type\n     * @protected\n     */\n    _hasFeedbackVisibleFor(type) {\n      return this.hasFeedbackFor?.includes(type) && this.shouldShowFeedbackFor?.includes(type);\n    }\n\n    /**\n     * @param {import('lit').PropertyValues} changedProperties\n     */\n    updated(changedProperties) {\n      super.updated(changedProperties);\n\n      if (\n        changedProperties.has('shouldShowFeedbackFor') ||\n        changedProperties.has('hasFeedbackFor')\n      ) {\n        const ctor = /** @type {ValidateHostConstructor} */ (this.constructor);\n        // Necessary typecast because types aren't smart enough to understand that we filter out undefined\n        this.showsFeedbackFor = /** @type {string[]} */ (\n          ctor.validationTypes\n            .map(type => (this._hasFeedbackVisibleFor(type) ? type : undefined))\n            .filter(Boolean)\n        );\n        this._updateFeedbackComponent();\n      }\n\n      if (changedProperties.has('__childModelValueChanged') && this.__childModelValueChanged) {\n        this.validate({ clearCurrentResult: true });\n        this.__childModelValueChanged = false;\n      }\n\n      if (changedProperties.has('validationStates')) {\n        const prevStates = /** @type {{[key: string]: object;}} */ (\n          changedProperties.get('validationStates')\n        );\n        if (prevStates) {\n          Object.entries(this.validationStates).forEach(([type, feedbackObj]) => {\n            if (\n              prevStates[type] &&\n              JSON.stringify(feedbackObj) !== JSON.stringify(prevStates[type])\n            ) {\n              this.dispatchEvent(new CustomEvent(`${type}StateChanged`, { detail: feedbackObj }));\n            }\n          });\n        }\n      }\n    }\n\n    /**\n     * @protected\n     */\n    _updateShouldShowFeedbackFor() {\n      const ctor = /** @type {ValidateHostConstructor} */ (this.constructor);\n\n      // Necessary typecast because types aren't smart enough to understand that we filter out undefined\n      const newShouldShowFeedbackFor = /** @type {string[]} */ (\n        ctor.validationTypes\n          .map(type =>\n            this.feedbackCondition(\n              type,\n              this._feedbackConditionMeta,\n              this._showFeedbackConditionFor.bind(this),\n            )\n              ? type\n              : undefined,\n          )\n          .filter(Boolean)\n      );\n\n      if (JSON.stringify(this.shouldShowFeedbackFor) !== JSON.stringify(newShouldShowFeedbackFor)) {\n        this.shouldShowFeedbackFor = newShouldShowFeedbackFor;\n      }\n    }\n\n    /**\n     * Orders all active validators in this.__validationResult.\n     * Can also filter out occurrences (based on interaction states)\n     * @overridable\n     * @param {{ validationResult: Validator[] }} opts\n     * @return {Validator[]} ordered list of Validators with feedback messages visible to the end user\n     * @protected\n     */\n    _prioritizeAndFilterFeedback({ validationResult }) {\n      const ctor = /** @type {ValidateHostConstructor} */ (this.constructor);\n      const types = ctor.validationTypes;\n      // Sort all validators based on the type provided.\n      const res = validationResult\n        .filter(v =>\n          this.feedbackCondition(\n            v.type,\n            this._feedbackConditionMeta,\n            this._showFeedbackConditionFor.bind(this),\n          ),\n        )\n        .sort((a, b) => types.indexOf(a.type) - types.indexOf(b.type));\n      return res.slice(0, this._visibleMessagesAmount);\n    }\n  };\n\nexport const ValidateMixin = dedupeMixin(ValidateMixinImplementation);\n","/**\n * Return PascalCased version of the camelCased string\n *\n * @param {string} str\n * @return {string}\n */\nexport function pascalCase(str) {\n  return str.charAt(0).toUpperCase() + str.slice(1);\n}\n","/* eslint-disable class-methods-use-this */\n\nimport { dedupeMixin } from '@open-wc/dedupe-mixin';\nimport { FormControlMixin } from './FormControlMixin.js';\nimport { Unparseable } from './validate/Unparseable.js';\nimport { ValidateMixin } from './validate/ValidateMixin.js';\n\n/**\n * @typedef {import('../types/FormatMixinTypes.js').FormatMixin} FormatMixin\n * @typedef {import('../types/FormatMixinTypes.js').FormatOptions} FormatOptions\n * @typedef {import('../types/FormControlMixinTypes.js').ModelValueEventDetails} ModelValueEventDetails\n */\n\n// For a future breaking release:\n// - do not allow the private `.formattedValue` as property that can be set to\n// trigger a computation loop.\n// - do not fire events for those private and protected concepts\n// - simplify _calculateValues: recursive trigger lock can be omitted, since need for connecting\n// the loop via sync observers is not needed anymore.\n// - consider `formatOn` as an overridable function, by default something like:\n// `(!_isHandlingUserInput || !hasError) && !focused`\n// This would allow for more advanced scenarios, like formatting an input whenever it becomes valid.\n// This would make formattedValue as a concept obsolete, since for maximum flexibility, the\n// formattedValue condition needs to be evaluated right before syncing back to the view\n\n/**\n * @desc Designed to be applied on top of a LionField.\n * To understand all concepts within the Mixin, please consult the flow diagram in the\n * documentation.\n *\n * ## Flows\n * FormatMixin supports these two main flows:\n * [1] Application Developer sets `.modelValue`:\n *     Flow: `.modelValue` (formatter) -> `.formattedValue` -> `._inputNode.value`\n *                         (serializer) -> `.serializedValue`\n * [2] End user interacts with field:\n *     Flow: `@user-input-changed` (parser) -> `.modelValue` (formatter) -> `.formattedValue` - (debounce till reflect condition (formatOn) is met) -> `._inputNode.value`\n *                                 (serializer) -> `.serializedValue`\n *\n * For backwards compatibility with the platform, we also support `.value` as an api. In that case\n * the flow will be like [2], without the debounce.\n *\n * ## Difference between value, viewValue and formattedValue\n * A viewValue is a concept rather than a property. To be compatible with the platform api, the\n * property for the concept of viewValue is thus called `.value`.\n * When reading code and docs, one should be aware that the term viewValue is mostly used, but the\n * terms can be used interchangeably.\n * The `.formattedValue` should be seen as the 'scheduled' viewValue. It is computed realtime and\n * stores the output of formatter. It will replace viewValue. once condition `formatOn` is met.\n * Another difference is that formattedValue lives on `LionField`, whereas viewValue is shared\n * across `LionField` and `._inputNode`.\n *\n * For restoring serialized values fetched from a server, we could consider one extra flow:\n * [3] Application Developer sets `.serializedValue`:\n *     Flow: serializedValue (deserializer) -> `.modelValue` (formatter) -> `.formattedValue` -> `._inputNode.value`\n *\n * @type {FormatMixin}\n * @param {import('@open-wc/dedupe-mixin').Constructor<import('lit').LitElement>} superclass\n */\nconst FormatMixinImplementation = superclass =>\n  // @ts-ignore https://github.com/microsoft/TypeScript/issues/36821#issuecomment-588375051\n  class FormatMixin extends ValidateMixin(FormControlMixin(superclass)) {\n    /** @type {any} */\n    static get properties() {\n      return {\n        formattedValue: { attribute: false },\n        serializedValue: { attribute: false },\n        formatOptions: { attribute: false },\n      };\n    }\n\n    /**\n     * @param {string} [name]\n     * @param {unknown} [oldValue]\n     * @param {import('lit').PropertyDeclaration} [options]\n     * @returns {void}\n     */\n    requestUpdate(name, oldValue, options) {\n      super.requestUpdate(name, oldValue, options);\n\n      if (name === 'modelValue' && this.modelValue !== oldValue) {\n        this._onModelValueChanged({ modelValue: this.modelValue }, { modelValue: oldValue });\n      }\n      if (name === 'serializedValue' && this.serializedValue !== oldValue) {\n        this._calculateValues({ source: 'serialized' });\n      }\n      if (name === 'formattedValue' && this.formattedValue !== oldValue) {\n        this._calculateValues({ source: 'formatted' });\n      }\n    }\n\n    /**\n     * The view value. Will be delegated to `._inputNode.value`\n     */\n    get value() {\n      return (this._inputNode && this._inputNode.value) || this.__value || '';\n    }\n\n    /** @param {string} value */\n    set value(value) {\n      // if not yet connected to dom can't change the value\n      if (this._inputNode) {\n        this._inputNode.value = value;\n        /** @type {string | undefined} */\n        this.__value = undefined;\n      } else {\n        this.__value = value;\n      }\n    }\n\n    /**\n     * Preprocessors could be considered 'live formatters'. Their result is shown to the user\n     * on keyup instead of after blurring the field. The biggest difference between preprocessors\n     * and formatters is their moment of execution: preprocessors are run before modelValue is\n     * computed (and work based on view value), whereas formatters are run after the parser (and\n     * are based on modelValue)\n     * Automatically formats code while typing. It depends on a preprocessro that smartly\n     * updates the viewValue and caret position for best UX.\n     * @example\n     * ```js\n     * preprocessor(viewValue) {\n     *   // only use digits\n     *   return viewValue.replace(/\\D/g, '');\n     * }\n     * @param {string} v - the raw value from the <input> after keyUp/Down event\n     * @param {FormatOptions & { prevViewValue: string; currentCaretIndex: number }} opts - the raw value from the <input> after keyUp/Down event\n     * @returns {{ viewValue:string; caretIndex:number; }|string|undefined} preprocessedValue: the result of preprocessing for invalid input\n     */\n    // eslint-disable-next-line no-unused-vars\n    preprocessor(v, opts) {\n      return undefined;\n    }\n\n    /**\n     * Converts viewValue to modelValue\n     * For instance, a localized date to a Date Object\n     * @param {string} v - viewValue: the formatted value inside <input>\n     * @param {FormatOptions} opts\n     * @returns {*} modelValue\n     */\n    // eslint-disable-next-line no-unused-vars\n    parser(v, opts) {\n      return v;\n    }\n\n    /**\n     * Converts modelValue to formattedValue (formattedValue will be synced with\n     * `._inputNode.value`)\n     * For instance, a Date object to a localized date.\n     * @param {*} v - modelValue: can be an Object, Number, String depending on the\n     * input type(date, number, email etc)\n     * @param {FormatOptions} opts\n     * @returns {string} formattedValue\n     */\n    // eslint-disable-next-line no-unused-vars\n    formatter(v, opts) {\n      return v;\n    }\n\n    /**\n     * Converts `.modelValue` to `.serializedValue`\n     * For instance, a Date object to an iso formatted date string\n     * @param {?} v - modelValue: can be an Object, Number, String depending on the\n     * input type(date, number, email etc)\n     * @returns {string} serializedValue\n     */\n    serializer(v) {\n      return v !== undefined ? v : '';\n    }\n\n    /**\n     * Converts `.serializedValue` to `.modelValue`\n     * For instance, an iso formatted date string to a Date object\n     * @param {?} v - modelValue: can be an Object, Number, String depending on the\n     * input type(date, number, email etc)\n     * @returns {?} modelValue\n     */\n    deserializer(v) {\n      return v === undefined ? '' : v;\n    }\n\n    /**\n     * Responsible for storing all representations(modelValue, serializedValue, formattedValue\n     * and value) of the input value. Prevents infinite loops, so all value observers can be\n     * treated like they will only be called once, without indirectly calling other observers.\n     * (in fact, some are called twice, but the __preventRecursiveTrigger lock prevents the\n     * second call from having effect).\n     *\n     * @param {{source:'model'|'serialized'|'formatted'|null}} config - the type of value that triggered this method. It should not be\n     * set again, so that its observer won't be triggered. Can be:\n     * 'model'|'formatted'|'serialized'.\n     * @protected\n     */\n    _calculateValues({ source } = { source: null }) {\n      if (this.__preventRecursiveTrigger) return; // prevent infinite loops\n\n      /** @type {boolean} */\n      this.__preventRecursiveTrigger = true;\n      if (source !== 'model') {\n        if (source === 'serialized') {\n          /** @type {?} */\n          this.modelValue = this.deserializer(this.serializedValue);\n        } else if (source === 'formatted') {\n          this.modelValue = this._callParser();\n        }\n      }\n      if (source !== 'formatted') {\n        this.formattedValue = this._callFormatter();\n      }\n      if (source !== 'serialized') {\n        this.serializedValue = this.serializer(this.modelValue);\n      }\n      this._reflectBackFormattedValueToUser();\n      this.__preventRecursiveTrigger = false;\n      this.__prevViewValue = this.value;\n    }\n\n    /**\n     * @param {string|undefined} value\n     * @return {?}\n     * @private\n     */\n    _callParser(value = this.formattedValue) {\n      // A) check if we need to parse at all\n\n      // A.1) The end user had no intention to parse\n      if (value === '') {\n        // Ideally, modelValue should be undefined for empty strings.\n        // For backwards compatibility we return an empty string:\n        // - it can be expected by 3rd parties (for instance unit tests)\n        // TODO(@tlouisse): In a breaking refactor of the Validation System, this behavior can be corrected.\n        return '';\n      }\n\n      // A.2) Handle edge cases. We might have no view value yet, for instance because\n      // _inputNode.value was not available yet\n      if (typeof value !== 'string') {\n        // This means there is nothing to find inside the view that can be of\n        // interest to the Application Developer or needed to store for future\n        // form state retrieval.\n        return undefined;\n      }\n\n      // B) parse the view value\n\n      // - if result:\n      // return the successfully parsed viewValue\n      // - if no result:\n      // Apparently, the parser was not able to produce a satisfactory output for the desired\n      // modelValue type, based on the current viewValue. Unparseable allows to restore all\n      // states (for instance from a lost user session), since it saves the current viewValue.\n      const result = this.parser(value, this.formatOptions);\n      return result !== undefined ? result : new Unparseable(value);\n    }\n\n    /**\n     * @returns {string|undefined}\n     * @private\n     */\n    _callFormatter() {\n      // - Why check for this.hasError?\n      // We only want to format values that are considered valid. For best UX,\n      // we only 'reward' valid inputs.\n      // - Why check for _isHandlingUserInput?\n      // Downwards sync is prevented whenever we are in an `@user-input-changed` flow, [2].\n      // If we are in a 'imperatively set `.modelValue`' flow, [1], we want to reflect back\n      // the value, no matter what.\n      // This means, whenever we are in hasError and modelValue is set\n      // imperatively, we DO want to format a value (it is the only way to get meaningful\n      // input into `._inputNode` with modelValue as input)\n\n      if (\n        this._isHandlingUserInput &&\n        this.hasFeedbackFor?.length &&\n        this.hasFeedbackFor.includes('error') &&\n        this._inputNode\n      ) {\n        return this._inputNode ? this.value : undefined;\n      }\n\n      if (this.modelValue instanceof Unparseable) {\n        // When the modelValue currently is unparseable, we need to sync back the supplied\n        // viewValue. In flow [2], this should not be needed.\n        // In flow [1] (we restore a previously stored modelValue) we should sync down, however.\n        return this.modelValue.viewValue;\n      }\n\n      return this.formatter(this.modelValue, this.formatOptions);\n    }\n\n    /**\n     * Responds to modelValue changes in the synchronous cycle (most subclassers should listen to\n     * the asynchronous cycle ('modelValue' in the .updated lifecycle))\n     * @param {{ modelValue: unknown; }[]} args\n     * @protected\n     */\n    _onModelValueChanged(...args) {\n      this._calculateValues({ source: 'model' });\n      this._dispatchModelValueChangedEvent(...args);\n    }\n\n    /**\n     * This is wrapped in a distinct method, so that parents can control when the changed event\n     * is fired. For objects, a deep comparison might be needed.\n     * @param {{ modelValue: unknown; }[]} args\n     * @protected\n     */\n    // eslint-disable-next-line no-unused-vars\n    _dispatchModelValueChangedEvent(...args) {\n      /** @event model-value-changed */\n      this.dispatchEvent(\n        /** @privateEvent model-value-changed: FormControl redispatches it as public event */\n        new CustomEvent('model-value-changed', {\n          bubbles: true,\n          detail: /** @type { ModelValueEventDetails } */ (\n            /** @type {unknown} */ ({\n              formPath: [this],\n              isTriggeredByUser: Boolean(this._isHandlingUserInput),\n            })\n          ),\n        }),\n      );\n    }\n\n    /**\n     * Synchronization from `._inputNode.value` to `LionField` (flow [2])\n     * Downwards syncing should only happen for `LionField`.value changes from 'above'.\n     * This triggers _onModelValueChanged and connects user input\n     * to the parsing/formatting/serializing loop.\n     * @protected\n     */\n    _syncValueUpwards() {\n      if (!this.__isHandlingComposition) {\n        this.__handlePreprocessor();\n      }\n      const prevFormatted = this.formattedValue;\n      this.modelValue = this._callParser(this.value);\n\n      // Sometimes, the formattedValue didn't change, but the viewValue did...\n      // We need this check to support pasting values that need to be formatted right on paste\n      if (prevFormatted === this.formattedValue && this.__prevViewValue !== this.value) {\n        this._calculateValues();\n      }\n    }\n\n    /**\n     * Handle view value and caretIndex, depending on return type of .preprocessor.\n     * @private\n     */\n    __handlePreprocessor() {\n      const unprocessedValue = this.value;\n      let currentCaretIndex = this.value.length;\n      // Be gentle with Safari\n      if (\n        this._inputNode &&\n        'selectionStart' in this._inputNode &&\n        /** @type {HTMLInputElement} */ (this._inputNode)?.type !== 'range'\n      ) {\n        currentCaretIndex = /** @type {number} */ (this._inputNode.selectionStart);\n      }\n      const preprocessedValue = this.preprocessor(this.value, {\n        ...this.formatOptions,\n        currentCaretIndex,\n        prevViewValue: this.__prevViewValue,\n      });\n\n      this.__prevViewValue = unprocessedValue;\n      if (preprocessedValue === undefined) {\n        // Make sure we do no set back original value, so we preserve\n        // caret index (== selectionStart/selectionEnd)\n        return;\n      }\n      if (typeof preprocessedValue === 'string') {\n        this.value = preprocessedValue;\n      } else if (typeof preprocessedValue === 'object') {\n        const { viewValue, caretIndex } = preprocessedValue;\n        this.value = viewValue;\n        if (caretIndex && this._inputNode && 'selectionStart' in this._inputNode) {\n          this._inputNode.selectionStart = caretIndex;\n          this._inputNode.selectionEnd = caretIndex;\n        }\n      }\n    }\n\n    /**\n     * Synchronization from `LionField.value` to `._inputNode.value`\n     * - flow [1] will always be reflected back\n     * - flow [2] will not be reflected back when this flow was triggered via\n     *   `@user-input-changed` (this will happen later, when `formatOn` condition is met)\n     * @protected\n     */\n    _reflectBackFormattedValueToUser() {\n      if (this._reflectBackOn()) {\n        // Text 'undefined' should not end up in <input>\n        this.value = typeof this.formattedValue !== 'undefined' ? this.formattedValue : '';\n      }\n    }\n\n    /**\n     * Every time .formattedValue is attempted to sync to the view value (on change/blur and on\n     * modelValue change), this condition is checked. When enhancing it, it's recommended to\n     * call via `return this._myExtraCondition && super._reflectBackOn()`\n     * @overridable\n     * @return {boolean}\n     * @protected\n     */\n    _reflectBackOn() {\n      return !this._isHandlingUserInput;\n    }\n\n    /**\n     * This can be called whenever the view value should be updated. Dependent on component type\n     * (\"input\" for <input> or \"change\" for <select>(mainly for IE)) a different event should be\n     * used  as source for the \"user-input-changed\" event (which can be seen as an abstraction\n     * layer on top of other events (input, change, whatever))\n     * @protected\n     */\n    _proxyInputEvent() {\n      // TODO: [v1] remove composed (and bubbles as well if possible)\n      /** @protectedEvent user-input-changed meant for usage by Subclassers only */\n      this.dispatchEvent(new Event('user-input-changed', { bubbles: true }));\n    }\n\n    /** @protected */\n    _onUserInputChanged() {\n      // Upwards syncing. Most properties are delegated right away, value is synced to\n      // `LionField`, to be able to act on (imperatively set) value changes\n      this._isHandlingUserInput = true;\n      this._syncValueUpwards();\n      this._isHandlingUserInput = false;\n    }\n\n    /**\n     * @param {Event} event\n     */\n    __onCompositionEvent({ type }) {\n      if (type === 'compositionstart') {\n        this.__isHandlingComposition = true;\n      } else if (type === 'compositionend') {\n        this.__isHandlingComposition = false;\n        // in all other cases this would be triggered via user-input-changed\n        this._syncValueUpwards();\n      }\n    }\n\n    constructor() {\n      super();\n\n      // TODO: [v1] delete; use 'change' event directly within this file\n      /**\n       * Event that will trigger formatting (more precise, visual update of the view, so the\n       * user sees the formatted value)\n       * Default: 'change'\n       * @deprecated use _reflectBackOn()\n       * @protected\n       */\n      this.formatOn = 'change';\n\n      /**\n       * Configuration object that will be available inside the formatter function\n       */\n      this.formatOptions = /** @type {FormatOptions} */ ({});\n\n      /**\n       * The view value is the result of the formatter function (when available).\n       * The result will be stored in the native _inputNode (usually an input[type=text]).\n       *\n       * Examples:\n       * - For a date input, this would be '20/01/1999' (dependent on locale).\n       * - For a number input, this could be '1,234.56' (a String representation of modelValue\n       * 1234.56)\n       * @type {string|undefined}\n       * @readOnly\n       */\n      this.formattedValue = undefined;\n\n      /**\n       * The serialized version of the model value.\n       * This value exists for maximal compatibility with the platform API.\n       * The serialized value can be an interface in context where data binding is not\n       * supported and a serialized string needs to be set.\n       *\n       * Examples:\n       * - For a date input, this would be the iso format of a date, e.g. '1999-01-20'.\n       * - For a number input this would be the String representation of a float ('1234.56'\n       *   instead of 1234.56)\n       *\n       * When no parser is available, the value is usually the same as the formattedValue\n       * (being _inputNode.value)\n       * @type {string|undefined}\n       */\n      this.serializedValue = undefined;\n\n      /**\n       * Whether the user is pasting content. Allows Subclassers to do this in their subclass:\n       * @example\n       * ```js\n       * _reflectBackOn() {\n       *   return super._reflectBackOn() || this._isPasting;\n       * }\n       * ```\n       * @protected\n       * @type {boolean}\n       */\n      this._isPasting = false;\n\n      /**\n       * Flag that will be set when user interaction takes place (for instance after an 'input'\n       * event). Will be added as meta info to the `model-value-changed` event. Depending on\n       * whether a user is interacting, formatting logic will be handled differently.\n       * @protected\n       * @type {boolean}\n       */\n      this._isHandlingUserInput = false;\n      /**\n       * @private\n       * @type {string}\n       */\n      this.__prevViewValue = '';\n      this.__onCompositionEvent = this.__onCompositionEvent.bind(this);\n      // This computes formattedValue\n      this.addEventListener('user-input-changed', this._onUserInputChanged);\n      // This sets the formatted viewValue after paste\n      this.addEventListener('paste', this.__onPaste);\n\n      /**\n       * @protected\n       */\n      this._reflectBackFormattedValueToUser = this._reflectBackFormattedValueToUser.bind(this);\n\n      /**\n       * @private\n       */\n      this._reflectBackFormattedValueDebounced = () => {\n        // Make sure this is fired after the change event of _inputNode, so that formattedValue\n        // is guaranteed to be calculated\n        setTimeout(this._reflectBackFormattedValueToUser);\n      };\n    }\n\n    /**\n     * @private\n     */\n    __onPaste() {\n      this._isPasting = true;\n      this.formatOptions.mode = 'pasted';\n      setTimeout(() => {\n        this._isPasting = false;\n        this.formatOptions.mode = 'auto';\n      });\n    }\n\n    connectedCallback() {\n      super.connectedCallback();\n\n      // Connect the value found in <input> to the formatting/parsing/serializing loop as a\n      // fallback mechanism. Assume the user uses the value property of the\n      // `LionField`(recommended api) as the api (this is a downwards sync).\n      // However, when no value is specified on `LionField`, have support for sync of the real\n      // input to the `LionField` (upwards sync).\n      if (typeof this.modelValue === 'undefined') {\n        this._syncValueUpwards();\n      }\n      /** @type {string} */\n      this.__prevViewValue = this.value;\n\n      this._reflectBackFormattedValueToUser();\n\n      if (this._inputNode) {\n        this._inputNode.addEventListener(this.formatOn, this._reflectBackFormattedValueDebounced);\n        this._inputNode.addEventListener('input', this._proxyInputEvent);\n        this._inputNode.addEventListener('compositionstart', this.__onCompositionEvent);\n        this._inputNode.addEventListener('compositionend', this.__onCompositionEvent);\n      }\n    }\n\n    disconnectedCallback() {\n      super.disconnectedCallback();\n      if (this._inputNode) {\n        this._inputNode.removeEventListener('input', this._proxyInputEvent);\n        this._inputNode.removeEventListener(\n          this.formatOn,\n          /** @type {EventListenerOrEventListenerObject} */ (\n            this._reflectBackFormattedValueDebounced\n          ),\n        );\n        this._inputNode.removeEventListener('compositionstart', this.__onCompositionEvent);\n        this._inputNode.removeEventListener('compositionend', this.__onCompositionEvent);\n      }\n    }\n  };\n\nexport const FormatMixin = dedupeMixin(FormatMixinImplementation);\n","import { dedupeMixin } from '@open-wc/dedupe-mixin';\nimport { FormControlMixin } from './FormControlMixin.js';\n\n/**\n * @typedef {import('../types/InteractionStateMixinTypes.js').InteractionStateMixin} InteractionStateMixin\n * @typedef {import('../types/InteractionStateMixinTypes.js').InteractionStates} InteractionStates\n */\n\n/**\n * @desc `InteractionStateMixin` adds meta information about touched and dirty states, that can\n * be read by other form components (ing-uic-input-error for instance, uses the touched state\n * to determine whether an error message needs to be shown).\n * Interaction states will be set when a user:\n * - leaves a form field(blur) -> 'touched' will be set to true. 'prefilled' when a\n *   field is left non-empty\n * - on keyup (actually, on the model-value-changed event) -> 'dirty' will be set to true\n *\n * @type {InteractionStateMixin}\n * @param {import('@open-wc/dedupe-mixin').Constructor<import('lit').LitElement>} superclass\n */\nconst InteractionStateMixinImplementation = superclass =>\n  // @ts-ignore https://github.com/microsoft/TypeScript/issues/36821#issuecomment-588375051\n  class InteractionStateMixin extends FormControlMixin(superclass) {\n    /** @type {any} */\n    static get properties() {\n      return {\n        touched: { type: Boolean, reflect: true },\n        dirty: { type: Boolean, reflect: true },\n        filled: { type: Boolean, reflect: true },\n        prefilled: { attribute: false },\n        submitted: { attribute: false },\n      };\n    }\n\n    /**\n     * @param {string} [name]\n     * @param {unknown} [oldValue]\n     * @param {import('lit').PropertyDeclaration} [options]\n     * @returns {void}\n     */\n    requestUpdate(name, oldValue, options) {\n      super.requestUpdate(name, oldValue, options);\n      if (name === 'touched' && this.touched !== oldValue) {\n        this._onTouchedChanged();\n      }\n\n      if (name === 'modelValue') {\n        // We do this in requestUpdate because we don't want to fire another re-render (e.g. when doing this in updated)\n        // Furthermore, we cannot do it on model-value-changed event because it isn't fired initially.\n        this.filled = !this._isEmpty();\n      }\n\n      if (name === 'dirty' && this.dirty !== oldValue) {\n        this._onDirtyChanged();\n      }\n    }\n\n    constructor() {\n      super();\n\n      /**\n       * True when user has focused and left(blurred) the field.\n       * @type {boolean}\n       */\n      this.touched = false;\n\n      /**\n       * True when user has changed the value of the field.\n       * @type {boolean}\n       */\n      this.dirty = false;\n\n      /**\n       * True when user has left non-empty field or input is prefilled.\n       * The name must be seen from the point of view of the input field:\n       * once the user enters the input field, the value is non-empty.\n       * @type {boolean}\n       */\n      this.prefilled = false;\n\n      /**\n       * True when the modelValue is non-empty (see _isEmpty in FormControlMixin)\n       * @type {boolean}\n       */\n      this.filled = false;\n\n      /**\n       * True when user has attempted to submit the form, e.g. through a button\n       * of type=\"submit\"\n       * @type {boolean}\n       */\n      // TODO: [v1] this might be fixable by scheduling property effects till firstUpdated\n      // this.submitted = false;\n\n      /**\n       * The event that triggers the touched state\n       * @type {string}\n       * @protected\n       */\n      this._leaveEvent = 'blur';\n\n      /**\n       * The event that triggers the dirty state\n       * @type {string}\n       * @protected\n       */\n      this._valueChangedEvent = 'model-value-changed';\n\n      /**\n       * @type {(event: Event) => unknown}\n       * @protected\n       */\n      this._iStateOnLeave = this._iStateOnLeave.bind(this);\n\n      /**\n       * @type {(event: Event) => unknown}\n       * @protected\n       */\n      this._iStateOnValueChange = this._iStateOnValueChange.bind(this);\n    }\n\n    /**\n     * Register event handlers and validate prefilled inputs\n     */\n    connectedCallback() {\n      super.connectedCallback();\n      this.addEventListener(this._leaveEvent, this._iStateOnLeave);\n      this.addEventListener(this._valueChangedEvent, this._iStateOnValueChange);\n      this.initInteractionState();\n    }\n\n    disconnectedCallback() {\n      super.disconnectedCallback();\n      this.removeEventListener(this._leaveEvent, this._iStateOnLeave);\n      this.removeEventListener(this._valueChangedEvent, this._iStateOnValueChange);\n    }\n\n    /**\n     * Evaluations performed on connectedCallback.\n     * This method is public, so it can be called at a later moment (when we need to wait for\n     * registering children for instance) as well.\n     * Since this method will be called twice in last mentioned scenario, it must stay idempotent.\n     */\n    initInteractionState() {\n      this.dirty = false;\n      this.prefilled = !this._isEmpty();\n    }\n\n    /**\n     * Sets touched value to true and reevaluates prefilled state.\n     * When false, on next interaction, user will start with a clean state.\n     * @protected\n     */\n    _iStateOnLeave() {\n      this.touched = true;\n      this.prefilled = !this._isEmpty();\n    }\n\n    /**\n     * Sets dirty value and validates when already touched or invalid\n     * @protected\n     */\n    _iStateOnValueChange() {\n      this.dirty = true;\n    }\n\n    /**\n     * Resets touched and dirty, and recomputes prefilled\n     */\n    resetInteractionState() {\n      this.touched = false;\n      this.submitted = false;\n      this.dirty = false;\n      this.prefilled = !this._isEmpty();\n    }\n\n    /**\n     * Dispatches event on touched state change\n     * @protected\n     */\n    _onTouchedChanged() {\n      /** @protectedEvent touched-changed */\n      this.dispatchEvent(new Event('touched-changed', { bubbles: true, composed: true }));\n    }\n\n    /**\n     * Dispatches event on touched state change\n     * @protected\n     */\n    _onDirtyChanged() {\n      /** @protectedEvent dirty-changed */\n      this.dispatchEvent(new Event('dirty-changed', { bubbles: true, composed: true }));\n    }\n\n    /**\n     * @override ValidateMixin\n     * Show the validity feedback when one of the following conditions is met:\n     *\n     * - submitted\n     *   If the form is submitted, always show the error message.\n     *\n     * - prefilled\n     *   the user already filled in something, or the value is prefilled\n     *   when the form is initially rendered.\n     *\n     * - touched && dirty\n     *   When a user starts typing for the first time in a field with for instance `required`\n     *   validation, error message should not be shown until a field becomes `touched`\n     *   (a user leaves(blurs) a field).\n     *   When a user enters a field without altering the value(making it `dirty`),\n     *   an error message shouldn't be shown either.\n     * @protected\n     * @param {string} type\n     * @param {InteractionStates} meta\n     */\n    // @ts-expect-error FIXME: istatemixin should implement validatemixin, then @override is valid\n    // eslint-disable-next-line class-methods-use-this, no-unused-vars\n    _showFeedbackConditionFor(type, meta) {\n      return (meta.touched && meta.dirty) || meta.prefilled || meta.submitted;\n    }\n\n    /**\n     * @enhance ValidateMixin\n     */\n    get _feedbackConditionMeta() {\n      return {\n        // @ts-ignore to fix, InteractionStateMixin needs to depend on ValidateMixin\n        ...super._feedbackConditionMeta,\n        submitted: this.submitted,\n        touched: this.touched,\n        dirty: this.dirty,\n        filled: this.filled,\n        prefilled: this.prefilled,\n      };\n    }\n  };\n\nexport const InteractionStateMixin = dedupeMixin(InteractionStateMixinImplementation);\n","import { LitElement } from 'lit';\nimport { SlotMixin } from '@lion/ui/core.js';\nimport { ValidateMixin } from './validate/ValidateMixin.js';\nimport { FocusMixin } from './FocusMixin.js';\nimport { FormatMixin } from './FormatMixin.js';\nimport { FormControlMixin } from './FormControlMixin.js';\nimport { InteractionStateMixin } from './InteractionStateMixin.js'; // applies FocusMixin\n\n/**\n * `LionField`: wraps <input>, <textarea>, <select> and other interactable elements.\n * Also it would follow a nice hierarchy: lion-form -> lion-fieldset -> lion-field\n *\n * Note: We don't support placeholders, because we have a helper text and\n * placeholders confuse the user with accessibility needs.\n *\n * Please see the docs for in depth information.\n *\n * @example\n * <lion-field name=\"myName\">\n *   <label slot=\"label\">My Input</label>\n *   <input type=\"text\" slot=\"input\">\n * </lion-field>\n *\n * @customElement lion-field\n */\nexport class LionField extends FormControlMixin(\n  InteractionStateMixin(FocusMixin(FormatMixin(ValidateMixin(SlotMixin(LitElement))))),\n) {\n  /**\n   * @param {import('lit').PropertyValues} changedProperties\n   */\n  firstUpdated(changedProperties) {\n    super.firstUpdated(changedProperties);\n    /** @type {any} */\n    this._initialModelValue = this.modelValue;\n  }\n\n  connectedCallback() {\n    super.connectedCallback();\n    this._onChange = this._onChange.bind(this);\n    this._inputNode.addEventListener('change', this._onChange);\n    this.classList.add('form-field'); // eslint-disable-line\n  }\n\n  disconnectedCallback() {\n    super.disconnectedCallback();\n    this._inputNode.removeEventListener('change', this._onChange);\n  }\n\n  resetInteractionState() {\n    super.resetInteractionState();\n    this.submitted = false;\n  }\n\n  /**\n   * Resets modelValue to initial value.\n   * Interaction states are cleared\n   */\n  reset() {\n    this.modelValue = this._initialModelValue;\n    this.resetInteractionState();\n  }\n\n  /**\n   * Clears modelValue.\n   * Interaction states are not cleared (use resetInteractionState for this)\n   */\n  clear() {\n    // TODO: [v1] set to undefined\n    this.modelValue = '';\n  }\n\n  /**\n   * Dispatches custom bubble event\n   * @param {Event=} ev\n   * @protected\n   */\n  // eslint-disable-next-line no-unused-vars\n  _onChange(ev) {\n    /** @protectedEvent user-input-changed */\n    this.dispatchEvent(new Event('user-input-changed', { bubbles: true }));\n  }\n\n  /**\n   * @configure InteractionStateMixin, ValidateMixin\n   */\n  get _feedbackConditionMeta() {\n    return { ...super._feedbackConditionMeta, focused: this.focused };\n  }\n\n  /**\n   * @configure FocusMixin\n   */\n  get _focusableNode() {\n    return this._inputNode;\n  }\n}\n","import { dedupeMixin } from '@open-wc/dedupe-mixin';\nimport { FormControlMixin } from './FormControlMixin.js';\nimport { FocusMixin } from './FocusMixin.js';\nimport { FormatMixin } from './FormatMixin.js';\n\n/**\n * @typedef {import('../types/NativeTextFieldMixinTypes.js').NativeTextFieldMixin} NativeTextFieldMixin\n * @type {NativeTextFieldMixin}\n * @param {import('@open-wc/dedupe-mixin').Constructor<import('lit').LitElement>} superclass} superclass\n */\nconst NativeTextFieldMixinImplementation = superclass =>\n  // @ts-ignore https://github.com/microsoft/TypeScript/issues/36821#issuecomment-588375051\n  class NativeTextFieldMixin extends FormatMixin(FocusMixin(FormControlMixin(superclass))) {\n    /** @type {any} */\n    static get properties() {\n      return {\n        autocomplete: { type: String, reflect: true },\n      };\n    }\n\n    constructor() {\n      super();\n\n      /**\n       * Delegates this property to input/textarea/select.\n       * @type {string | undefined}\n       */\n      this.autocomplete = undefined;\n    }\n\n    /**\n     * @protected\n     * @type {HTMLInputElement | HTMLTextAreaElement}\n     */\n    get _inputNode() {\n      return /** @type {HTMLInputElement | HTMLTextAreaElement} */ (super._inputNode);\n    }\n\n    /** @type {number} */\n    get selectionStart() {\n      const native = this._inputNode;\n      if (native && native.selectionStart) {\n        return native.selectionStart;\n      }\n      return 0;\n    }\n\n    set selectionStart(value) {\n      const native = this._inputNode;\n      if (native && native.selectionStart) {\n        native.selectionStart = value;\n      }\n    }\n\n    /** @type {number} */\n    get selectionEnd() {\n      const native = this._inputNode;\n      if (native && native.selectionEnd) {\n        return native.selectionEnd;\n      }\n      return 0;\n    }\n\n    set selectionEnd(value) {\n      const native = this._inputNode;\n      if (native && native.selectionEnd) {\n        native.selectionEnd = value;\n      }\n    }\n\n    /**\n     * The view value. Will be delegated to `._inputNode.value`\n     *\n     * Note: Overrides the implementation from FormatMixin\n     */\n    get value() {\n      return (this._inputNode && this._inputNode.value) || this.__value || '';\n    }\n\n    /**\n     * @param {string} value\n     * Note: Overridess the implementation from FormatMixin - We don't delegate, because we want to preserve caret position via _setValueAndPreserveCaret\n     */\n    set value(value) {\n      // if not yet connected to dom can't change the value\n      if (this._inputNode) {\n        // Only set if newValue is new, fix for Safari bug: https://github.com/ing-bank/lion/issues/1415\n        if (this._inputNode.value !== value) {\n          this._setValueAndPreserveCaret(value);\n        }\n        /** @type {string | undefined} */\n        this.__value = undefined;\n      } else {\n        this.__value = value;\n      }\n    }\n\n    /**\n     * Restores the cursor to its original position after updating the value.\n     * @param {string} newValue The value that should be saved.\n     * @protected\n     */\n    _setValueAndPreserveCaret(newValue) {\n      // Only preserve caret if focused (changing selectionStart will move focus in Safari)\n      if (this.focused) {\n        // Not all elements might have selection, and even if they have the\n        // right properties, accessing them might throw an exception (like for\n        // <input type=number>)\n        try {\n          // SelectElement doesn't have selectionStart/selectionEnd\n          if (!(this._inputNode instanceof HTMLSelectElement)) {\n            const start = this._inputNode.selectionStart;\n            this._inputNode.value = newValue;\n            // The cursor automatically jumps to the end after re-setting the value,\n            // so restore it to its original position.\n            this._inputNode.selectionStart = start;\n            this._inputNode.selectionEnd = start;\n          }\n        } catch (error) {\n          // Just set the value and give up on the caret.\n          this._inputNode.value = newValue;\n        }\n      } else {\n        this._inputNode.value = newValue;\n      }\n    }\n\n    /**\n     * Note: Overrides the implementation from FormatMixin\n     */\n    _reflectBackFormattedValueToUser() {\n      super._reflectBackFormattedValueToUser();\n      if (this._reflectBackOn() && this.focused) {\n        try {\n          // try/catch, because Safari is a bit sensitive here\n          this._inputNode.selectionStart = this._inputNode.value.length;\n          // eslint-disable-next-line no-empty\n        } catch (_) {}\n      }\n    }\n\n    /**\n     * @configure FocusMixin\n     */\n    get _focusableNode() {\n      return this._inputNode;\n    }\n  };\n\nexport const NativeTextFieldMixin = dedupeMixin(NativeTextFieldMixinImplementation);\n","import { LionField, NativeTextFieldMixin } from '@lion/ui/form-core.js';\n\n/**\n * LionInput: extension of lion-field with native input element in place and user friendly API.\n *\n * @customElement lion-input\n */\nexport class LionInput extends NativeTextFieldMixin(LionField) {\n  /** @type {any} */\n  static get properties() {\n    return {\n      /**\n       * A Boolean attribute which, if present, indicates that the user should not be able to edit\n       * the value of the input. The difference between disabled and readonly is that read-only\n       * controls can still function, whereas disabled controls generally do not function as\n       * controls until they are enabled.\n       *\n       * (From: https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input#attr-readonly)\n       */\n      readOnly: {\n        type: Boolean,\n        attribute: 'readonly',\n        reflect: true,\n      },\n      type: {\n        type: String,\n        reflect: true,\n      },\n      placeholder: {\n        type: String,\n        reflect: true,\n      },\n    };\n  }\n\n  get slots() {\n    return {\n      ...super.slots,\n      input: () => {\n        // TODO: Find a better way to do value delegation via attr\n        const native = document.createElement('input');\n        const value = this.getAttribute('value');\n        if (value) {\n          native.setAttribute('value', value);\n        }\n        return native;\n      },\n    };\n  }\n\n  /**\n   * @type {HTMLInputElement}\n   * @protected\n   */\n  get _inputNode() {\n    return /** @type {HTMLInputElement} */ (super._inputNode); // casts type\n  }\n\n  constructor() {\n    super();\n    this.readOnly = false;\n    this.type = 'text';\n    this.placeholder = '';\n  }\n\n  /**\n   * @param {string} [name]\n   * @param {unknown} [oldValue]\n   * @param {import('lit').PropertyDeclaration} [options]\n   * @returns {void}\n   */\n  requestUpdate(name, oldValue, options) {\n    super.requestUpdate(name, oldValue, options);\n    if (name === 'readOnly') {\n      this.__delegateReadOnly();\n    }\n  }\n\n  /** @param {import('lit').PropertyValues } changedProperties */\n  firstUpdated(changedProperties) {\n    super.firstUpdated(changedProperties);\n    this.__delegateReadOnly();\n  }\n\n  /** @param {import('lit').PropertyValues } changedProperties */\n  updated(changedProperties) {\n    super.updated(changedProperties);\n    if (changedProperties.has('type')) {\n      this._inputNode.type = this.type;\n    }\n\n    if (changedProperties.has('placeholder')) {\n      this._inputNode.placeholder = this.placeholder;\n    }\n\n    if (changedProperties.has('disabled')) {\n      this._inputNode.disabled = this.disabled;\n      this.validate();\n    }\n\n    if (changedProperties.has('name')) {\n      this._inputNode.name = this.name;\n    }\n\n    if (changedProperties.has('autocomplete')) {\n      this._inputNode.autocomplete = /** @type {string} */ (this.autocomplete);\n    }\n  }\n\n  /** @private */\n  __delegateReadOnly() {\n    if (this._inputNode) {\n      this._inputNode.readOnly = this.readOnly;\n    }\n  }\n}\n","import { LionInput } from '../input.js';\n\ncustomElements.define('lion-input', LionInput);\n","import { html, LitElement, css } from 'lit';\nimport { browserDetection, DisabledWithTabIndexMixin, uuid } from '@lion/ui/core.js';\n\nconst isKeyboardClickEvent = (/** @type {KeyboardEvent} */ e) => e.key === ' ' || e.key === 'Enter';\nconst isSpaceKeyboardClickEvent = (/** @type {KeyboardEvent} */ e) => e.key === ' ';\n\n/**\n * @typedef {import('lit').TemplateResult} TemplateResult\n */\n\n/**\n * Use LionButton (or LionButtonReset|LionButtonSubmit) when there is a need to extend HTMLButtonElement.\n * It allows to create complex shadow DOM for buttons needing this. Think of:\n * - a material Design button that needs a JS controlled ripple\n * - a LionSelectRich invoker that needs a complex shadow DOM structure\n * (for styling/maintainability purposes)\n * - a specialized button (for instance a primary button or icon button in a Design System) that\n * needs a simple api: `<my-button>text</my-button>` is always better than\n * `<button class=\"my-button\"><div class=\"my-button__container\">text</div><button>`\n *\n * In other cases, whenever you can, still use native HTMLButtonElement (`<button>`).\n *\n * Note that LionButton is meant for buttons with type=\"button\". It's cleaner and more\n * lightweight than LionButtonReset and LionButtonSubmit, which should only be considered when native\n * `<form>` support is needed:\n * - When type=\"reset|submit\" should be supported, use LionButtonReset.\n * - When implicit form submission should be supported on top, use LionButtonSubmit.\n */\nexport class LionButton extends DisabledWithTabIndexMixin(LitElement) {\n  static get properties() {\n    return {\n      active: { type: Boolean, reflect: true },\n      type: { type: String, reflect: true },\n    };\n  }\n\n  render() {\n    return html` <div class=\"button-content\" id=\"${this._buttonId}\"><slot></slot></div> `;\n  }\n\n  static get styles() {\n    return [\n      css`\n        :host {\n          position: relative;\n          display: inline-flex;\n          box-sizing: border-box;\n          vertical-align: middle;\n          line-height: 24px;\n          background-color: #eee; /* minimal styling to make it recognizable as btn */\n          padding: 8px; /* padding to fix with min-height */\n          outline: none; /* focus style handled below */\n          cursor: default; /* we should always see the default arrow, never a caret */\n          /* TODO: remove, native button also allows selection. Could be usability concern... */\n          user-select: none;\n          -webkit-user-select: none;\n          -moz-user-select: none;\n          -ms-user-select: none;\n        }\n\n        :host::before {\n          content: '';\n\n          /* center vertically and horizontally */\n          position: absolute;\n          top: 50%;\n          left: 50%;\n          transform: translate(-50%, -50%);\n\n          /* Minimum click area to meet [WCAG Success Criterion 2.5.5 Target Size (Enhanced)](https://www.w3.org/TR/WCAG22/#target-size-enhanced) */\n          min-height: 44px;\n          min-width: 44px;\n          width: 100%;\n          height: 100%;\n        }\n\n        .button-content {\n          display: flex;\n          align-items: center;\n          justify-content: center;\n        }\n\n        /* Show focus styles on keyboard focus. */\n        :host(:focus:not([disabled])),\n        :host(:focus-visible) {\n          /* if you extend, please overwrite */\n          outline: 2px solid #bde4ff;\n        }\n\n        /* Hide focus styles if they're not needed, for example,\n        when an element receives focus via the mouse. */\n        :host(:focus:not(:focus-visible)) {\n          outline: 0;\n        }\n\n        :host(:hover) {\n          /* if you extend, please overwrite */\n          background: #f4f6f7;\n        }\n\n        :host(:active), /* keep native :active to render quickly where possible */\n        :host([active]) /* use custom [active] to fix IE11 */ {\n          /* if you extend, please overwrite */\n          background: gray;\n        }\n\n        :host([hidden]) {\n          display: none;\n        }\n\n        :host([disabled]) {\n          pointer-events: none;\n          /* if you extend, please overwrite */\n          background: lightgray;\n          color: #adadad;\n          fill: #adadad;\n        }\n      `,\n    ];\n  }\n\n  constructor() {\n    super();\n    this.type = 'button';\n    this.active = false;\n\n    this._buttonId = uuid('button');\n    if (browserDetection.isIE11) {\n      this.updateComplete.then(() => {\n        if (!this.hasAttribute('aria-labelledby')) {\n          this.setAttribute('aria-labelledby', this._buttonId);\n        }\n      });\n    }\n    this.__setupEvents();\n  }\n\n  connectedCallback() {\n    super.connectedCallback();\n    if (!this.hasAttribute('role')) {\n      this.setAttribute('role', 'button');\n    }\n  }\n\n  /**\n   * @param {import('lit').PropertyValues } changedProperties\n   */\n  updated(changedProperties) {\n    super.updated(changedProperties);\n\n    if (changedProperties.has('disabled')) {\n      this.setAttribute('aria-disabled', `${this.disabled}`); // create mixin if we need it in more places\n    }\n  }\n\n  /**\n   * @private\n   */\n  __setupEvents() {\n    this.addEventListener('mousedown', this.__mousedownHandler);\n    this.addEventListener('keydown', this.__keydownHandler);\n    this.addEventListener('keyup', this.__keyupHandler);\n  }\n\n  /**\n   * @private\n   */\n  __mousedownHandler() {\n    this.active = true;\n    const mouseupHandler = () => {\n      this.active = false;\n      document.removeEventListener('mouseup', mouseupHandler);\n      this.removeEventListener('mouseup', mouseupHandler);\n    };\n    document.addEventListener('mouseup', mouseupHandler);\n    this.addEventListener('mouseup', mouseupHandler);\n  }\n\n  /**\n   * @param {KeyboardEvent} event\n   * @private\n   */\n  __keydownHandler(event) {\n    if (this.active || !isKeyboardClickEvent(event)) {\n      if (isSpaceKeyboardClickEvent(event)) {\n        event.preventDefault();\n      }\n      return;\n    }\n\n    if (isSpaceKeyboardClickEvent(event)) {\n      event.preventDefault();\n    }\n\n    this.active = true;\n    /**\n     * @param {KeyboardEvent} keyupEvent\n     */\n    const keyupHandler = keyupEvent => {\n      if (isKeyboardClickEvent(keyupEvent)) {\n        this.active = false;\n        document.removeEventListener('keyup', keyupHandler, true);\n      }\n    };\n    document.addEventListener('keyup', keyupHandler, true);\n  }\n\n  /**\n   * @param {KeyboardEvent} event\n   * @private\n   */\n  __keyupHandler(event) {\n    if (isKeyboardClickEvent(event)) {\n      // Fixes IE11 double submit/click. Enter keypress somehow triggers the __keyUpHandler on the native <button>\n      if (event.target && event.target !== this) {\n        return;\n      }\n      // dispatch click\n      this.click();\n    }\n  }\n}\n","import { LionButton } from '../button.js';\n\ncustomElements.define('lion-button', LionButton);\n","import { LitElement, html, css } from 'lit';\nimport '@lion/ui/define/lion-button.js';\n\nclass UserDetails extends LitElement {\n  static properties = {\n    user: { type: Object },\n    showPassword: { type: Boolean },\n  };\n\n  constructor() {\n    super();\n    this.user = {};\n    this.showPassword = false;\n  }\n\n  static styles = css`\n    .user-details {\n      border: 1px solid #ccc;\n      padding: 1em;\n      border-radius: 8px;\n      max-width: 300px;\n      margin: 2em auto;\n      text-align: center;\n    }\n    img {\n      border-radius: 50%;\n      width: 100px;\n      height: 100px;\n    }\n    .password {\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      gap: 0.5em;\n    }\n    lion-button {\n      padding: 0.5em;\n      background-color: #f8f8f8;\n      color: #000;\n      border: none;\n      cursor: pointer;\n    }\n    lion-button:hover {\n      background-color: #e6e6e6;\n    }\n  `;\n\n  render() {\n    return html`\n      <div class=\"user-details\">\n        <img src=${this.user.image} alt=\"User Avatar\" />\n        <h2>${this.user.name}</h2>\n        <div class=\"password\">\n          <input\n            type=${this.showPassword ? 'text' : 'password'}\n            .value=${this.user.password}\n            readonly\n          />\n          <lion-button @click=${this.toggleShowPassword}>\n            ${this.showPassword ? 'Hide' : 'Show'} Password\n          </lion-button>\n        </div>\n      </div>\n    `;\n  }\n\n  toggleShowPassword() {\n    this.showPassword = !this.showPassword;\n  }\n}\n\ncustomElements.define('user-details', UserDetails);\n","import { LitElement, html, css } from 'lit';\nimport '@lion/ui/define/lion-input.js';\nimport '@lion/ui/define/lion-button.js';\nimport './components/user-details.js';\n\nclass AuthSection extends LitElement {\n  static properties = {\n    loggedIn: { type: Boolean },\n    user: { type: Object },\n  };\n\n  constructor() {\n    super();\n    this.loggedIn = false;\n    this.user = null;\n  }\n\n  static styles = css`\n    .auth-container {\n      text-align: center;\n      margin-top: 2em;\n      max-width: 500px;\n      margin: 2em auto;\n    }\n    input {\n      display: block;\n      margin: 0.5em auto;\n      padding: 0.5em;\n      width: 200px;\n    }\n    lion-button {\n      padding: 0.5em 1em;\n      background-color: #3f6b8e;\n      color: white;\n      border: none;\n      cursor: pointer;\n    }\n    lion-button:hover {\n      background-color: #335d7c;\n    }\n\n    #logout {\n      background-color: #fc3d39;\n    }\n\n    #logout:hover {\n      background-color: #e02a2a;\n    }\n  `;\n\n  render() {\n    return html`\n      <div class=\"auth-container\">\n        ${this.loggedIn\n          ? html`\n              <p>Welcome, ${this.user.name}!</p>\n              <user-details .user=${this.user}></user-details>\n              <lion-button id=\"logout\" @click=${this.logout}\n                >Logout</lion-button\n              >\n            `\n          : html`\n              <lion-input\n                id=\"username\"\n                type=\"text\"\n                placeholder=\"Username\"\n              ></lion-input>\n              <lion-input\n                id=\"password\"\n                type=\"password\"\n                placeholder=\"Password\"\n              ></lion-input>\n              <lion-button @click=${this.login}>Login</lion-button>\n            `}\n      </div>\n    `;\n  }\n\n  login() {\n    const username = this.shadowRoot.getElementById('username').value;\n    const password = this.shadowRoot.getElementById('password').value;\n\n    if (username && password) {\n      this.user = {\n        name: username,\n        password,\n        image: 'https://via.placeholder.com/100',\n      };\n      this.loggedIn = true;\n    }\n  }\n\n  logout() {\n    this.user = null;\n    this.loggedIn = false;\n  }\n}\n\ncustomElements.define('auth-section', AuthSection);\n","import { LitElement, html, css } from 'lit';\nimport './login-header.js';\nimport './login-footer.js';\nimport './auth-section.js';\n\nclass LoginPage extends LitElement {\n  static properties = {\n    header: { type: String },\n  };\n\n  static styles = css`\n    :host {\n      background-color: var(--login-page-background-color);\n    }\n  `;\n\n  render() {\n    return html`\n      <login-header></login-header>\n      <main>\n        <auth-section></auth-section>\n      </main>\n      <login-footer></login-footer>\n    `;\n  }\n}\n\ncustomElements.define('login-page', LoginPage);\n"],"names":["t","globalThis","e","ShadowRoot","ShadyCSS","nativeShadow","Document","prototype","CSSStyleSheet","s","Symbol","o","WeakMap","n$4","constructor","this","_$cssResult$","Error","cssText","styleSheet","length","get","replaceSync","set","toString","i","reduce","n","S","adoptedStyleSheets","map","document","createElement","litNonce","setAttribute","textContent","appendChild","c","cssRules","r","is","defineProperty","getOwnPropertyDescriptor","getOwnPropertyNames","h","getOwnPropertySymbols","getPrototypeOf","Object","a","trustedTypes","l","emptyScript","p","reactiveElementPolyfillSupport","d","u","toAttribute","Boolean","Array","JSON","stringify","fromAttribute","Number","parse","f","y","attribute","type","String","converter","reflect","hasChanged","metadata","litPropertyMetadata","b","HTMLElement","addInitializer","_$Ei","push","observedAttributes","finalize","_$Eh","keys","createProperty","state","elementProperties","noAccessor","getPropertyDescriptor","call","requestUpdate","configurable","enumerable","getPropertyOptions","hasOwnProperty","Map","finalized","properties","_$Eu","elementStyles","finalizeStyles","styles","isArray","Set","flat","reverse","unshift","toLowerCase","super","_$Ep","isUpdatePending","hasUpdated","_$Em","_$Ev","_$ES","Promise","enableUpdating","_$AL","_$E_","forEach","addController","_$EO","add","renderRoot","isConnected","hostConnected","removeController","delete","size","createRenderRoot","shadowRoot","attachShadow","shadowRootOptions","connectedCallback","disconnectedCallback","hostDisconnected","attributeChangedCallback","_$AK","_$EC","removeAttribute","P","_$ET","has","_$Ej","reject","scheduleUpdate","performUpdate","wrapped","shouldUpdate","willUpdate","hostUpdate","update","_$EU","_$AE","hostUpdated","firstUpdated","updated","updateComplete","getUpdateComplete","mode","ReactiveElement","reactiveElementVersions","createPolicy","createHTML","Math","random","toFixed","slice","createComment","v","_","m","RegExp","g","$","x","_$litType$","strings","values","w","for","T","A","E","createTreeWalker","C","lastIndex","exec","test","startsWith","V","parts","el","currentNode","content","firstChild","replaceWith","childNodes","nextNode","nodeType","hasAttributes","getAttributeNames","endsWith","getAttribute","split","index","name","ctor","k","H","I","R","tagName","append","data","indexOf","innerHTML","N","_$Co","_$Cl","_$litDirective$","_$AO","_$AT","_$AS","_$AV","_$AN","_$AD","_$AM","parentNode","_$AU","creationScope","importNode","M","nextSibling","L","_$AI","_$Cv","_$AH","_$AA","_$AB","options","startNode","endNode","_$AR","iterator","insertBefore","createTextNode","_$AC","_$AP","remove","setConnected","element","fill","j","arguments","toggleAttribute","capture","once","passive","removeEventListener","addEventListener","handleEvent","host","Z","litHtmlPolyfillSupport","litHtmlVersions","renderBefore","_$litPart$","s$2","renderOptions","_$Do","render","_$litElement$","litElementHydrateSupport","LitElement","litElementPolyfillSupport","litElementVersions","Header","static","css","html","customElements","define","LoginFooter","appliedClassMixins","dedupeMixin","mixin","superClass","klass","wasMixinPreviouslyApplied","mixedClass","windowWithOptionalPolyfill","polyfilledNodes","FocusMixin","superclass","focused","focusedVisible","autofocus","changedProperties","__registerEventsForFocusMixin","__syncAutofocusToFocusableElement","__teardownEventsForFocusMixin","_focusableNode","hasAttribute","focus","blur","_inputNode","__onFocus","applyFocusVisiblePolyfill","matches","__onBlur","node","getRootNode","undefined","__redispatchFocus","ev","stopPropagation","dispatchEvent","Event","__redispatchBlur","__redispatchFocusin","bubbles","composed","__redispatchFocusout","DisabledMixin","disabled","_requestedToBeDisabled","__isUserSettingDisabled","__restoreDisabledTo","makeRequestToBeDisabled","__internalSetDisabled","retractRequestToBeDisabled","value","oldValue","DisabledWithTabIndexMixin","tabIndex","__isUserSettingTabIndex","__restoreTabIndexTo","__internalSetTabIndex","determineSlotFunctionResultType","slotFunctionResult","Node","isTemplateResult","SlotMixin","slots","__renderMetaPerSlot","__slotsThatNeedRerender","__slotsProvidedByUserOnFirstConnected","__privateSlots","_connectSlotMixin","__rerenderSlot","slotName","__renderTemplateInScopedContext","renderAsDirectHostChild","template","afterRender","supportsScopedRegistry","console","error","renderTargetThatRespectsShadowRootScoping","startComment","endComment","nodes","from","__appendNodes","renderParent","slot","rerenderTarget","Element","__initSlots","slotNames","__isConnectedSlotMixin","firstRenderOnConnected","allSlots","children","find","_isPrivateSlot","checkChrome","flavor","isChromium","chrome","winNav","navigator","vendorName","vendor","isOpera","isIEedge","userAgent","isIOSChrome","match","browserDetection","appVersion","uuid","prefix","substr","moveDownConditions","DOCUMENT_POSITION_PRECEDING","DOCUMENT_POSITION_CONTAINS","getAriaElementsInRightDomOrder","descriptionElements","descriptionEls","filter","sort","pos","compareDocumentPosition","includes","Unparseable","viewValue","FormRegisteringMixin","_parentFormGroup","allowCrossRootRegistration","__name","newName","oldName","CustomEvent","detail","__unregisterFormElement","removeFormElement","FormControlMixin","readOnly","label","labelSrOnly","helpText","modelValue","_ariaLabelledNodes","_ariaDescribedNodes","_repropagationRole","_isRepropagationEndpoint","__label","_labelNode","newValue","__helpText","_helpTextNode","fieldName","__fieldName","__getDirectSlotChild","_feedbackNode","_inputId","localName","_onLabelClick","bind","_enhanceLightDomClasses","_enhanceLightDomA11y","_triggerInitialModelValueChangedEvent","__reflectAriaAttr","__reorderAriaLabelledNodes","__reorderAriaDescribedNodes","_dispatchInitialModelValueChangedEvent","classList","id","addToAriaLabelledBy","idPrefix","addToAriaDescribedBy","_enhanceLightDomA11yForAdditionalSlots","additionalSlots","additionalSlot","attrName","reorder","insideNodes","contains","outsideNodes","insideSlots","assignedSlot","orderedInsideSlots","orderedInsideNodes","assignedNode","string","join","_groupOneTemplate","_groupTwoTemplate","_labelTemplate","_helpTextTemplate","_inputGroupTemplate","_feedbackTemplate","_inputGroupBeforeTemplate","_inputGroupPrefixTemplate","_inputGroupInputTemplate","_inputGroupSuffixTemplate","_inputGroupAfterTemplate","child","nothing","_isEmpty","Date","isNumberValue","isNaN","_getAriaDescriptionElements","removeFromAriaLabelledBy","splice","removeFromAriaDescribedBy","__repropagateChildrenInitialized","formPath","initialize","isTriggeredByUser","_onBeforeRepropagateChildrenValues","__repropagateChildrenValues","target","isEndpoint","stopImmediatePropagation","isSelfInitializing","isChildGroupInitializing","_repropagationCondition","parentFormPath","createCommonjsModule","fn","module","exports","LONG","SHORT","NARROW","NUMERIC","TWODIGIT","formatMessageFormats","number","decimal","style","integer","maximumFractionDigits","currency","percent","default","date","short","month","day","year","medium","long","full","weekday","time","hour","minute","second","timeZoneName","duration","hours","minimumIntegerDigits","minutes","seconds","parseNumberPattern","pattern","syms","replace","currencyDisplay","toUpperCase","useGrouping","minimumSignificantDigits","min","max","maximumSignificantDigits","fraction","minimumFractionDigits","parseDatePattern","current","era","hour12","zero","one","two","few","many","other","floor","abs","plurals","af","cardinal","ak","am","ar","ars","as","ordinal","asa","ast","az","be","bem","bez","bg","bh","bn","br","brx","bs","ca","ce","cgg","chr","ckb","cs","cy","da","de","dsb","dv","ee","en","eo","es","et","eu","fa","ff","fi","fil","fo","fr","fur","fy","ga","gd","gl","gsw","gu","guw","gv","ha","haw","he","hi","hr","hsb","hu","hy","ia","io","it","iu","iw","jgo","ji","jmc","ka","kab","kaj","kcg","kk","kkj","kl","kn","ks","ksb","ksh","ku","kw","ky","lag","lb","lg","ln","lt","lv","mas","mg","mgo","mk","ml","mn","mo","mr","mt","nah","naq","nb","nd","ne","nl","nn","nnh","no","nr","nso","ny","nyn","om","or","os","pa","pap","pl","prg","ps","pt","rm","ro","rof","ru","rwk","saq","sc","scn","sd","sdh","se","seh","sh","shi","si","sk","sl","sma","smi","smj","smn","sms","sn","so","sq","sr","ss","ssy","st","sv","sw","syr","ta","te","teo","ti","tig","tk","tl","tn","tr","ts","tzm","ug","uk","ur","uz","ve","vo","vun","wa","wae","xh","xog","yi","zu","lo","ms","vi","formatMessageInterpret","interpretAST","elements","parent","locale","types","offset","formatter","defaults","args","getArg","key","getFrmt","frmt","interpretElement","message","part","concat","ii","interpretNumber","locales","Intl","NumberFormat","format","interpretDateTime","DateTimeFormat","interpretPlural","pluralRules","pluralType","PluralRules","supportedLocalesOf","available","ll","candidate","pop","lookupClosestLocale","select","returnOther","toParts","spellout","fs","fm","fh","sep","isFinite","dur","plural","selectordinal","formatMessageParse","ARG_OPN","ARG_CLS","ARG_SEP","NUM_ARG","TAG_OPN","TAG_CLS","TAG_END","TAG_SELF_CLS","ESC","OFFSET","simpleTypes","submTypes","parseAST","parentType","start","text","parseText","tokens","expected","tagsType","parsePlaceholder","isHashSpecial","isAngleSpecial","isArgStyle","char","isWhitespace","charCodeAt","code","skipWhitespace","tag","parseId","end","closeId","parseTag","arg","isDigit","parsePluralOffset","parseSubMessages","parseSimpleFormat","isTag","selector","parseSubMessage","found","lines","line","column","errorMessage","SyntaxError","create","supportedExp","internals","MessageFormat","TypeError","messageFormat","defineProperties","formatToParts","writable","resolvedOptions","toStringTag","requestedLocales","LocalizeManager","autoLoadOnLocaleChange","fallbackLocale","showKeyAsFallback","allowOverridesForExistingNamespaces","__delegationTarget","createDocumentFragment","_autoLoadOnLocaleChange","_fallbackLocale","_showKeyAsFallback","__allowOverridesForExistingNamespaces","__storage","__namespacePatternsMap","__namespaceLoadersCache","__namespaceLoaderPromisesCache","formatNumberOptions","returnIfNaN","postProcessors","formatDateOptions","initialLocale","documentElement","_supportExternalTranslationTools","_setupTranslationToolSupport","lang","_setupHtmlLangAttributeObserver","_langAttrSetByTranslationTool","teardown","_teardownHtmlLangAttributeObserver","__locale","oldLocale","_setHtmlLangAttribute","__handleLanguageOnly","_onLocaleChanged","loadingComplete","all","resolve","reset","addData","namespace","_isNamespaceInCache","setupNamespaceLoader","loader","loadNamespaces","namespaces","loadNamespace","namespaceObj","isDynamicImport","existingLoaderPromise","_getCachedNamespaceLoaderPromise","_loadNamespaceData","msg","vars","opts","_getMessageForKeys","_htmlLangAttributeObserver","MutationObserver","mutations","mutation","observe","attributes","attributeFilter","attributeOldValue","disconnect","_getNamespaceLoader","loaderPromise","_getNamespaceLoaderPromise","_cacheNamespaceLoaderPromise","then","obj","isLocalizeESModule","_lookupNamespaceLoader","catch","_getLangFromLocale","fallbackLang","promise","isMatchingString","isMatchingRegexp","substring","listener","event","newLocale","_loadAllMissing","oldLocaleNamespaces","newLocaleNamespaces","_getMessageForKey","reversedKeys","ns","namesString","messages","result","setDatePostProcessorForLocale","postProcessor","setNumberPostProcessorForLocale","sym","globalThisOrWindow","window","singletonManager","_map","getLocalizeManager","localizeManager","i$1","_$Ct","_$Ci","_$AQ","reconnected","disconnected","setValue","Y","reconnect","deref","q","pause","resume","_$Cwt","_$Cbt","_$CK","_$CX","async","LocalizeMixin","localizeNamespaces","waitForLocalizeNamespaces","_localizeManager","__boundLocalizeOnLocaleChanged","__localizeOnLocaleChanged","__boundLocalizeOnLocaleChanging","__localizeOnLocaleChanging","__localizeStartLoadingNamespaces","localizeNamespacesLoaded","__localizeMessageSync","onLocaleReady","msgLit","variables","until","__getUniqueNamespaces","uniqueNamespaces","uniqueNamespace","onLocaleChanged","onLocaleUpdated","version","versions","scopedElementsVersions","ScopedElementsMixin","scopedElementsVersion","registry","__registry","scopedElements","CustomElementRegistry","entries","BaseScopedElementsMixin","adoptStyles","OpenWcLitScopedElementsMixin","createScopedElement","defineScopedElement","registeredClass","createdRoot","AsyncQueue","__running","__queue","task","complete","__callComplete","__run","shift","SyncUpdatableMixin","__SyncUpdatableNamespace","__syncUpdatableInitialize","connected","__syncUpdatableHasChanged","initialized","queue","updateSync","localizeNamespaceLoader","import","LionValidationFeedback","feedbackData","_messageTemplate","currentType","clearTimeout","removeMessage","setTimeout","validator","Validator","EventTarget","param","config","__param","__config","execute","validatorName","_getMessage","composedData","params","getMessage","onFormControlConnect","formControl","onFormControlDisconnect","abortExecution","ResultValidator","executeOnResults","regularValidationResult","prevValidationResult","prevShownValidationResult","validators","Required","_compatibleRoles","_compatibleTags","inputNode","role","elementTagName","arrayDiff","array1","array2","ValidateMixin","hasFeedbackFor","shouldShowFeedbackFor","showsFeedbackFor","validationStates","isPending","defaultValidators","_visibleMessagesAmount","__childModelValueChanged","validationTypes","operationMode","feedback","feedbackEl","_allValidators","__syncValidationResult","__asyncValidationResult","__validationResult","__prevValidationResult","__prevShownValidationResult","_onValidatorUpdated","_updateFeedbackComponent","__isValidateInitialized","validate","__setupValidators","clearCurrentResult","_updateShouldShowFeedbackFor","_hasFeedbackVisibleFor","diff","str","charAt","validateComplete","__validateCompleteResolve","__clearValidationResults","__finishValidationPass","__executeValidators","isEmpty","__isEmpty","hasSingleValue","requiredValidator","outcome","syncValidationResult","metaValidators","syncValidators","asyncValidators","MetaValidator","hasAsync","__executeSyncValidators","__executeAsyncValidators","asyncValidationResult","outcomePromises","asyncExecutionResults","__executeMetaValidators","entry","syncAndAsyncOutcome","metaOutCome","acc","vCtor","events","validatorToCleanup","__prevValidators","eventToCleanup","validatorToSetup","eventToSetup","__getFeedbackMessages","validationResults","__feedbackQueue","prioritizedValidators","_prioritizeAndFilterFeedback","validationResult","__prioritizedResult","messageMap","feedbackComplete","_showFeedbackConditionFor","meta","_feedbackConditionMeta","feedbackCondition","currentCondition","prevStates","feedbackObj","newShouldShowFeedbackFor","res","FormatMixin","formattedValue","serializedValue","formatOptions","_onModelValueChanged","_calculateValues","source","__value","preprocessor","parser","serializer","deserializer","__preventRecursiveTrigger","_callParser","_callFormatter","_reflectBackFormattedValueToUser","__prevViewValue","_isHandlingUserInput","_dispatchModelValueChangedEvent","_syncValueUpwards","__isHandlingComposition","__handlePreprocessor","prevFormatted","unprocessedValue","currentCaretIndex","preprocessedValue","prevViewValue","caretIndex","selectionStart","selectionEnd","_reflectBackOn","_proxyInputEvent","_onUserInputChanged","__onCompositionEvent","formatOn","_isPasting","__onPaste","_reflectBackFormattedValueDebounced","InteractionStateMixin","touched","dirty","filled","prefilled","submitted","_onTouchedChanged","_onDirtyChanged","_leaveEvent","_valueChangedEvent","_iStateOnLeave","_iStateOnValueChange","initInteractionState","resetInteractionState","LionField","_initialModelValue","_onChange","clear","NativeTextFieldMixin","autocomplete","native","_setValueAndPreserveCaret","HTMLSelectElement","LionInput","placeholder","input","__delegateReadOnly","isKeyboardClickEvent","isSpaceKeyboardClickEvent","LionButton","active","_buttonId","__setupEvents","__mousedownHandler","__keydownHandler","__keyupHandler","mouseupHandler","preventDefault","keyupHandler","keyupEvent","click","UserDetails","user","showPassword","image","password","toggleShowPassword","AuthSection","loggedIn","logout","login","username","getElementById","LoginPage","header"],"mappings":"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","x_google_ignoreList":[0,1,2,3,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48]}